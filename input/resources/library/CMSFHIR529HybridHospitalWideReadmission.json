{
  "resourceType": "Library",
  "id": "CMSFHIR529HybridHospitalWideReadmission",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8480-6",
      "display": "Systolic blood pressure"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMSFHIR529HybridHospitalWideReadmission",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMSFHIR529HybridHospitalWideReadmission"
  } ],
  "version": "0.5.001",
  "name": "CMSFHIR529HybridHospitalWideReadmission",
  "title": "CMSFHIR529HybridHospitalWideReadmission",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-07-10T17:15:49+00:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "description": "CMSFHIR529HybridHospitalWideReadmission",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library CQMCommon",
    "resource": "https://madie.cms.gov/Library/CQMCommon|4.1.000"
  }, {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Library SDE",
    "resource": "https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"
  }, {
    "type": "depends-on",
    "display": "Code system LOINC",
    "resource": "http://loinc.org"
  }, {
    "type": "depends-on",
    "display": "Value set Bicarbonate lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139"
  }, {
    "type": "depends-on",
    "display": "Value set Creatinine lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Inpatient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
  }, {
    "type": "depends-on",
    "display": "Value set Glucose lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.134"
  }, {
    "type": "depends-on",
    "display": "Value set Hematocrit lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114"
  }, {
    "type": "depends-on",
    "display": "Value set Non Invasive Oxygen Therapy by Nasal Cannula or Mask",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209"
  }, {
    "type": "depends-on",
    "display": "Value set Non Invasive Oxygen Therapy Device Codes",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1170.57"
  }, {
    "type": "depends-on",
    "display": "Value set Medicare Advantage payer",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1104.12"
  }, {
    "type": "depends-on",
    "display": "Value set Medicare FFS payer",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1104.10"
  }, {
    "type": "depends-on",
    "display": "Value set Oxygen Saturation by Pulse Oximetry",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.151"
  }, {
    "type": "depends-on",
    "display": "Value set Potassium lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.117"
  }, {
    "type": "depends-on",
    "display": "Value set Sodium lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119"
  }, {
    "type": "depends-on",
    "display": "Value set White blood cells count lab test",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Inpatient Encounters",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Initial Population",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Body Temperature",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Heart Rate",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Oxygen Saturation",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Respiratory Rate",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Systolic Blood Pressure",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Bicarbonate Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Creatinine Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Glucose Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Hematocrit Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Potassium Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Sodium Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First White Blood Cells Lab Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With First Weight Recorded",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Encounter With Oxygen 60 Minutes Or Less Prior To ED Admission Or During ED",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Ethnicity",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Payer",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Race",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Sex",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Coding"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "status", "status.value", "period" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Coverage",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage" ],
    "mustSupport": [ "type" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1104.10"
    } ]
  }, {
    "type": "Coverage",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage" ],
    "mustSupport": [ "type" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1104.12"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-body-temperature" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-body-temperature" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-heart-rate" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-heart-rate" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-pulse-oximetry" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.151"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-pulse-oximetry" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.151"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-respiratory-rate" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-respiratory-rate" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-blood-pressure" ],
    "mustSupport": [ "effective", "status", "status.value", "component" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-blood-pressure" ],
    "mustSupport": [ "effective", "status", "status.value", "component" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.134"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.134"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.117"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.117"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value", "issued", "issued.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-body-weight" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-body-weight" ],
    "mustSupport": [ "effective", "status", "status.value", "value" ]
  }, {
    "type": "ServiceRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209"
    } ]
  }, {
    "type": "ServiceRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1170.57"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code", "performed", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "period" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVNGSElSNTI5SHlicmlkSG9zcGl0YWxXaWRlUmVhZG1pc3Npb24gdmVyc2lvbiAnMC41LjAwMScNCg0KdXNpbmcgUUlDb3JlIHZlcnNpb24gJzYuMC4wJw0KDQppbmNsdWRlIENRTUNvbW1vbiB2ZXJzaW9uICc0LjEuMDAwJyBjYWxsZWQgQ1FNQ29tbW9uDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuNC4wMDAnIGNhbGxlZCBGSElSSGVscGVycw0KaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbg0KaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHMgdmVyc2lvbiAnNS4xLjAwMCcgY2FsbGVkIFNERQ0KDQpjb2Rlc3lzdGVtICJMT0lOQyI6ICdodHRwOi8vbG9pbmMub3JnJw0KDQp2YWx1ZXNldCAiQmljYXJib25hdGUgbGFiIHRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjEzOScNCnZhbHVlc2V0ICJDcmVhdGluaW5lIGxhYiB0ZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjY2Ni41LjIzNjMnDQp2YWx1ZXNldCAiRW5jb3VudGVyIElucGF0aWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy42NjYuNS4zMDcnDQp2YWx1ZXNldCAiR2x1Y29zZSBsYWIgdGVzdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEwNDUuMTM0Jw0KdmFsdWVzZXQgIkhlbWF0b2NyaXQgbGFiIHRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjExNCcNCnZhbHVlc2V0ICJOb24gSW52YXNpdmUgT3h5Z2VuIFRoZXJhcHkgYnkgTmFzYWwgQ2FubnVsYSBvciBNYXNrIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMDknDQp2YWx1ZXNldCAiTm9uIEludmFzaXZlIE94eWdlbiBUaGVyYXB5IERldmljZSBDb2RlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNzAuNTcnDQp2YWx1ZXNldCAiTWVkaWNhcmUgQWR2YW50YWdlIHBheWVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTEwNC4xMicNCnZhbHVlc2V0ICJNZWRpY2FyZSBGRlMgcGF5ZXIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTA0LjEwJw0KdmFsdWVzZXQgIk94eWdlbiBTYXR1cmF0aW9uIGJ5IFB1bHNlIE94aW1ldHJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4xNTEnDQp2YWx1ZXNldCAiUG90YXNzaXVtIGxhYiB0ZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4xMTcnDQp2YWx1ZXNldCAiU29kaXVtIGxhYiB0ZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4xMTknDQp2YWx1ZXNldCAiV2hpdGUgYmxvb2QgY2VsbHMgY291bnQgbGFiIHRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjEyOScNCg0KY29kZSAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiOiAnODQ4MC02JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnU3lzdG9saWMgQlAnDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4NCiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wMDBaLCBAMjAyNy0wMS0wMVQwMDowMDowMC4wMDBaKQ0KDQpjb250ZXh0IFBhdGllbnQNCg0KZGVmaW5lICJJbml0aWFsIFBvcHVsYXRpb24iOg0KICAiSW5wYXRpZW50IEVuY291bnRlcnMiDQoNCmRlZmluZSAiSW5wYXRpZW50IEVuY291bnRlcnMiOg0KICBbRW5jb3VudGVyOiAiRW5jb3VudGVyIElucGF0aWVudCJdIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggKCBbQ292ZXJhZ2U6ICJNZWRpY2FyZSBGRlMgcGF5ZXIiXQ0KICAgICAgdW5pb24gW0NvdmVyYWdlOiAiTWVkaWNhcmUgQWR2YW50YWdlIHBheWVyIl0gKSBNZWRpY2FyZVBheWVyDQogICAgICBzdWNoIHRoYXQgKCBJbnBhdGllbnRFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlICggKS5sZW5ndGhJbkRheXMgKCApICkgPCAzNjUNCiAgICAgICAgYW5kIElucGF0aWVudEVuY291bnRlci5zdGF0dXMgPSAnZmluaXNoZWQnDQogICAgICAgIGFuZCBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIHN0YXJ0IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QpID49IDY1DQogICAgICAgIGFuZCBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kIGVuZHMgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KDQpkZWZpbmUgIlNERSBFbmNvdW50ZXIgV2l0aCBGaXJzdCBCb2R5IFRlbXBlcmF0dXJlIjoNCiAgIklucGF0aWVudCBFbmNvdW50ZXJzIiBFbmNvdW50ZXJJbnBhdGllbnQNCiAgICBsZXQgRmlyc3RUZW1wZXJhdHVyZTogRmlyc3QoW1VTQ29yZUJvZHlUZW1wZXJhdHVyZVByb2ZpbGVdIFRlbXBlcmF0dXJlDQogICAgICAgIHdoZXJlIFRlbXBlcmF0dXJlLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBFbmNvdW50ZXJJbnBhdGllbnQuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlKCkNCiAgICAgICAgICBhbmQgVGVtcGVyYXR1cmUuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgYW5kIFRlbXBlcmF0dXJlLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdFRlbXBlcmF0dXJlUmVzdWx0OiBGaXJzdFRlbXBlcmF0dXJlLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdFRlbXBlcmF0dXJlLmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIEZpcnN0IEhlYXJ0IFJhdGUiOg0KICAiSW5wYXRpZW50IEVuY291bnRlcnMiIEVuY291bnRlcklucGF0aWVudA0KICAgIGxldCBGaXJzdEhlYXJ0UmF0ZTogRmlyc3QoW1VTQ29yZUhlYXJ0UmF0ZVByb2ZpbGVdIEhlYXJ0UmF0ZQ0KICAgICAgICB3aGVyZSBIZWFydFJhdGUuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBIZWFydFJhdGUuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgYW5kIEhlYXJ0UmF0ZS52YWx1ZSBpcyBub3QgbnVsbA0KICAgICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICAgKQ0KICAgIHJldHVybiB7DQogICAgICBFbmNvdW50ZXJJZDogRW5jb3VudGVySW5wYXRpZW50LmlkLA0KICAgICAgRmlyc3RIZWFydFJhdGVSZXN1bHQ6IEZpcnN0SGVhcnRSYXRlLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdEhlYXJ0UmF0ZS5lZmZlY3RpdmUuZWFybGllc3QgKCApDQogICAgfQ0KDQpkZWZpbmUgIlNERSBFbmNvdW50ZXIgV2l0aCBGaXJzdCBPeHlnZW4gU2F0dXJhdGlvbiI6DQogICJJbnBhdGllbnQgRW5jb3VudGVycyIgRW5jb3VudGVySW5wYXRpZW50DQogICAgbGV0IEZpcnN0T3h5Z2VuU2F0OiBGaXJzdChbIlVTQ29yZVB1bHNlT3hpbWV0cnlQcm9maWxlIjogIk94eWdlbiBTYXR1cmF0aW9uIGJ5IFB1bHNlIE94aW1ldHJ5Il0gTzJTYXR1cmF0aW9uDQogICAgICAgIHdoZXJlIE8yU2F0dXJhdGlvbi5lZmZlY3RpdmUuZWFybGllc3QoKSBkdXJpbmcgRW5jb3VudGVySW5wYXRpZW50Lmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSgpDQogICAgICAgICAgYW5kIE8yU2F0dXJhdGlvbi5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgTzJTYXR1cmF0aW9uLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdE94eWdlblNhdFJlc3VsdDogRmlyc3RPeHlnZW5TYXQudmFsdWUgYXMgUXVhbnRpdHksDQogICAgICBUaW1pbmc6IEZpcnN0T3h5Z2VuU2F0LmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIEZpcnN0IFJlc3BpcmF0b3J5IFJhdGUiOg0KICAiSW5wYXRpZW50IEVuY291bnRlcnMiIEVuY291bnRlcklucGF0aWVudA0KICAgIGxldCBGaXJzdFJlc3BSYXRlOiBGaXJzdChbVVNDb3JlUmVzcGlyYXRvcnlSYXRlUHJvZmlsZV0gUmVzcGlyYXRpb25zDQogICAgICAgIHdoZXJlIFJlc3BpcmF0aW9ucy5lZmZlY3RpdmUuZWFybGllc3QoKSBkdXJpbmcgRW5jb3VudGVySW5wYXRpZW50Lmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSgpDQogICAgICAgICAgYW5kIFJlc3BpcmF0aW9ucy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgUmVzcGlyYXRpb25zLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdFJlc3BSYXRlUmVzdWx0OiBGaXJzdFJlc3BSYXRlLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdFJlc3BSYXRlLmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIEZpcnN0IFN5c3RvbGljIEJsb29kIFByZXNzdXJlIjoNCiAgIklucGF0aWVudCBFbmNvdW50ZXJzIiBFbmNvdW50ZXJJbnBhdGllbnQNCiAgICBsZXQgRmlyc3RTeXN0b2xpY0JQOiBGaXJzdChbIlVTQ29yZUJsb29kUHJlc3N1cmVQcm9maWxlIl0gQlANCiAgICAgICAgd2hlcmUgQlAuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBCUC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgQlAuY29tcG9uZW50LnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdFNCUFJlc3VsdDogRmlyc3RTeXN0b2xpY0JQLmNvbXBvbmVudCBDDQogICAgICAgIHdoZXJlIEMuY29kZSB+ICJTeXN0b2xpYyBibG9vZCBwcmVzc3VyZSINCiAgICAgICAgcmV0dXJuIEMudmFsdWUgYXMgUXVhbnRpdHksDQogICAgICBUaW1pbmc6IEZpcnN0U3lzdG9saWNCUC5lZmZlY3RpdmUuZWFybGllc3QgKCApDQogICAgfQ0KDQpkZWZpbmUgIlNERSBFbmNvdW50ZXIgV2l0aCBGaXJzdCBCaWNhcmJvbmF0ZSBMYWIgVGVzdCI6DQogICJJbnBhdGllbnQgRW5jb3VudGVycyIgRW5jb3VudGVySW5wYXRpZW50DQogICAgbGV0IEZpcnN0QmljYXJib25hdGVMYWI6IEZpcnN0KFsiTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIjogIkJpY2FyYm9uYXRlIGxhYiB0ZXN0Il0gYmljYXJib25hdGVsYWINCiAgICAgICAgd2hlcmUgYmljYXJib25hdGVsYWIuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBiaWNhcmJvbmF0ZWxhYi5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgYmljYXJib25hdGVsYWIudmFsdWUgaXMgbm90IG51bGwNCiAgICAgICAgc29ydCBieSBpc3N1ZWQuZWFybGllc3QoKQ0KICAgICkNCiAgICByZXR1cm4gew0KICAgICAgRW5jb3VudGVySWQ6IEVuY291bnRlcklucGF0aWVudC5pZCwNCiAgICAgIEZpcnN0UmVzdWx0OiBGaXJzdEJpY2FyYm9uYXRlTGFiLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdEJpY2FyYm9uYXRlTGFiLmlzc3VlZA0KICAgIH0NCg0KZGVmaW5lICJTREUgRW5jb3VudGVyIFdpdGggRmlyc3QgQ3JlYXRpbmluZSBMYWIgVGVzdCI6DQogICJJbnBhdGllbnQgRW5jb3VudGVycyIgRW5jb3VudGVySW5wYXRpZW50DQogICAgbGV0IEZpcnN0Q3JlYXRpbmluZUxhYjogRmlyc3QoWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiQ3JlYXRpbmluZSBsYWIgdGVzdCJdIENyZWF0aW5pbmVMYWINCiAgICAgICAgd2hlcmUgQ3JlYXRpbmluZUxhYi5lZmZlY3RpdmUuZWFybGllc3QoKSBkdXJpbmcgRW5jb3VudGVySW5wYXRpZW50Lmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSgpDQogICAgICAgICAgYW5kIENyZWF0aW5pbmVMYWIuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgYW5kIENyZWF0aW5pbmVMYWIudmFsdWUgaXMgbm90IG51bGwNCiAgICAgICAgc29ydCBieSBpc3N1ZWQuZWFybGllc3QoKQ0KICAgICkNCiAgICByZXR1cm4gew0KICAgICAgRW5jb3VudGVySWQ6IEVuY291bnRlcklucGF0aWVudC5pZCwNCiAgICAgIEZpcnN0UmVzdWx0OiBGaXJzdENyZWF0aW5pbmVMYWIudmFsdWUgYXMgUXVhbnRpdHksDQogICAgICBUaW1pbmc6IEZpcnN0Q3JlYXRpbmluZUxhYi5pc3N1ZWQNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIEZpcnN0IEdsdWNvc2UgTGFiIFRlc3QiOg0KICAiSW5wYXRpZW50IEVuY291bnRlcnMiIEVuY291bnRlcklucGF0aWVudA0KICAgIGxldCBGaXJzdEdsdWNvc2VMYWI6IEZpcnN0KFsiTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIjogIkdsdWNvc2UgbGFiIHRlc3QiXSBHbHVjb3NlTGFiDQogICAgICAgIHdoZXJlIEdsdWNvc2VMYWIuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBHbHVjb3NlTGFiLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICAgIGFuZCBHbHVjb3NlTGFiLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgaXNzdWVkLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdFJlc3VsdDogRmlyc3RHbHVjb3NlTGFiLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdEdsdWNvc2VMYWIuaXNzdWVkDQogICAgfQ0KDQpkZWZpbmUgIlNERSBFbmNvdW50ZXIgV2l0aCBGaXJzdCBIZW1hdG9jcml0IExhYiBUZXN0IjoNCiAgIklucGF0aWVudCBFbmNvdW50ZXJzIiBFbmNvdW50ZXJJbnBhdGllbnQNCiAgICBsZXQgRmlyc3RIZW1hdG9jcml0TGFiOiBGaXJzdChbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJIZW1hdG9jcml0IGxhYiB0ZXN0Il0gSGVtYXRvY3JpdExhYg0KICAgICAgICB3aGVyZSBIZW1hdG9jcml0TGFiLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBFbmNvdW50ZXJJbnBhdGllbnQuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlKCkNCiAgICAgICAgICBhbmQgSGVtYXRvY3JpdExhYi5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgSGVtYXRvY3JpdExhYi52YWx1ZSBpcyBub3QgbnVsbA0KICAgICAgICBzb3J0IGJ5IGlzc3VlZC5lYXJsaWVzdCgpDQogICAgKQ0KICAgIHJldHVybiB7DQogICAgICBFbmNvdW50ZXJJZDogRW5jb3VudGVySW5wYXRpZW50LmlkLA0KICAgICAgRmlyc3RSZXN1bHQ6IEZpcnN0SGVtYXRvY3JpdExhYi52YWx1ZSBhcyBRdWFudGl0eSwNCiAgICAgIFRpbWluZzogRmlyc3RIZW1hdG9jcml0TGFiLmlzc3VlZA0KICAgIH0NCg0KZGVmaW5lICJTREUgRW5jb3VudGVyIFdpdGggRmlyc3QgUG90YXNzaXVtIExhYiBUZXN0IjoNCiAgIklucGF0aWVudCBFbmNvdW50ZXJzIiBFbmNvdW50ZXJJbnBhdGllbnQNCiAgICBsZXQgRmlyc3RQb3Rhc3NpdW1MYWI6IEZpcnN0KFsiTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIjogIlBvdGFzc2l1bSBsYWIgdGVzdCJdIFBvdGFzc2l1bUxhYg0KICAgICAgICB3aGVyZSBQb3Rhc3NpdW1MYWIuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBQb3Rhc3NpdW1MYWIuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgYW5kIFBvdGFzc2l1bUxhYi52YWx1ZSBpcyBub3QgbnVsbA0KICAgICAgICBzb3J0IGJ5IGlzc3VlZC5lYXJsaWVzdCgpDQogICAgKQ0KICAgIHJldHVybiB7DQogICAgICBFbmNvdW50ZXJJZDogRW5jb3VudGVySW5wYXRpZW50LmlkLA0KICAgICAgRmlyc3RSZXN1bHQ6IEZpcnN0UG90YXNzaXVtTGFiLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdFBvdGFzc2l1bUxhYi5pc3N1ZWQNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIEZpcnN0IFNvZGl1bSBMYWIgVGVzdCI6DQogICJJbnBhdGllbnQgRW5jb3VudGVycyIgRW5jb3VudGVySW5wYXRpZW50DQogICAgbGV0IEZpcnN0U29kaXVtTGFiOiBGaXJzdChbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJTb2RpdW0gbGFiIHRlc3QiXSBTb2RpdW1MYWINCiAgICAgICAgd2hlcmUgU29kaXVtTGFiLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBFbmNvdW50ZXJJbnBhdGllbnQuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlKCkNCiAgICAgICAgICBhbmQgU29kaXVtTGFiLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICAgIGFuZCBTb2RpdW1MYWIudmFsdWUgaXMgbm90IG51bGwNCiAgICAgICAgc29ydCBieSBpc3N1ZWQuZWFybGllc3QoKQ0KICAgICkNCiAgICByZXR1cm4gew0KICAgICAgRW5jb3VudGVySWQ6IEVuY291bnRlcklucGF0aWVudC5pZCwNCiAgICAgIEZpcnN0UmVzdWx0OiBGaXJzdFNvZGl1bUxhYi52YWx1ZSBhcyBRdWFudGl0eSwNCiAgICAgIFRpbWluZzogRmlyc3RTb2RpdW1MYWIuaXNzdWVkDQogICAgfQ0KDQpkZWZpbmUgIlNERSBFbmNvdW50ZXIgV2l0aCBGaXJzdCBXaGl0ZSBCbG9vZCBDZWxscyBMYWIgVGVzdCI6DQogICJJbnBhdGllbnQgRW5jb3VudGVycyIgRW5jb3VudGVySW5wYXRpZW50DQogICAgbGV0IEZpcnN0V2hpdGVCbG9vZENlbGxMYWI6IEZpcnN0KFsiTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIjogIldoaXRlIGJsb29kIGNlbGxzIGNvdW50IGxhYiB0ZXN0Il0gV2hpdGVCbG9vZENlbGxMYWINCiAgICAgICAgd2hlcmUgV2hpdGVCbG9vZENlbGxMYWIuZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBXaGl0ZUJsb29kQ2VsbExhYi5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICBhbmQgV2hpdGVCbG9vZENlbGxMYWIudmFsdWUgaXMgbm90IG51bGwNCiAgICAgICAgc29ydCBieSBpc3N1ZWQuZWFybGllc3QoKQ0KICAgICkNCiAgICByZXR1cm4gew0KICAgICAgRW5jb3VudGVySWQ6IEVuY291bnRlcklucGF0aWVudC5pZCwNCiAgICAgIEZpcnN0UmVzdWx0OiBGaXJzdFdoaXRlQmxvb2RDZWxsTGFiLnZhbHVlIGFzIFF1YW50aXR5LA0KICAgICAgVGltaW5nOiBGaXJzdFdoaXRlQmxvb2RDZWxsTGFiLmlzc3VlZA0KICAgIH0NCg0KZGVmaW5lICJTREUgRW5jb3VudGVyIFdpdGggRmlyc3QgV2VpZ2h0IFJlY29yZGVkIjoNCiAgIklucGF0aWVudCBFbmNvdW50ZXJzIiBFbmNvdW50ZXJJbnBhdGllbnQNCiAgICBsZXQgRmlyc3RXZWlnaHQ6IEZpcnN0KFsiVVNDb3JlQm9keVdlaWdodFByb2ZpbGUiXSBXZWlnaHRFeGFtDQogICAgICAgIHdoZXJlIFdlaWdodEV4YW0uZWZmZWN0aXZlLmVhcmxpZXN0KCkgZHVyaW5nIEVuY291bnRlcklucGF0aWVudC5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UoKQ0KICAgICAgICAgIGFuZCBXZWlnaHRFeGFtLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICAgIGFuZCBXZWlnaHRFeGFtLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgICApDQogICAgcmV0dXJuIHsNCiAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICBGaXJzdFJlc3VsdDogRmlyc3RXZWlnaHQudmFsdWUgYXMgUXVhbnRpdHksDQogICAgICBUaW1pbmc6IEZpcnN0V2VpZ2h0LmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkNCiAgICB9DQoNCmRlZmluZSAiU0RFIEVuY291bnRlciBXaXRoIE94eWdlbiA2MCBNaW51dGVzIE9yIExlc3MgUHJpb3IgVG8gRUQgQWRtaXNzaW9uIE9yIER1cmluZyBFRCI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIEVuY291bnRlcklucGF0aWVudA0KICAgIHdoZXJlIGV4aXN0cyAoICggW1NlcnZpY2VSZXF1ZXN0OiAiTm9uIEludmFzaXZlIE94eWdlbiBUaGVyYXB5IGJ5IE5hc2FsIENhbm51bGEgb3IgTWFzayJdDQogICAgICAgIHVuaW9uIFtTZXJ2aWNlUmVxdWVzdDogIk5vbiBJbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSBEZXZpY2UgQ29kZXMiXSApIE94eWdlblRoZXJhcHlPcmRlcg0KICAgICAgICB3aGVyZSAoIE94eWdlblRoZXJhcHlPcmRlci5hdXRob3JlZE9uIGR1cmluZyBFbmNvdW50ZXJJbnBhdGllbnQuZWRWaXNpdCAoICkucGVyaW9kDQogICAgICAgICAgICBvciBPeHlnZW5UaGVyYXB5T3JkZXIuYXV0aG9yZWRPbiA2MCBtaW51dGVzIG9yIGxlc3MgYmVmb3JlIG9yIG9uIHN0YXJ0IG9mIEVuY291bnRlcklucGF0aWVudC5lZFZpc2l0ICggKS5wZXJpb2QNCiAgICAgICAgKQ0KICAgICAgICAgIGFuZCBPeHlnZW5UaGVyYXB5T3JkZXIuc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdjb21wbGV0ZWQnIH0NCiAgICAgICAgICBhbmQgT3h5Z2VuVGhlcmFweU9yZGVyLmludGVudCA9ICdvcmRlcicNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBFbmNvdW50ZXJJZDogRW5jb3VudGVySW5wYXRpZW50LmlkLA0KICAgICAgICAgIE9yZGVyU3RhdHVzOiBPeHlnZW5UaGVyYXB5T3JkZXIuc3RhdHVzLA0KICAgICAgICAgIE9yZGVyVGltaW5nOiBPeHlnZW5UaGVyYXB5T3JkZXIuYXV0aG9yZWRPbg0KICAgICAgICB9DQogICAgKQ0KICAgICAgb3IgZXhpc3RzICggW1Byb2NlZHVyZTogIk5vbiBJbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSBieSBOYXNhbCBDYW5udWxhIG9yIE1hc2siXSBPeHlnZW5BZG1pbkludGVydg0KICAgICAgICAgIHdoZXJlICggT3h5Z2VuQWRtaW5JbnRlcnYucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBkdXJpbmcgRW5jb3VudGVySW5wYXRpZW50LmVkVmlzaXQgKCApLnBlcmlvZA0KICAgICAgICAgICAgICBvciBPeHlnZW5BZG1pbkludGVydi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgNjAgbWludXRlcyBvciBsZXNzIGJlZm9yZSBvciBvbiBzdGFydCBvZiBFbmNvdW50ZXJJbnBhdGllbnQuZWRWaXNpdCAoICkucGVyaW9kDQogICAgICAgICAgKQ0KICAgICAgICAgICAgYW5kIE94eWdlbkFkbWluSW50ZXJ2LnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIEVuY291bnRlcklkOiBFbmNvdW50ZXJJbnBhdGllbnQuaWQsDQogICAgICAgICAgICBFREVuY291bnRlclRpbWluZzogRW5jb3VudGVySW5wYXRpZW50LmVkVmlzaXQgKCApLnBlcmlvZCwNCiAgICAgICAgICAgIFBlcmZvcm1lZFN0YXR1czogT3h5Z2VuQWRtaW5JbnRlcnYuc3RhdHVzLA0KICAgICAgICAgICAgUGVyZm9ybWVkVGltaW5nOiBPeHlnZW5BZG1pbkludGVydi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICAgICAgICB9DQogICAgICApDQoNCmRlZmluZSAiU0RFIEV0aG5pY2l0eSI6DQogIFNERS4iU0RFIEV0aG5pY2l0eSINCg0KZGVmaW5lICJTREUgUGF5ZXIiOg0KICBTREUuIlNERSBQYXllciINCg0KZGVmaW5lICJTREUgUmFjZSI6DQogIFNERS4iU0RFIFJhY2UiDQoNCmRlZmluZSAiU0RFIFNleCI6DQogIFNERS4iU0RFIFNleCI=",
    "url": "https://madie.cms.gov/Library-CMSFHIR529HybridHospitalWideReadmission.cql"
  } ]
}