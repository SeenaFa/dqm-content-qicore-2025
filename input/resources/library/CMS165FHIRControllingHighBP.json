{
  "resourceType": "Library",
  "id": "CMS165FHIRControllingHighBP",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8462-4",
      "display": "Diastolic blood pressure"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8480-6",
      "display": "Systolic blood pressure"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS165FHIRControllingHighBP",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS165FHIRControllingHighBP"
  } ],
  "version": "1.0.000",
  "name": "CMS165FHIRControllingHighBP",
  "title": "CMS165FHIRControllingHighBP",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-07-25T20:43:39+00:00",
  "publisher": "National Committee for Quality Assurance",
  "description": "CMS165FHIRControllingHighBP",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Library SDE",
    "resource": "https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"
  }, {
    "type": "depends-on",
    "display": "Library Status",
    "resource": "https://madie.cms.gov/Library/Status|1.15.000"
  }, {
    "type": "depends-on",
    "display": "Library AIFrailLTCF",
    "resource": "https://madie.cms.gov/Library/AdvancedIllnessandFrailty|1.27.000"
  }, {
    "type": "depends-on",
    "display": "Library AdultOutpatientEncounters",
    "resource": "https://madie.cms.gov/Library/AdultOutpatientEncounters|4.19.000"
  }, {
    "type": "depends-on",
    "display": "Library Hospice",
    "resource": "https://madie.cms.gov/Library/Hospice|6.18.000"
  }, {
    "type": "depends-on",
    "display": "Library PalliativeCare",
    "resource": "https://madie.cms.gov/Library/PalliativeCare|1.18.000"
  }, {
    "type": "depends-on",
    "display": "Code system LOINC",
    "resource": "http://loinc.org"
  }, {
    "type": "depends-on",
    "display": "Value set Chronic Kidney Disease, Stage 5",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1002"
  }, {
    "type": "depends-on",
    "display": "Value set Dialysis Services",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1013"
  }, {
    "type": "depends-on",
    "display": "Value set Emergency Department Evaluation and Management Visit",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1010"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Inpatient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
  }, {
    "type": "depends-on",
    "display": "Value set End Stage Renal Disease",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.353"
  }, {
    "type": "depends-on",
    "display": "Value set ESRD Monthly Outpatient Services",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1014"
  }, {
    "type": "depends-on",
    "display": "Value set Essential Hypertension",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.104.12.1011"
  }, {
    "type": "depends-on",
    "display": "Value set Kidney Transplant",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1012"
  }, {
    "type": "depends-on",
    "display": "Value set Kidney Transplant Recipient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1029"
  }, {
    "type": "depends-on",
    "display": "Value set Pregnancy",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Essential Hypertension Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Initial Population",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Denominator",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Pregnancy or Renal Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "End Stage Renal Disease Procedures",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "End Stage Renal Disease Encounter",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator Exclusions",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Qualifying Blood Pressure Reading",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Blood Pressure Days",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "date"
  }, {
    "name": "Most Recent Blood Pressure Day",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "date"
  }, {
    "name": "Lowest Systolic Reading on Most Recent Blood Pressure Day",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Quantity"
  }, {
    "name": "Has Systolic Blood Pressure Less Than 140",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Lowest Diastolic Reading on Most Recent Blood Pressure Day",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Quantity"
  }, {
    "name": "Has Diastolic Blood Pressure Less Than 90",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Numerator",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "SDE Ethnicity",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Payer",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Race",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Sex",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Coding"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.104.12.1011"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.104.12.1011"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.378"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.353"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.353"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1029"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1029"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1002"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1002"
    } ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1012"
    } ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1013"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.109.12.1014"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "id", "id.value" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-blood-pressure" ],
    "mustSupport": [ "effective" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1010"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-blood-pressure" ],
    "mustSupport": [ "encounter", "encounter.class", "encounter.class.code", "effective" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVMxNjVGSElSQ29udHJvbGxpbmdIaWdoQlAgdmVyc2lvbiAnMS4wLjAwMCcNCg0KdXNpbmcgUUlDb3JlIHZlcnNpb24gJzYuMC4wJw0KDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuNC4wMDAnIGNhbGxlZCBGSElSSGVscGVycw0KaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbg0KaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHMgdmVyc2lvbiAnNS4xLjAwMCcgY2FsbGVkIFNERQ0KaW5jbHVkZSBTdGF0dXMgdmVyc2lvbiAnMS4xNS4wMDAnIGNhbGxlZCBTdGF0dXMNCmluY2x1ZGUgQWR2YW5jZWRJbGxuZXNzYW5kRnJhaWx0eSB2ZXJzaW9uICcxLjI3LjAwMCcgY2FsbGVkIEFJRnJhaWxMVENGDQppbmNsdWRlIEFkdWx0T3V0cGF0aWVudEVuY291bnRlcnMgdmVyc2lvbiAnNC4xOS4wMDAnIGNhbGxlZCBBZHVsdE91dHBhdGllbnRFbmNvdW50ZXJzDQppbmNsdWRlIEhvc3BpY2UgdmVyc2lvbiAnNi4xOC4wMDAnIGNhbGxlZCBIb3NwaWNlDQppbmNsdWRlIFBhbGxpYXRpdmVDYXJlIHZlcnNpb24gJzEuMTguMDAwJyBjYWxsZWQgUGFsbGlhdGl2ZUNhcmUNCg0KY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycNCg0KdmFsdWVzZXQgIkNocm9uaWMgS2lkbmV5IERpc2Vhc2UsIFN0YWdlIDUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMTAwMicNCnZhbHVlc2V0ICJEaWFseXNpcyBTZXJ2aWNlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDkuMTIuMTAxMycNCnZhbHVlc2V0ICJFbWVyZ2VuY3kgRGVwYXJ0bWVudCBFdmFsdWF0aW9uIGFuZCBNYW5hZ2VtZW50IFZpc2l0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDEwJw0KdmFsdWVzZXQgIkVuY291bnRlciBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMzA3Jw0KdmFsdWVzZXQgIkVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjM1MycNCnZhbHVlc2V0ICJFU1JEIE1vbnRobHkgT3V0cGF0aWVudCBTZXJ2aWNlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDkuMTIuMTAxNCcNCnZhbHVlc2V0ICJFc3NlbnRpYWwgSHlwZXJ0ZW5zaW9uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwNC4xMi4xMDExJw0KdmFsdWVzZXQgIktpZG5leSBUcmFuc3BsYW50IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwOS4xMi4xMDEyJw0KdmFsdWVzZXQgIktpZG5leSBUcmFuc3BsYW50IFJlY2lwaWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDkuMTIuMTAyOScNCnZhbHVlc2V0ICJQcmVnbmFuY3kiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMzc4Jw0KDQpjb2RlICJEaWFzdG9saWMgYmxvb2QgcHJlc3N1cmUiOiAnODQ2Mi00JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnRGlhc3RvbGljIGJsb29kIHByZXNzdXJlJw0KY29kZSAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiOiAnODQ4MC02JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUnDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4NCiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wMDBaLCBAMjAyNy0wMS0wMVQwMDowMDowMC4wMDBaKQ0KDQpjb250ZXh0IFBhdGllbnQNCg0KZGVmaW5lICJJbml0aWFsIFBvcHVsYXRpb24iOg0KICBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIA0KICAgIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApIGluIEludGVydmFsWzE4LCA4NV0NCiAgICBhbmQgZXhpc3RzICJFc3NlbnRpYWwgSHlwZXJ0ZW5zaW9uIERpYWdub3NpcyINCiAgICBhbmQgZXhpc3RzIEFkdWx0T3V0cGF0aWVudEVuY291bnRlcnMuIlF1YWxpZnlpbmcgRW5jb3VudGVycyINCg0KZGVmaW5lICJFc3NlbnRpYWwgSHlwZXJ0ZW5zaW9uIERpYWdub3NpcyI6DQogICggKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkVzc2VudGlhbCBIeXBlcnRlbnNpb24iXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIkVzc2VudGlhbCBIeXBlcnRlbnNpb24iXQ0KICApLnZlcmlmaWVkICggKSApIEh5cGVydGVuc2lvbg0KICAgIHdoZXJlIEh5cGVydGVuc2lvbi5wcmV2YWxlbmNlSW50ZXJ2YWwgKCApIG92ZXJsYXBzIEludGVydmFsW3N0YXJ0IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiLCBzdGFydCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIiArIDYgbW9udGhzICkNCg0KZGVmaW5lICJEZW5vbWluYXRvciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iDQoNCmRlZmluZSAiRGVub21pbmF0b3IgRXhjbHVzaW9ucyI6DQogIEhvc3BpY2UuIkhhcyBIb3NwaWNlIFNlcnZpY2VzIg0KICAgIG9yIGV4aXN0cyAoICJQcmVnbmFuY3kgb3IgUmVuYWwgRGlhZ25vc2lzIiApDQogICAgb3IgZXhpc3RzICggIkVuZCBTdGFnZSBSZW5hbCBEaXNlYXNlIFByb2NlZHVyZXMiICkNCiAgICBvciBleGlzdHMgKCAiRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UgRW5jb3VudGVyIiApDQogICAgb3IgQUlGcmFpbExUQ0YuIklzIEFnZSA2NiB0byA4MCB3aXRoIEFkdmFuY2VkIElsbG5lc3MgYW5kIEZyYWlsdHkgb3IgSXMgQWdlIDgxIG9yIE9sZGVyIHdpdGggRnJhaWx0eSINCiAgICBvciBBSUZyYWlsTFRDRi4iSXMgQWdlIDY2IG9yIE9sZGVyIExpdmluZyBMb25nIFRlcm0gaW4gYSBOdXJzaW5nIEhvbWUiDQogICAgb3IgUGFsbGlhdGl2ZUNhcmUuIkhhcyBQYWxsaWF0aXZlIENhcmUgaW4gdGhlIE1lYXN1cmVtZW50IFBlcmlvZCINCg0KZGVmaW5lICJQcmVnbmFuY3kgb3IgUmVuYWwgRGlhZ25vc2lzIjoNCiAgKCAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiUHJlZ25hbmN5Il0NCiAgICAgIHVuaW9uIFtDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXM6ICJQcmVnbmFuY3kiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSJdDQogICAgICB1bmlvbiBbQ29uZGl0aW9uRW5jb3VudGVyRGlhZ25vc2lzOiAiRW5kIFN0YWdlIFJlbmFsIERpc2Vhc2UiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJLaWRuZXkgVHJhbnNwbGFudCBSZWNpcGllbnQiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIktpZG5leSBUcmFuc3BsYW50IFJlY2lwaWVudCJdDQogICAgICB1bmlvbiBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkNocm9uaWMgS2lkbmV5IERpc2Vhc2UsIFN0YWdlIDUiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIkNocm9uaWMgS2lkbmV5IERpc2Vhc2UsIFN0YWdlIDUiXQ0KICApLnZlcmlmaWVkICggKSApIFByZWduYW5jeUVTUkREaWFnbm9zaXMNCiAgICB3aGVyZSBQcmVnbmFuY3lFU1JERGlhZ25vc2lzLnByZXZhbGVuY2VJbnRlcnZhbCAoICkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCINCg0KZGVmaW5lICJFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSBQcm9jZWR1cmVzIjoNCiAgKCAoIFtQcm9jZWR1cmU6ICJLaWRuZXkgVHJhbnNwbGFudCJdDQogICAgICB1bmlvbiBbUHJvY2VkdXJlOiAiRGlhbHlzaXMgU2VydmljZXMiXQ0KICApLmlzUHJvY2VkdXJlUGVyZm9ybWVkICggKSApIEVTUkRQcm9jZWR1cmUNCiAgICB3aGVyZSBFU1JEUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBlbmRzIG9uIG9yIGJlZm9yZSBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCg0KZGVmaW5lICJFbmQgU3RhZ2UgUmVuYWwgRGlzZWFzZSBFbmNvdW50ZXIiOg0KICAoICggW0VuY291bnRlcjogIkVTUkQgTW9udGhseSBPdXRwYXRpZW50IFNlcnZpY2VzIl0gKS5pc0VuY291bnRlclBlcmZvcm1lZCAoICkgKSBFU1JERW5jb3VudGVyDQogICAgd2hlcmUgRVNSREVuY291bnRlci5wZXJpb2Qgc3RhcnRzIG9uIG9yIGJlZm9yZSBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCg0KZGVmaW5lICJOdW1lcmF0b3IiOg0KICAiSGFzIFN5c3RvbGljIEJsb29kIFByZXNzdXJlIExlc3MgVGhhbiAxNDAiDQogICAgYW5kICJIYXMgRGlhc3RvbGljIEJsb29kIFByZXNzdXJlIExlc3MgVGhhbiA5MCINCg0KZGVmaW5lICJIYXMgU3lzdG9saWMgQmxvb2QgUHJlc3N1cmUgTGVzcyBUaGFuIDE0MCI6DQogICJMb3dlc3QgU3lzdG9saWMgUmVhZGluZyBvbiBNb3N0IFJlY2VudCBCbG9vZCBQcmVzc3VyZSBEYXkiIDwgMTQwICdtbVtIZ10nDQoNCmRlZmluZSAiSGFzIERpYXN0b2xpYyBCbG9vZCBQcmVzc3VyZSBMZXNzIFRoYW4gOTAiOg0KICAiTG93ZXN0IERpYXN0b2xpYyBSZWFkaW5nIG9uIE1vc3QgUmVjZW50IEJsb29kIFByZXNzdXJlIERheSIgPCA5MCAnbW1bSGddJw0KDQpkZWZpbmUgIkxvd2VzdCBTeXN0b2xpYyBSZWFkaW5nIG9uIE1vc3QgUmVjZW50IEJsb29kIFByZXNzdXJlIERheSI6DQogIEZpcnN0KCJRdWFsaWZ5aW5nIEJsb29kIFByZXNzdXJlIFJlYWRpbmciIEJQUmVhZGluZw0KICAgICAgd2hlcmUgQlBSZWFkaW5nLmVmZmVjdGl2ZS5sYXRlc3QoKSBzYW1lIGRheSBhcyAiTW9zdCBSZWNlbnQgQmxvb2QgUHJlc3N1cmUgRGF5Ig0KICAgICAgcmV0dXJuIHNpbmdsZXRvbiBmcm9tKEJQUmVhZGluZy5jb21wb25lbnQgQlBDb21wb25lbnQNCiAgICAgICAgICB3aGVyZSBCUENvbXBvbmVudC5jb2RlIH4gIlN5c3RvbGljIGJsb29kIHByZXNzdXJlIg0KICAgICAgICAgIHJldHVybiBCUENvbXBvbmVudC52YWx1ZSBhcyBRdWFudGl0eQ0KICAgICAgKQ0KICAgICAgc29ydCBhc2MNCiAgKQ0KDQpkZWZpbmUgIkxvd2VzdCBEaWFzdG9saWMgUmVhZGluZyBvbiBNb3N0IFJlY2VudCBCbG9vZCBQcmVzc3VyZSBEYXkiOg0KICBGaXJzdCgiUXVhbGlmeWluZyBCbG9vZCBQcmVzc3VyZSBSZWFkaW5nIiBCUFJlYWRpbmcNCiAgICAgIHdoZXJlIEJQUmVhZGluZy5lZmZlY3RpdmUubGF0ZXN0KCkgc2FtZSBkYXkgYXMgIk1vc3QgUmVjZW50IEJsb29kIFByZXNzdXJlIERheSINCiAgICAgIHJldHVybiBzaW5nbGV0b24gZnJvbShCUFJlYWRpbmcuY29tcG9uZW50IEJQQ29tcG9uZW50DQogICAgICAgICAgd2hlcmUgQlBDb21wb25lbnQuY29kZSB+ICJEaWFzdG9saWMgYmxvb2QgcHJlc3N1cmUiDQogICAgICAgICAgcmV0dXJuIEJQQ29tcG9uZW50LnZhbHVlIGFzIFF1YW50aXR5DQogICAgICApDQogICAgICBzb3J0IGFzYw0KICApDQoNCmRlZmluZSAiUXVhbGlmeWluZyBCbG9vZCBQcmVzc3VyZSBSZWFkaW5nIjoNCiAgKCAoICggW1VTQ29yZUJsb29kUHJlc3N1cmVQcm9maWxlXSApLmlzT2JzZXJ2YXRpb25CUCAoICkgKSBCbG9vZFByZXNzdXJlDQogICAgICB3aXRob3V0ICggKCBbRW5jb3VudGVyOiAiRW5jb3VudGVyIElucGF0aWVudCJdDQogICAgICAgICAgdW5pb24gW0VuY291bnRlcjogIkVtZXJnZW5jeSBEZXBhcnRtZW50IEV2YWx1YXRpb24gYW5kIE1hbmFnZW1lbnQgVmlzaXQiXQ0KICAgICAgKS5pc0VuY291bnRlclBlcmZvcm1lZCAoICkgKSBEaXNxdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgICAgIHN1Y2ggdGhhdCBCbG9vZFByZXNzdXJlLmVmZmVjdGl2ZS5sYXRlc3QgKCApIGR1cmluZyBkYXkgb2YgRGlzcXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QNCiAgICAgIHdoZXJlIEJsb29kUHJlc3N1cmUuZWZmZWN0aXZlLmxhdGVzdCAoICkgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICApDQogICAgdW5pb24gKCAoICggW1VTQ29yZUJsb29kUHJlc3N1cmVQcm9maWxlXSApLmlzT2JzZXJ2YXRpb25CUCAoICkgKSBCbG9vZFByZXNzdXJlDQogICAgICAgIHdoZXJlICggbm90ICggKCBCbG9vZFByZXNzdXJlLmVuY291bnRlci5nZXRFbmNvdW50ZXIgKCApICkuY2xhc3MuY29kZSBpbiB7ICdFTUVSJywgJ0lNUCcsICdBQ1VURScsICdOT05BQycsICdQUkVOQycsICdTUycgfSApICkNCiAgICAgICAgICBhbmQgQmxvb2RQcmVzc3VyZS5lZmZlY3RpdmUubGF0ZXN0ICggKSBkdXJpbmcgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiDQogICAgKQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGdldEVuY291bnRlcihyZWZlcmVuY2UgUmVmZXJlbmNlKToNCiAgc2luZ2xldG9uIGZyb20gKCBbRW5jb3VudGVyXSBFDQogICAgICB3aGVyZSBFLmlkID0gcmVmZXJlbmNlLnJlZmVyZW5jZS5nZXRJZCAoICkNCiAgKQ0KDQpkZWZpbmUgIk1vc3QgUmVjZW50IEJsb29kIFByZXNzdXJlIERheSI6DQogIExhc3QoIkJsb29kIFByZXNzdXJlIERheXMiIEJQRGF5cw0KICAgICAgc29ydCBhc2MNCiAgKQ0KDQpkZWZpbmUgIkJsb29kIFByZXNzdXJlIERheXMiOg0KICAiUXVhbGlmeWluZyBCbG9vZCBQcmVzc3VyZSBSZWFkaW5nIiBCUEV4YW0NCiAgICByZXR1cm4gZGF0ZSBmcm9tIEJQRXhhbS5lZmZlY3RpdmUubGF0ZXN0ICggKQ0KDQpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOg0KICBTREUuIlNERSBFdGhuaWNpdHkiDQoNCmRlZmluZSAiU0RFIFBheWVyIjoNCiAgU0RFLiJTREUgUGF5ZXIiDQoNCmRlZmluZSAiU0RFIFJhY2UiOg0KICBTREUuIlNERSBSYWNlIg0KDQpkZWZpbmUgIlNERSBTZXgiOg0KICBTREUuIlNERSBTZXgi",
    "url": "https://madie.cms.gov/Library-CMS165FHIRControllingHighBP.cql"
  } ]
}