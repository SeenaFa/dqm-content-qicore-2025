{
  "resourceType": "Library",
  "id": "CMS1017FHIRHHFI",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS1017FHIRHHFI",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS1017FHIRHHFI"
  } ],
  "version": "1.0.000",
  "name": "CMS1017FHIRHHFI",
  "title": "CMS1017FHIRHHFI",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-08-25T23:49:37+00:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "description": "CMS1017FHIRHHFI",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library SDE",
    "resource": "https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"
  }, {
    "type": "depends-on",
    "display": "Library CQMCommon",
    "resource": "https://madie.cms.gov/Library/CQMCommon|4.1.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Library CMD",
    "resource": "https://madie.cms.gov/Library/CumulativeMedicationDuration|6.0.000"
  }, {
    "type": "depends-on",
    "display": "Code system LOINC",
    "resource": "http://loinc.org"
  }, {
    "type": "depends-on",
    "display": "Value set Abnormal Weight Loss",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1258.2"
  }, {
    "type": "depends-on",
    "display": "Value set Anticoagulants for All Indications",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.22"
  }, {
    "type": "depends-on",
    "display": "Value set Antidepressants",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.163"
  }, {
    "type": "depends-on",
    "display": "Value set Antihypertensives",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.164"
  }, {
    "type": "depends-on",
    "display": "Value set Central Nervous System Depressants",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.134"
  }, {
    "type": "depends-on",
    "display": "Value set Coagulation Disorders",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.23"
  }, {
    "type": "depends-on",
    "display": "Value set Delirium, Dementia, and Other Psychoses",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.168"
  }, {
    "type": "depends-on",
    "display": "Value set Depression",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.169"
  }, {
    "type": "depends-on",
    "display": "Value set Diuretics",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.170"
  }, {
    "type": "depends-on",
    "display": "Value set Epilepsy",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.171"
  }, {
    "type": "depends-on",
    "display": "Value set Inpatient Falls",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.171"
  }, {
    "type": "depends-on",
    "display": "Value set Leukemia or Lymphoma",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.136"
  }, {
    "type": "depends-on",
    "display": "Value set Liver Disease Moderate to Severe",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.137"
  }, {
    "type": "depends-on",
    "display": "Value set Major Injuries",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.120"
  }, {
    "type": "depends-on",
    "display": "Value set Malignant Bone Disease",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.24"
  }, {
    "type": "depends-on",
    "display": "Value set Malnutrition",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1272.1"
  }, {
    "type": "depends-on",
    "display": "Value set Moderate Injuries",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.205"
  }, {
    "type": "depends-on",
    "display": "Value set Neurologic Movement and Related Disorders",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.174"
  }, {
    "type": "depends-on",
    "display": "Value set Not Present On Admission or Documentation Insufficient to Determine",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.198"
  }, {
    "type": "depends-on",
    "display": "Value set Obesity",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.162"
  }, {
    "type": "depends-on",
    "display": "Value set Opioids",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.120"
  }, {
    "type": "depends-on",
    "display": "Value set Osteoporosis",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1200.147"
  }, {
    "type": "depends-on",
    "display": "Value set Peripheral Neuropathy",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.175"
  }, {
    "type": "depends-on",
    "display": "Value set Present on Admission or Clinically Undetermined",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.197"
  }, {
    "type": "depends-on",
    "display": "Value set Stroke",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.176"
  }, {
    "type": "depends-on",
    "display": "Value set Suicide Attempt",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.130"
  }, {
    "type": "depends-on",
    "display": "Value set Emergency Department Visit",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Inpatient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Qualifying Encounter",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Initial Population",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter With A Fall Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter With A Fall Event",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter Where A Fall Occurred",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter With A Fall Not Present On Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter Where A Fall And Major Injury Occurred Not POA",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter Where A Fall And Moderate Injury Occurred Not POA",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Numerator",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter With A Fall Present On Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator Exclusions",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Numerator Exclusions",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Body Mass Index (BMI)",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Quantity"
  }, {
    "name": "Risk Variable All Encounter Diagnoses with Rank and POA Indication",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Abnormal Weight Loss or Malnutrition Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Anticoagulant Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Anticoagulant Administration During Encounter",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Antidepressant Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Antihypertensive Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with CNS Depressant Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Diuretic Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Opioid Medication Active at Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Coagulation Disorder Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Delirium or Dementia or Other Psychosis Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Depression Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Epilepsy Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Leukemia or Lymphoma Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Liver Disease Moderate to Severe Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Malignant Bone Disease Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Neurologic Disorder Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Obesity Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Osteoporosis Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Peripheral Neuropathy Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Stroke Present on Admission",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Risk Variable Encounter with Suicide Attempt",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Ethnicity",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Payer",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Race",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Sex",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Coding"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ]
  }, {
    "type": "AdverseEvent",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-adverseevent" ],
    "mustSupport": [ "event", "date", "date.value", "recordedDate", "recordedDate.value" ],
    "codeFilter": [ {
      "path": "event",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.171"
    } ]
  }, {
    "type": "Claim",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-claim" ],
    "mustSupport": [ "status", "status.value", "use", "use.value", "item", "diagnosis" ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/core/StructureDefinition/us-core-bmi" ],
    "mustSupport": [ "effective", "value", "status", "status.value" ]
  }, {
    "type": "Claim",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-claim" ],
    "mustSupport": [ "status", "status.value", "use", "use.value", "item" ]
  }, {
    "type": "Claim",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-claim" ],
    "mustSupport": [ "status", "status.value", "use", "use.value", "item" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.22"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.22"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.163"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.164"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.134"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.170"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.120"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
    "mustSupport": [ "id.value" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVMxMDE3RkhJUkhIRkkgdmVyc2lvbiAnMS4wLjAwMCcNCg0KdXNpbmcgUUlDb3JlIHZlcnNpb24gJzYuMC4wJw0KDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuNC4wMDAnIGNhbGxlZCBGSElSSGVscGVycw0KaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHMgdmVyc2lvbiAnNS4xLjAwMCcgY2FsbGVkIFNERQ0KaW5jbHVkZSBDUU1Db21tb24gdmVyc2lvbiAnNC4xLjAwMCcgY2FsbGVkIENRTUNvbW1vbg0KaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbg0KaW5jbHVkZSBDdW11bGF0aXZlTWVkaWNhdGlvbkR1cmF0aW9uIHZlcnNpb24gJzYuMC4wMDAnIGNhbGxlZCBDTUQNCg0KY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycNCg0KdmFsdWVzZXQgIkFibm9ybWFsIFdlaWdodCBMb3NzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI1OC4yJw0KdmFsdWVzZXQgIkFudGljb2FndWxhbnRzIGZvciBBbGwgSW5kaWNhdGlvbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjIyJw0KdmFsdWVzZXQgIkFudGlkZXByZXNzYW50cyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTYzJw0KdmFsdWVzZXQgIkFudGloeXBlcnRlbnNpdmVzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4xNjQnDQp2YWx1ZXNldCAiQ2VudHJhbCBOZXJ2b3VzIFN5c3RlbSBEZXByZXNzYW50cyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTM0Jw0KdmFsdWVzZXQgIkNvYWd1bGF0aW9uIERpc29yZGVycyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjMnDQp2YWx1ZXNldCAiRGVsaXJpdW0sIERlbWVudGlhLCBhbmQgT3RoZXIgUHN5Y2hvc2VzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4xNjgnDQp2YWx1ZXNldCAiRGVwcmVzc2lvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTY5Jw0KdmFsdWVzZXQgIkRpdXJldGljcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTcwJw0KdmFsdWVzZXQgIkVwaWxlcHN5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4xNzEnDQp2YWx1ZXNldCAiSW5wYXRpZW50IEZhbGxzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE0Ny4xNzEnDQp2YWx1ZXNldCAiTGV1a2VtaWEgb3IgTHltcGhvbWEiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjEzNicNCnZhbHVlc2V0ICJMaXZlciBEaXNlYXNlIE1vZGVyYXRlIHRvIFNldmVyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTM3Jw0KdmFsdWVzZXQgIk1ham9yIEluanVyaWVzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE0Ny4xMjAnDQp2YWx1ZXNldCAiTWFsaWduYW50IEJvbmUgRGlzZWFzZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjQnDQp2YWx1ZXNldCAiTWFsbnV0cml0aW9uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI3Mi4xJw0KdmFsdWVzZXQgIk1vZGVyYXRlIEluanVyaWVzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMDUnDQp2YWx1ZXNldCAiTmV1cm9sb2dpYyBNb3ZlbWVudCBhbmQgUmVsYXRlZCBEaXNvcmRlcnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjE3NCcNCnZhbHVlc2V0ICJOb3QgUHJlc2VudCBPbiBBZG1pc3Npb24gb3IgRG9jdW1lbnRhdGlvbiBJbnN1ZmZpY2llbnQgdG8gRGV0ZXJtaW5lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE0Ny4xOTgnDQp2YWx1ZXNldCAiT2Jlc2l0eSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTYyJw0KdmFsdWVzZXQgIk9waW9pZHMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjEyMCcNCnZhbHVlc2V0ICJPc3Rlb3Bvcm9zaXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjAwLjE0NycNCnZhbHVlc2V0ICJQZXJpcGhlcmFsIE5ldXJvcGF0aHkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjE3NScNCnZhbHVlc2V0ICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNDcuMTk3Jw0KdmFsdWVzZXQgIlN0cm9rZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTc2Jw0KdmFsdWVzZXQgIlN1aWNpZGUgQXR0ZW1wdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTMwJw0KdmFsdWVzZXQgIkVtZXJnZW5jeSBEZXBhcnRtZW50IFZpc2l0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yOTInDQp2YWx1ZXNldCAiRW5jb3VudGVyIElucGF0aWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy42NjYuNS4zMDcnDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4NCiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wMDBaLCBAMjAyNy0wMS0wMVQwMDowMDowMC4wMDBaKQ0KDQpjb250ZXh0IFBhdGllbnQNCg0KZGVmaW5lICJRdWFsaWZ5aW5nIEVuY291bnRlciI6DQogIENRTUNvbW1vbi4iSW5wYXRpZW50IEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICkubGVuZ3RoSW5EYXlzICggKSA8PSAxMjANCiAgICAgIGFuZCBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIHN0YXJ0IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QpID49IDE4DQoNCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIg0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiINCg0KZGVmaW5lICJOdW1lcmF0b3IiOg0KICAiRW5jb3VudGVyIFdoZXJlIEEgRmFsbCBBbmQgTWFqb3IgSW5qdXJ5IE9jY3VycmVkIE5vdCBQT0EiDQogICAgdW5pb24gIkVuY291bnRlciBXaGVyZSBBIEZhbGwgQW5kIE1vZGVyYXRlIEluanVyeSBPY2N1cnJlZCBOb3QgUE9BIg0KDQpkZWZpbmUgIkVuY291bnRlciBXaGVyZSBBIEZhbGwgQW5kIE1vZGVyYXRlIEluanVyeSBPY2N1cnJlZCBOb3QgUE9BIjoNCiAgIkVuY291bnRlciBXaXRoIEEgRmFsbCBOb3QgUHJlc2VudCBPbiBBZG1pc3Npb24iIEZhbGxPY2N1cnJlZA0KICAgIHdoZXJlIGV4aXN0cyAoICggRmFsbE9jY3VycmVkLmNsYWltRGlhZ25vc2lzICggKSApIE1vZGVyYXRlRmFsbE9jY3VycmVkDQogICAgICAgIHdoZXJlICggTW9kZXJhdGVGYWxsT2NjdXJyZWQub25BZG1pc3Npb24gaXMgbnVsbA0KICAgICAgICAgICAgb3IgTW9kZXJhdGVGYWxsT2NjdXJyZWQub25BZG1pc3Npb24gaW4gIk5vdCBQcmVzZW50IE9uIEFkbWlzc2lvbiBvciBEb2N1bWVudGF0aW9uIEluc3VmZmljaWVudCB0byBEZXRlcm1pbmUiDQogICAgICAgICkNCiAgICAgICAgICBhbmQgKCBNb2RlcmF0ZUZhbGxPY2N1cnJlZC5kaWFnbm9zaXMgaW4gIk1vZGVyYXRlIEluanVyaWVzIg0KICAgICAgICAgICAgICBvciBNb2RlcmF0ZUZhbGxPY2N1cnJlZC5kaWFnbm9zaXMuZ2V0Q29uZGl0aW9uICggKS5jb2RlIGluICJNb2RlcmF0ZSBJbmp1cmllcyINCiAgICAgICAgICApDQogICAgKQ0KDQpkZWZpbmUgIkVuY291bnRlciBXaGVyZSBBIEZhbGwgQW5kIE1ham9yIEluanVyeSBPY2N1cnJlZCBOb3QgUE9BIjoNCiAgIkVuY291bnRlciBXaXRoIEEgRmFsbCBOb3QgUHJlc2VudCBPbiBBZG1pc3Npb24iIEZhbGxPY2N1cnJlZA0KICAgIHdoZXJlIGV4aXN0cyAoICggRmFsbE9jY3VycmVkLmNsYWltRGlhZ25vc2lzICggKSApIE1ham9yRmFsbE9jY3VycmVkDQogICAgICAgIHdoZXJlICggTWFqb3JGYWxsT2NjdXJyZWQub25BZG1pc3Npb24gaXMgbnVsbA0KICAgICAgICAgICAgb3IgTWFqb3JGYWxsT2NjdXJyZWQub25BZG1pc3Npb24gaW4gIk5vdCBQcmVzZW50IE9uIEFkbWlzc2lvbiBvciBEb2N1bWVudGF0aW9uIEluc3VmZmljaWVudCB0byBEZXRlcm1pbmUiDQogICAgICAgICkNCiAgICAgICAgICBhbmQgKCBNYWpvckZhbGxPY2N1cnJlZC5kaWFnbm9zaXMgaW4gIk1ham9yIEluanVyaWVzIg0KICAgICAgICAgICAgICBvciBNYWpvckZhbGxPY2N1cnJlZC5kaWFnbm9zaXMuZ2V0Q29uZGl0aW9uICggKS5jb2RlIGluICJNYWpvciBJbmp1cmllcyINCiAgICAgICAgICApDQogICAgKQ0KDQpkZWZpbmUgIkVuY291bnRlciBXaGVyZSBBIEZhbGwgT2NjdXJyZWQiOg0KICAiRW5jb3VudGVyIFdpdGggQSBGYWxsIERpYWdub3NpcyIgRW5jb3VudGVyRmFsbERpYWdub3Npcw0KICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBBIEZhbGwgRXZlbnQiIEVuY291bnRlckZhbGxFdmVudA0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIEEgRmFsbCBOb3QgUHJlc2VudCBPbiBBZG1pc3Npb24iOg0KICAiRW5jb3VudGVyIFdoZXJlIEEgRmFsbCBPY2N1cnJlZCIgRW5jb3VudGVyRmFsbERpYWdub3Npcw0KICAgIHdoZXJlIEVuY291bnRlckZhbGxEaWFnbm9zaXMuaGFzRGlhZ25vc2lzTm90UHJlc2VudE9uQWRtaXNzaW9uT3JOdWxsICggIklucGF0aWVudCBGYWxscyIgKQ0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIEEgRmFsbCBEaWFnbm9zaXMiOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIFF1YWxpZnlpbmdGYWxsDQogICAgd2hlcmUgUXVhbGlmeWluZ0ZhbGwucmVhc29uQ29kZSBpbiAiSW5wYXRpZW50IEZhbGxzIg0KICAgICAgb3IgUXVhbGlmeWluZ0ZhbGwuZW5jb3VudGVyc0RpYWdub3NpcyAoICkuY29kZSBpbiAiSW5wYXRpZW50IEZhbGxzIg0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIEEgRmFsbCBFdmVudCI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2l0aCBbQWR2ZXJzZUV2ZW50OiAiSW5wYXRpZW50IEZhbGxzIl0gRmFsbHNEb2N1bWVudGF0aW9uDQogICAgICBzdWNoIHRoYXQgQ29hbGVzY2UoRmFsbHNEb2N1bWVudGF0aW9uLmRhdGUsIEZhbGxzRG9jdW1lbnRhdGlvbi5yZWNvcmRlZERhdGUpIGR1cmluZyBJbnBhdGllbnRFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uICggKQ0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiOg0KICAiRW5jb3VudGVyIFdpdGggQSBGYWxsIFByZXNlbnQgT24gQWRtaXNzaW9uIg0KDQpkZWZpbmUgIk51bWVyYXRvciBFeGNsdXNpb25zIjoNCiAgIkVuY291bnRlciBXaXRoIEEgRmFsbCBQcmVzZW50IE9uIEFkbWlzc2lvbiINCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBBIEZhbGwgUHJlc2VudCBPbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJJbnBhdGllbnQgRmFsbHMiLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEJvZHkgTWFzcyBJbmRleCAoQk1JKSI6DQogIGZyb20NCiAgICBbIlVTQ29yZUJNSVByb2ZpbGUiXSBCTUkNCiAgICB3aXRoICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgICBzdWNoIHRoYXQgQk1JLmVmZmVjdGl2ZS50b0ludGVydmFsICggKSBzdGFydHMgZHVyaW5nIElucGF0aWVudEVuY291bnRlci5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24gKCApDQogICAgICAgIGFuZCBCTUkudmFsdWUgaXMgbm90IG51bGwNCiAgICAgICAgYW5kIEJNSS5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICByZXR1cm4gQk1JLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBBbGwgRW5jb3VudGVyIERpYWdub3NlcyB3aXRoIFJhbmsgYW5kIFBPQSBJbmRpY2F0aW9uIjoNCiAgZnJvbQ0KICAgICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgbGV0IGNsYWltOiAoIFtDbGFpbV0gQw0KICAgICAgICB3aGVyZSBDLnN0YXR1cyA9ICdhY3RpdmUnDQogICAgICAgICAgYW5kIEMudXNlID0gJ2NsYWltJw0KICAgICAgICAgIGFuZCBleGlzdHMgKCBDLml0ZW0gQ2xhaW1JdGVtDQogICAgICAgICAgICAgIHdoZXJlIENsYWltSXRlbS5lbmNvdW50ZXIucmVmZXJlbmNlcyAoIElucGF0aWVudEVuY291bnRlciApDQogICAgICAgICAgKQ0KICAgICksDQogICAgY2xhaW1JdGVtOiAoIGNsYWltLml0ZW0gQ2xhaW1JdGVtDQogICAgICAgIHdoZXJlIENsYWltSXRlbS5lbmNvdW50ZXIucmVmZXJlbmNlcyAoIElucGF0aWVudEVuY291bnRlciApDQogICAgKQ0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogSW5wYXRpZW50RW5jb3VudGVyLmlkLA0KICAgICAgZGlhZ25vc2lzOiBjbGFpbS5kaWFnbm9zaXMsDQogICAgICByYW5rOiBjbGFpbS5kaWFnbm9zaXMuc2VxdWVuY2UsDQogICAgICBQT0E6IGNsYWltLmRpYWdub3NpcyBEaWFnDQogICAgICAgIHdoZXJlIERpYWcub25BZG1pc3Npb24gaW4gIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIg0KICAgICAgICAgIG9yIERpYWcub25BZG1pc3Npb24gaW4gIk5vdCBQcmVzZW50IE9uIEFkbWlzc2lvbiBvciBEb2N1bWVudGF0aW9uIEluc3VmZmljaWVudCB0byBEZXRlcm1pbmUiDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggQWJub3JtYWwgV2VpZ2h0IExvc3Mgb3IgTWFsbnV0cml0aW9uIFByZXNlbnQgb24gQWRtaXNzaW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aGVyZSBJbnBhdGllbnRFbmNvdW50ZXIuaXNEaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24gKCAiQWJub3JtYWwgV2VpZ2h0IExvc3MiLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCiAgICAgIG9yIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJNYWxudXRyaXRpb24iLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIEFudGljb2FndWxhbnQgQWN0aXZlIGF0IEFkbWlzc2lvbiI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2l0aCBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkFudGljb2FndWxhbnRzIGZvciBBbGwgSW5kaWNhdGlvbnMiXSBBbnRpY29hZ3VsYW50cw0KICAgICAgc3VjaCB0aGF0IEFudGljb2FndWxhbnRzLnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJyB9DQogICAgICAgIGFuZCAoIEFudGljb2FndWxhbnRzLmludGVudCA9ICdvcmRlcicNCiAgICAgICAgICAgIG9yICggQW50aWNvYWd1bGFudHMuaW50ZW50ID0gJ3BsYW4nDQogICAgICAgICAgICAgICAgYW5kIEFudGljb2FndWxhbnRzLnN1YmplY3QucmVmZXJlbmNlLmdldElkICggKSA9IFBhdGllbnQuaWQNCiAgICAgICAgICAgICkNCiAgICAgICAgKQ0KICAgICAgICBhbmQgQW50aWNvYWd1bGFudHMuaXNDb21tdW5pdHkgKCApDQogICAgICAgIGFuZCBBbnRpY29hZ3VsYW50cy5tZWRpY2F0aW9uUmVxdWVzdFBlcmlvZCAoICkgb3ZlcmxhcHMgYmVmb3JlIGRheSBvZiBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBBbnRpY29hZ3VsYW50IEFkbWluaXN0cmF0aW9uIER1cmluZyBFbmNvdW50ZXIiOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiQW50aWNvYWd1bGFudHMgZm9yIEFsbCBJbmRpY2F0aW9ucyJdIEFudGljb2FndWxhbnRzDQogICAgICBzdWNoIHRoYXQgQW50aWNvYWd1bGFudHMuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBkdXJpbmcgSW5wYXRpZW50RW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICkNCiAgICAgICAgYW5kIEFudGljb2FndWxhbnRzLnN0YXR1cyBpbiB7ICdpbi1wcm9ncmVzcycsICdjb21wbGV0ZWQnIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIEFudGlkZXByZXNzYW50IEFjdGl2ZSBhdCBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJBbnRpZGVwcmVzc2FudHMiXSBBbnRpZGVwcmVzc2FudE1lZA0KICAgICAgc3VjaCB0aGF0IEFudGlkZXByZXNzYW50TWVkLnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJyB9DQogICAgICAgIGFuZCAoIEFudGlkZXByZXNzYW50TWVkLmludGVudCA9ICdvcmRlcicNCiAgICAgICAgICAgIG9yICggQW50aWRlcHJlc3NhbnRNZWQuaW50ZW50ID0gJ3BsYW4nDQogICAgICAgICAgICAgICAgYW5kIEFudGlkZXByZXNzYW50TWVkLnN1YmplY3QucmVmZXJlbmNlLmdldElkICggKSA9IFBhdGllbnQuaWQNCiAgICAgICAgICAgICkNCiAgICAgICAgKQ0KICAgICAgICBhbmQgQW50aWRlcHJlc3NhbnRNZWQuaXNDb21tdW5pdHkgKCApDQogICAgICAgIGFuZCBBbnRpZGVwcmVzc2FudE1lZC5tZWRpY2F0aW9uUmVxdWVzdFBlcmlvZCAoICkgb3ZlcmxhcHMgYmVmb3JlIGRheSBvZiBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBBbnRpaHlwZXJ0ZW5zaXZlIEFjdGl2ZSBhdCBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJBbnRpaHlwZXJ0ZW5zaXZlcyJdIEJQTWVkDQogICAgICBzdWNoIHRoYXQgQlBNZWQuc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdjb21wbGV0ZWQnIH0NCiAgICAgICAgYW5kICggQlBNZWQuaW50ZW50ID0gJ29yZGVyJw0KICAgICAgICAgICAgb3IgKCBCUE1lZC5pbnRlbnQgPSAncGxhbicNCiAgICAgICAgICAgICAgICBhbmQgQlBNZWQuc3ViamVjdC5yZWZlcmVuY2UuZ2V0SWQgKCApID0gUGF0aWVudC5pZA0KICAgICAgICAgICAgKQ0KICAgICAgICApDQogICAgICAgIGFuZCBCUE1lZC5pc0NvbW11bml0eSAoICkNCiAgICAgICAgYW5kIEJQTWVkLm1lZGljYXRpb25SZXF1ZXN0UGVyaW9kICggKSBvdmVybGFwcyBiZWZvcmUgZGF5IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIENOUyBEZXByZXNzYW50IEFjdGl2ZSBhdCBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJDZW50cmFsIE5lcnZvdXMgU3lzdGVtIERlcHJlc3NhbnRzIl0gQ05TTWVkDQogICAgICBzdWNoIHRoYXQgQ05TTWVkLnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJyB9DQogICAgICAgIGFuZCAoIENOU01lZC5pbnRlbnQgPSAnb3JkZXInDQogICAgICAgICAgICBvciAoIENOU01lZC5pbnRlbnQgPSAncGxhbicNCiAgICAgICAgICAgICAgICBhbmQgQ05TTWVkLnN1YmplY3QucmVmZXJlbmNlLmdldElkICggKSA9IFBhdGllbnQuaWQNCiAgICAgICAgICAgICkNCiAgICAgICAgKQ0KICAgICAgICBhbmQgQ05TTWVkLmlzQ29tbXVuaXR5ICggKQ0KICAgICAgICBhbmQgQ05TTWVkLm1lZGljYXRpb25SZXF1ZXN0UGVyaW9kICggKSBvdmVybGFwcyBiZWZvcmUgZGF5IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIERpdXJldGljIEFjdGl2ZSBhdCBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdpdGggWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJEaXVyZXRpY3MiXSBEaXVyZXRpY01lZA0KICAgICAgc3VjaCB0aGF0IERpdXJldGljTWVkLnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJyB9DQogICAgICAgIGFuZCAoIERpdXJldGljTWVkLmludGVudCA9ICdvcmRlcicNCiAgICAgICAgICAgIG9yICggRGl1cmV0aWNNZWQuaW50ZW50ID0gJ3BsYW4nDQogICAgICAgICAgICAgICAgYW5kIERpdXJldGljTWVkLnN1YmplY3QucmVmZXJlbmNlLmdldElkICggKSA9IFBhdGllbnQuaWQNCiAgICAgICAgICAgICkNCiAgICAgICAgKQ0KICAgICAgICBhbmQgRGl1cmV0aWNNZWQuaXNDb21tdW5pdHkgKCApDQogICAgICAgIGFuZCBEaXVyZXRpY01lZC5tZWRpY2F0aW9uUmVxdWVzdFBlcmlvZCAoICkgb3ZlcmxhcHMgYmVmb3JlIGRheSBvZiBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBPcGlvaWQgTWVkaWNhdGlvbiBBY3RpdmUgYXQgQWRtaXNzaW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aXRoIFsiTWVkaWNhdGlvblJlcXVlc3QiOiAiT3Bpb2lkcyJdIE9waW9pZE1lZA0KICAgICAgc3VjaCB0aGF0IE9waW9pZE1lZC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICBhbmQgKCBPcGlvaWRNZWQuaW50ZW50ID0gJ29yZGVyJw0KICAgICAgICAgICAgb3IgKCBPcGlvaWRNZWQuaW50ZW50ID0gJ3BsYW4nDQogICAgICAgICAgICAgICAgYW5kIE9waW9pZE1lZC5zdWJqZWN0LnJlZmVyZW5jZS5nZXRJZCAoICkgPSBQYXRpZW50LmlkDQogICAgICAgICAgICApDQogICAgICAgICkNCiAgICAgICAgYW5kIE9waW9pZE1lZC5pc0NvbW11bml0eSAoICkNCiAgICAgICAgYW5kIE9waW9pZE1lZC5tZWRpY2F0aW9uUmVxdWVzdFBlcmlvZCAoICkgb3ZlcmxhcHMgYmVmb3JlIGRheSBvZiBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBDb2FndWxhdGlvbiBEaXNvcmRlciBQcmVzZW50IG9uIEFkbWlzc2lvbiI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIkNvYWd1bGF0aW9uIERpc29yZGVycyIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggRGVsaXJpdW0gb3IgRGVtZW50aWEgb3IgT3RoZXIgUHN5Y2hvc2lzIFByZXNlbnQgb24gQWRtaXNzaW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aGVyZSBJbnBhdGllbnRFbmNvdW50ZXIuaXNEaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24gKCAiRGVsaXJpdW0sIERlbWVudGlhLCBhbmQgT3RoZXIgUHN5Y2hvc2VzIiwgIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIiApDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBEZXByZXNzaW9uIFByZXNlbnQgb24gQWRtaXNzaW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aGVyZSBJbnBhdGllbnRFbmNvdW50ZXIuaXNEaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24gKCAiRGVwcmVzc2lvbiIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggRXBpbGVwc3kgUHJlc2VudCBvbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJFcGlsZXBzeSIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggTGV1a2VtaWEgb3IgTHltcGhvbWEgUHJlc2VudCBvbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJMZXVrZW1pYSBvciBMeW1waG9tYSIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggTGl2ZXIgRGlzZWFzZSBNb2RlcmF0ZSB0byBTZXZlcmUgUHJlc2VudCBvbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJMaXZlciBEaXNlYXNlIE1vZGVyYXRlIHRvIFNldmVyZSIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggTWFsaWduYW50IEJvbmUgRGlzZWFzZSBQcmVzZW50IG9uIEFkbWlzc2lvbiI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIk1hbGlnbmFudCBCb25lIERpc2Vhc2UiLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIE5ldXJvbG9naWMgRGlzb3JkZXIgUHJlc2VudCBvbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJOZXVyb2xvZ2ljIE1vdmVtZW50IGFuZCBSZWxhdGVkIERpc29yZGVycyIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggT2Jlc2l0eSBQcmVzZW50IG9uIEFkbWlzc2lvbiI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIk9iZXNpdHkiLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIE9zdGVvcG9yb3NpcyBQcmVzZW50IG9uIEFkbWlzc2lvbiI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIk9zdGVvcG9yb3NpcyIsICJQcmVzZW50IG9uIEFkbWlzc2lvbiBvciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCIgKQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRW5jb3VudGVyIHdpdGggUGVyaXBoZXJhbCBOZXVyb3BhdGh5IFByZXNlbnQgb24gQWRtaXNzaW9uIjoNCiAgIlF1YWxpZnlpbmcgRW5jb3VudGVyIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aGVyZSBJbnBhdGllbnRFbmNvdW50ZXIuaXNEaWFnbm9zaXNQcmVzZW50T25BZG1pc3Npb24gKCAiUGVyaXBoZXJhbCBOZXVyb3BhdGh5IiwgIlByZXNlbnQgb24gQWRtaXNzaW9uIG9yIENsaW5pY2FsbHkgVW5kZXRlcm1pbmVkIiApDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBFbmNvdW50ZXIgd2l0aCBTdHJva2UgUHJlc2VudCBvbiBBZG1pc3Npb24iOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIElucGF0aWVudEVuY291bnRlcg0KICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlci5pc0RpYWdub3Npc1ByZXNlbnRPbkFkbWlzc2lvbiAoICJTdHJva2UiLCAiUHJlc2VudCBvbiBBZG1pc3Npb24gb3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciB3aXRoIFN1aWNpZGUgQXR0ZW1wdCI6DQogICJRdWFsaWZ5aW5nIEVuY291bnRlciIgSW5wYXRpZW50RW5jb3VudGVyDQogICAgd2hlcmUgSW5wYXRpZW50RW5jb3VudGVyLmVuY291bnRlcnNEaWFnbm9zaXMgKCApLmNvZGUgaW4gIlN1aWNpZGUgQXR0ZW1wdCINCg0KZGVmaW5lICJTREUgRXRobmljaXR5IjoNCiAgU0RFLiJTREUgRXRobmljaXR5Ig0KDQpkZWZpbmUgIlNERSBQYXllciI6DQogIFNERS4iU0RFIFBheWVyIg0KDQpkZWZpbmUgIlNERSBSYWNlIjoNCiAgU0RFLiJTREUgUmFjZSINCg0KZGVmaW5lICJTREUgU2V4IjoNCiAgU0RFLiJTREUgU2V4Ig0KDQpkZWZpbmUgZnVuY3Rpb24gIkRlbm9taW5hdG9yIE9ic2VydmF0aW9uIihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIGR1cmF0aW9uIGluIGRheXMgb2YgUXVhbGlmeWluZ0VuY291bnRlci5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24gKCApDQoNCmRlZmluZSBmdW5jdGlvbiAiTnVtZXJhdG9yIE9ic2VydmF0aW9uIihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIENvdW50KCJOdW1lcmF0b3IiIEZhbGxzRW5jb3VudGVyDQogICAgICB3aGVyZSBGYWxsc0VuY291bnRlci5wZXJpb2QgZW5kcyBkdXJpbmcgUXVhbGlmeWluZ0VuY291bnRlci5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24oKQ0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gaGFzRGlhZ25vc2lzTm90UHJlc2VudE9uQWRtaXNzaW9uT3JOdWxsKGVuY291bnRlciBFbmNvdW50ZXIsIGRpYWdub3Npc1ZhbHVlU2V0IFZhbHVlU2V0KToNCiAgZXhpc3RzICggW0NsYWltXSBDDQogICAgICB3aGVyZSBDLnN0YXR1cyA9ICdhY3RpdmUnDQogICAgICAgIGFuZCBDLnVzZSA9ICdjbGFpbScNCiAgICAgICAgYW5kIGV4aXN0cyAoIEMuaXRlbSBJDQogICAgICAgICAgICB3aGVyZSBJLmVuY291bnRlci5yZWZlcmVuY2VzICggZW5jb3VudGVyICkNCiAgICAgICAgKQ0KICAgICAgcmV0dXJuIEMuZGlhZ25vc2lzIEQNCiAgICAgICAgd2hlcmUgZXhpc3RzICggQy5pdGVtIEkNCiAgICAgICAgICAgIHdoZXJlIEkuZW5jb3VudGVyLnJlZmVyZW5jZXMgKCBlbmNvdW50ZXIgKQ0KICAgICAgICAgICAgICBhbmQgRC5zZXF1ZW5jZSBpbiBJLmRpYWdub3Npc1NlcXVlbmNlDQogICAgICAgICkNCiAgICAgICAgICBhbmQgKCBELm9uQWRtaXNzaW9uIGlzIG51bGwNCiAgICAgICAgICAgICAgb3IgRC5vbkFkbWlzc2lvbiBpbiAiTm90IFByZXNlbnQgT24gQWRtaXNzaW9uIG9yIERvY3VtZW50YXRpb24gSW5zdWZmaWNpZW50IHRvIERldGVybWluZSINCiAgICAgICAgICApDQogICAgICAgICAgYW5kIEQuZGlhZ25vc2lzIGluIGRpYWdub3Npc1ZhbHVlU2V0DQogICkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBlbmNvdW50ZXJzRGlhZ25vc2lzKEVuY291bnRlciBFbmNvdW50ZXIpOg0KICBFbmNvdW50ZXIucmVhc29uUmVmZXJlbmNlIEVuY0RpYWcNCiAgICByZXR1cm4gc2luZ2xldG9uIGZyb20gKCAoIFtDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXNdIENvbmRpdGlvbkVEDQogICAgICAgIHVuaW9uIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zXSBDb25kaXRpb25QSEMgKSBDb25kDQogICAgICAgIHdoZXJlIEVuY0RpYWcucmVmZXJlbmNlcyAoIENvbmQuaWQgKQ0KICAgICk=",
    "url": "https://madie.cms.gov/Library-CMS1017FHIRHHFI.cql"
  } ]
}