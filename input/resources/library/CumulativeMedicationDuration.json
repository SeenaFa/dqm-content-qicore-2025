{
  "resourceType": "Library",
  "id": "CumulativeMedicationDuration",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "HS",
      "display": "HS"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "WAKE",
      "display": "WAKE"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "C",
      "display": "C"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "CM",
      "display": "CM"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "CD",
      "display": "CD"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "CV",
      "display": "CV"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "AC",
      "display": "AC"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "ACM",
      "display": "ACM"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "ACD",
      "display": "ACD"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "ACV",
      "display": "ACV"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "PC",
      "display": "PC"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "PCM",
      "display": "PCM"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "PCD",
      "display": "PCD"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent",
      "code": "PCV",
      "display": "PCV"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "MORN",
      "display": "MORN"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "MORN.early",
      "display": "MORN.early"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "MORN.late",
      "display": "MORN.late"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "NOON",
      "display": "NOON"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "AFT",
      "display": "AFT"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "AFT.early",
      "display": "AFT.early"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "AFT.late",
      "display": "AFT.late"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "EVE",
      "display": "EVE"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "EVE.early",
      "display": "EVE.early"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "EVE.late",
      "display": "EVE.late"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "NIGHT",
      "display": "NIGHT"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/event-timing",
      "code": "PHS",
      "display": "PHS"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CumulativeMedicationDuration",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "67f7f97d5291b0360f7fbabe"
  } ],
  "version": "6.0.000",
  "name": "CumulativeMedicationDuration",
  "title": "CumulativeMedicationDuration",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-08-22T19:33:34+00:00",
  "publisher": "ICF",
  "description": "This library provides cumulative medication duration calculation\nlogic for use with FHIR medication prescription, administration, and dispensing\nresources. The logic here follows the guidance provided as part of the 5.6\nversion of Quality Data Model.",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Code system V3TimingEvent",
    "resource": "http://terminology.hl7.org/CodeSystem/v3-TimingEvent"
  }, {
    "type": "depends-on",
    "display": "Code system EventTiming",
    "resource": "http://hl7.org/fhir/event-timing"
  } ],
  "parameter": [ {
    "name": "ErrorLevel",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "string"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "TestMedicationRequest",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "TestMedicationRequestPeriod",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Test",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication" ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "effective" ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication" ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "effective" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "dosageInstruction", "dispenseRequest", "dispenseRequest.expectedSupplyDuration", "dispenseRequest.expectedSupplyDuration.value", "dispenseRequest.quantity", "dispenseRequest.numberOfRepeatsAllowed", "dispenseRequest.numberOfRepeatsAllowed.value", "authoredOn", "authoredOn.value", "dispenseRequest.validityPeriod" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDdW11bGF0aXZlTWVkaWNhdGlvbkR1cmF0aW9uIHZlcnNpb24gJzYuMC4wMDAnDQoNCnVzaW5nIFFJQ29yZSB2ZXJzaW9uICc2LjAuMCcNCg0KaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjQuMDAwJyBjYWxsZWQgRkhJUkhlbHBlcnMNCmluY2x1ZGUgUUlDb3JlQ29tbW9uIHZlcnNpb24gJzQuMC4wMDAnDQoNCi8vIFRoZXNlIGNvZGUgc3lzdGVtcyBhcmUgbm90IGtub3duIHRvIHRoZSBNQVQgZW52aXJvbm1lbnQgeWV0LCByZXF1ZXN0IHRvIGhhdmUgdGhlbSBhZGRlZCBzdWJtaXR0ZWQNCmNvZGVzeXN0ZW0gIlYzVGltaW5nRXZlbnQiOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1UaW1pbmdFdmVudCcNCmNvZGVzeXN0ZW0gIkV2ZW50VGltaW5nIjogJ2h0dHA6Ly9obDcub3JnL2ZoaXIvZXZlbnQtdGltaW5nJw0KDQpjb2RlICJIUyI6ICdIUycgZnJvbSAiVjNUaW1pbmdFdmVudCIgLy8gZXZlbnQgb2NjdXJzIFtvZmZzZXRdIGJlZm9yZSB0aGUgaG91ciBvZiBzbGVlcCAob3IgdHJ5aW5nIHRvKQ0KY29kZSAiV0FLRSI6ICdXQUtFJyBmcm9tICJWM1RpbWluZ0V2ZW50IiAvLyBldmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgd2FraW5nDQpjb2RlICJDIjogJ0MnIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBhdCBhIG1lYWwgKGZyb20gdGhlIExhdGluIGNpYnVzKQ0KY29kZSAiQ00iOiAnQ00nIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBhdCBicmVha2Zhc3QgKGZyb20gdGhlIExhdGluIGNpYnVzIG1hdHV0aW51cykNCmNvZGUgIkNEIjogJ0NEJyBmcm9tICJWM1RpbWluZ0V2ZW50IiAvLwlldmVudCBvY2N1cnMgYXQgbHVuY2ggKGZyb20gdGhlIExhdGluIGNpYnVzIGRpdXJudXMpDQpjb2RlICJDViI6ICdDVicgZnJvbSAiVjNUaW1pbmdFdmVudCIgLy8JZXZlbnQgb2NjdXJzIGF0IGRpbm5lciAoZnJvbSB0aGUgTGF0aW4gYW50ZSBjaWJ1cyB2ZXNwZXJ0aW51cykNCmNvZGUgIkFDIjogJ0FDJyBmcm9tICJWM1RpbWluZ0V2ZW50IiAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYmVmb3JlIGEgbWVhbCAoZnJvbSB0aGUgTGF0aW4gYW50ZSBjaWJ1cykNCmNvZGUgIkFDTSI6ICdBQ00nIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBiZWZvcmUgYnJlYWtmYXN0IChmcm9tIHRoZSBMYXRpbiBhbnRlIGNpYnVzIG1hdHV0aW51cykNCmNvZGUgIkFDRCI6ICdBQ0QnIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBiZWZvcmUgbHVuY2ggKGZyb20gdGhlIExhdGluIGFudGUgY2lidXMgZGl1cm51cykNCmNvZGUgIkFDViI6ICdBQ1YnIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBiZWZvcmUgZGlubmVyIChmcm9tIHRoZSBMYXRpbiBhbnRlIGNpYnVzIHZlc3BlcnRpbnVzKQ0KY29kZSAiUEMiOiAnUEMnIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBhZnRlciBhIG1lYWwgKGZyb20gdGhlIExhdGluIHBvc3QgY2lidXMpDQpjb2RlICJQQ00iOiAnUENNJyBmcm9tICJWM1RpbWluZ0V2ZW50IiAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgYnJlYWtmYXN0IChmcm9tIHRoZSBMYXRpbiBwb3N0IGNpYnVzIG1hdHV0aW51cykNCmNvZGUgIlBDRCI6ICdQQ0QnIGZyb20gIlYzVGltaW5nRXZlbnQiIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBhZnRlciBsdW5jaCAoZnJvbSB0aGUgTGF0aW4gcG9zdCBjaWJ1cyBkaXVybnVzKQ0KY29kZSAiUENWIjogJ1BDVicgZnJvbSAiVjNUaW1pbmdFdmVudCIgLy8JZXZlbnQgb2NjdXJzIFtvZmZzZXRdIGFmdGVyIGRpbm5lciAoZnJvbSB0aGUgTGF0aW4gcG9zdCBjaWJ1cyB2ZXNwZXJ0aW51cykNCg0KY29kZSAiTU9STiI6ICdNT1JOJyBmcm9tIEV2ZW50VGltaW5nIC8vCUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIG1vcm5pbmcuIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQpjb2RlICJNT1JOLmVhcmx5IjogJ01PUk4uZWFybHknIGZyb20gRXZlbnRUaW1pbmcgLy8JRWFybHkgTW9ybmluZwlFdmVudCBvY2N1cnMgZHVyaW5nIHRoZSBlYXJseSBtb3JuaW5nLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiTU9STi5sYXRlIjogJ01PUk4ubGF0ZScgZnJvbSBFdmVudFRpbWluZyAvLyBMYXRlIE1vcm5pbmcJRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgbGF0ZSBtb3JuaW5nLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiTk9PTiI6ICdOT09OJyBmcm9tIEV2ZW50VGltaW5nIC8vCU5vb24JRXZlbnQgb2NjdXJzIGFyb3VuZCAxMjowMHBtLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiQUZUIjogJ0FGVCcgZnJvbSBFdmVudFRpbWluZyAvLwlBZnRlcm5vb24JRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgYWZ0ZXJub29uLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiQUZULmVhcmx5IjogJ0FGVC5lYXJseScgZnJvbSBFdmVudFRpbWluZyAvLwlFYXJseSBBZnRlcm5vb24JRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgZWFybHkgYWZ0ZXJub29uLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiQUZULmxhdGUiOiAnQUZULmxhdGUnIGZyb20gRXZlbnRUaW1pbmcgLy8JTGF0ZSBBZnRlcm5vb24JRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgbGF0ZSBhZnRlcm5vb24uIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQpjb2RlICJFVkUiOiAnRVZFJyBmcm9tIEV2ZW50VGltaW5nIC8vCUV2ZW5pbmcJRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgZXZlbmluZy4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCmNvZGUgIkVWRS5lYXJseSI6ICdFVkUuZWFybHknIGZyb20gRXZlbnRUaW1pbmcgLy8JRWFybHkgRXZlbmluZwlFdmVudCBvY2N1cnMgZHVyaW5nIHRoZSBlYXJseSBldmVuaW5nLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiRVZFLmxhdGUiOiAnRVZFLmxhdGUnIGZyb20gRXZlbnRUaW1pbmcgLy8JTGF0ZSBFdmVuaW5nCUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIGxhdGUgZXZlbmluZy4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCmNvZGUgIk5JR0hUIjogJ05JR0hUJyBmcm9tIEV2ZW50VGltaW5nIC8vCU5pZ2h0CUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIG5pZ2h0LiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KY29kZSAiUEhTIjogJ1BIUycgZnJvbSBFdmVudFRpbWluZyAvLwlBZnRlciBTbGVlcAlFdmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgc3ViamVjdCBnb2VzIHRvIHNsZWVwLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KDQpjb2RlICJFdmVyeSBlaWdodCBob3VycyAocXVhbGlmaWVyIHZhbHVlKSI6ICczMDc0NjkwMDgnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRXZlcnkgZWlnaHQgaG91cnMgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJFdmVyeSBlaWdodCB0byB0d2VsdmUgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzk2MTQwMDAzJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IGVpZ2h0IHRvIHR3ZWx2ZSBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IGZvcnR5IGVpZ2h0IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIjogJzM5NjEzMTAwMicgZnJvbSBRSUNvcmVDb21tb24uIlNOT01FRENUIiBkaXNwbGF5ICdFdmVyeSBmb3J0eSBlaWdodCBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IGZvcnR5IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIjogJzM5NjEzMDAwMScgZnJvbSBRSUNvcmVDb21tb24uIlNOT01FRENUIiBkaXNwbGF5ICdFdmVyeSBmb3J0eSBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMjI1NzU2MDAyJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJFdmVyeSBzZXZlbnR5IHR3byBob3VycyAocXVhbGlmaWVyIHZhbHVlKSI6ICczOTYxNDMwMDEnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRXZlcnkgc2V2ZW50eSB0d28gaG91cnMgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJFdmVyeSBzaXggaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzA3NDY4MDAwJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IHNpeCBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IHNpeCB0byBlaWdodCBob3VycyAocXVhbGlmaWVyIHZhbHVlKSI6ICczOTYxMzkwMDAnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRXZlcnkgc2l4IHRvIGVpZ2h0IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiRXZlcnkgdGhpcnR5IHNpeCBob3VycyAocXVhbGlmaWVyIHZhbHVlKSI6ICczOTYxMjYwMDQnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRXZlcnkgdGhpcnR5IHNpeCBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IHRocmVlIHRvIGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMjI1NzU0MDA0JyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IHRocmVlIHRvIGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJFdmVyeSB0aHJlZSB0byBzaXggaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzk2MTI3MDA4JyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IHRocmVlIHRvIHNpeCBob3VycyAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkV2ZXJ5IHR3ZWx2ZSBob3VycyAocXVhbGlmaWVyIHZhbHVlKSI6ICczMDc0NzAwMDknIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRXZlcnkgdHdlbHZlIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiRXZlcnkgdHdlbnR5IGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzk2MTI1MDAwJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IHR3ZW50eSBmb3VyIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiRXZlcnkgdHdvIHRvIGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiOiAnMjI1NzUyMDAwJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ0V2ZXJ5IHR3byB0byBmb3VyIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiRm91ciB0aW1lcyBkYWlseSAocXVhbGlmaWVyIHZhbHVlKSI6ICczMDc0MzkwMDEnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnRm91ciB0aW1lcyBkYWlseSAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIk9uY2UgZGFpbHkgKHF1YWxpZmllciB2YWx1ZSkiOiAnMjI5Nzk3MDA0JyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ09uY2UgZGFpbHkgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJPbmUgdG8gZm91ciB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSI6ICczOTYxMDkwMDUnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnT25lIHRvIGZvdXIgdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJPbmUgdG8gdGhyZWUgdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzk2MTA4MDAyJyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ09uZSB0byB0aHJlZSB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIk9uZSB0byB0d28gdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSkiOiAnMzk2MTA3MDA3JyBmcm9tIFFJQ29yZUNvbW1vbi4iU05PTUVEQ1QiIGRpc3BsYXkgJ09uZSB0byB0d28gdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJUaHJlZSB0aW1lcyBkYWlseSAocXVhbGlmaWVyIHZhbHVlKSI6ICcyMjk3OTgwMDknIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnVGhyZWUgdGltZXMgZGFpbHkgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJUd2ljZSBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSI6ICcyMjk3OTkwMDEnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnVHdpY2UgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSknDQpjb2RlICJUd28gdG8gZm91ciB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSI6ICczOTYxMTEwMDEnIGZyb20gUUlDb3JlQ29tbW9uLiJTTk9NRURDVCIgZGlzcGxheSAnVHdvIHRvIGZvdXIgdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSknDQoNCnBhcmFtZXRlciBFcnJvckxldmVsIFN0cmluZyBkZWZhdWx0ICdXYXJuaW5nJw0KDQpjb250ZXh0IFBhdGllbnQNCg0KLyoNCiBHb2FsIGlzIHRvIGdldCB0byBudW1iZXIgb2YgZGF5cw0KIFR3byBicm9hZCBhcHByb2FjaGVzIHRvIHRoZSBjYWxjdWxhdGlvbjoNCiAgMSkgQmFzZWQgb24gc3VwcGx5IGFuZCBmcmVxdWVuY3ksIGNhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIGV4cGVjdGVkIGRheXMgdGhlIG1lZGljYXRpb24gd2lsbCBjb3Zlci9oYXMgY292ZXJlZA0KICAyKSBCYXNlZCBvbiByZWxldmFudCBwZXJpb2QsIGRldGVybWluZSBhIGNvdmVyZWQgaW50ZXJ2YWwgYW5kIGNhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mIHRoYXQgaW50ZXJ2YWwgaW4gZGF5cw0KVGhpcyB0b3BpYyBjb3ZlcnMgc2V2ZXJhbCB1c2UgY2FzZXMgYW5kIGlsbHVzdHJhdGVzIGhvdyB0byBjYWxjdWxhdGUgQ3VtdWxhdGl2ZQ0KTWVkaWNhdGlvbiBEdXJhdGlvbiBmb3IgZWFjaCB0eXBlIG9mIG1lZGljYXRpb24gcmVzb3VyY2UgdXNpbmcgdGhlIHN1cHBseSBhbmQNCmZyZXF1ZW5jeSBhcHByb2FjaC4NCiovDQoNCi8qDQogIEZvciB0aGUgZmlyc3QgYXBwcm9hY2gsIHdlIG5lZWQgdG8gZ2V0IGZyb20gZnJlcXVlbmN5IHRvIGEgZnJlcXVlbmN5L2RheQ0KICBTbyB3ZSBkZWZpbmUgVG9EYWlseQ0KKi8NCg0KLyoNCiAgQ2FsY3VsYXRlcyBkYWlseSBmcmVxdWVuY3kgZ2l2ZW4gZnJlcXVlbmN5IHdpdGhpbiBhIHBlcmlvZA0KKi8NCmRlZmluZSBmdW5jdGlvbiBUb0RhaWx5KGZyZXF1ZW5jeSBTeXN0ZW0uSW50ZWdlciwgcGVyaW9kIFN5c3RlbS5RdWFudGl0eSk6DQogIGNhc2UgcGVyaW9kLnVuaXQNCiAgICB3aGVuICdoJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKQ0KICAgIHdoZW4gJ21pbicgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgKiA2MA0KICAgIHdoZW4gJ3MnIHRoZW4gZnJlcXVlbmN5ICogKDI0LjAgLyBwZXJpb2QudmFsdWUpICogNjAgKiA2MA0KICAgIHdoZW4gJ2QnIHRoZW4gZnJlcXVlbmN5ICogKDI0LjAgLyBwZXJpb2QudmFsdWUpIC8gMjQNCiAgICB3aGVuICd3aycgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgLyAoMjQgKiA3KQ0KICAgIHdoZW4gJ21vJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAvICgyNCAqIDMwKSAvKiBhc3N1bWluZyAzMCBkYXlzIGluIG1vbnRoICovDQogICAgd2hlbiAnYScgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgLyAoMjQgKiAzNjUpIC8qIGFzc3VtaW5nIDM2NSBkYXlzIGluIHllYXIgKi8NCiAgICB3aGVuICdob3VyJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKQ0KICAgIHdoZW4gJ21pbnV0ZScgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgKiA2MA0KICAgIHdoZW4gJ3NlY29uZCcgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgKiA2MCAqIDYwDQogICAgd2hlbiAnZGF5JyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAvIDI0DQogICAgd2hlbiAnd2VlaycgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgLyAoMjQgKiA3KQ0KICAgIHdoZW4gJ21vbnRoJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAvICgyNCAqIDMwKSAvKiBhc3N1bWluZyAzMCBkYXlzIGluIG1vbnRoICovDQogICAgd2hlbiAneWVhcicgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgLyAoMjQgKiAzNjUpIC8qIGFzc3VtaW5nIDM2NSBkYXlzIGluIHllYXIgKi8NCiAgICB3aGVuICdob3VycycgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkNCiAgICB3aGVuICdtaW51dGVzJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAqIDYwDQogICAgd2hlbiAnc2Vjb25kcycgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgKiA2MCAqIDYwDQogICAgd2hlbiAnZGF5cycgdGhlbiBmcmVxdWVuY3kgKiAoMjQuMCAvIHBlcmlvZC52YWx1ZSkgLyAyNA0KICAgIHdoZW4gJ3dlZWtzJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAvICgyNCAqIDcpDQogICAgd2hlbiAnbW9udGhzJyB0aGVuIGZyZXF1ZW5jeSAqICgyNC4wIC8gcGVyaW9kLnZhbHVlKSAvICgyNCAqIDMwKSAvKiBhc3N1bWluZyAzMCBkYXlzIGluIG1vbnRoICovDQogICAgd2hlbiAneWVhcnMnIHRoZW4gZnJlcXVlbmN5ICogKDI0LjAgLyBwZXJpb2QudmFsdWUpIC8gKDI0ICogMzY1KSAvKiBhc3N1bWluZyAzNjUgZGF5cyBpbiB5ZWFyICovDQogICAgZWxzZSBNZXNzYWdlKG51bGwsIHRydWUsICdDTURMb2dpYy5Ub0RhaWx5LlVua25vd25Vbml0JywgRXJyb3JMZXZlbCwgJ1Vua25vd24gdW5pdCAnICYgcGVyaW9kLnVuaXQpDQogIGVuZA0KDQovKg0KICBSZXR1cm5zIGEgZGFpbHkgZnJlcXVlbmN5IGZvciB0aGUgZ2l2ZW4gY29kZSByZXByZXNlbnRhdGlvbiBvZiBmcmVxdWVuY3kuDQogIFRoZSBmdW5jdGlvbiBleHBlY3RzIGNvZGVzIGZyb20gdGhlIFtFdmVudFRpbWluZ10oaHR0cDovL2hsNy5vcmcvZmhpci9jb2Rlc3lzdGVtLWV2ZW50LXRpbWluZy5odG1sKSBvcg0KICBbVjNUaW1pbmdFdmVudF0oaHR0cDovL2hsNy5vcmcvZmhpci92My9UaW1pbmdFdmVudC9jcy5odG1sKSBjb2RlIHN5c3RlbXMuDQogIC8vIFRPRE86IERldGVybWluZSB3aGV0aGVyIG9yIG5vdCB3ZSBzaG91bGQgdXNlIHRpbWluZy5jb2RlIGF0IGFsbC4uLi4NCiovDQpkZWZpbmUgZnVuY3Rpb24gVG9EYWlseShmcmVxdWVuY3kgQ29kZSk6DQogIGNhc2UNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJIUyIgdGhlbiAxIC8vIGV2ZW50IG9jY3VycyBbb2Zmc2V0XSBiZWZvcmUgdGhlIGhvdXIgb2Ygc2xlZXAgKG9yIHRyeWluZyB0bykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJXQUtFIiB0aGVuIDEgLy8gZXZlbnQgb2NjdXJzIFtvZmZzZXRdIGFmdGVyIHdha2luZw0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkMiIHRoZW4gMyAvLwlldmVudCBvY2N1cnMgYXQgYSBtZWFsIChmcm9tIHRoZSBMYXRpbiBjaWJ1cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJDTSIgdGhlbiAxIC8vCWV2ZW50IG9jY3VycyBhdCBicmVha2Zhc3QgKGZyb20gdGhlIExhdGluIGNpYnVzIG1hdHV0aW51cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJDRCIgdGhlbiAxIC8vCWV2ZW50IG9jY3VycyBhdCBsdW5jaCAoZnJvbSB0aGUgTGF0aW4gY2lidXMgZGl1cm51cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJDViIgdGhlbiAxIC8vCWV2ZW50IG9jY3VycyBhdCBkaW5uZXIgKGZyb20gdGhlIExhdGluIGFudGUgY2lidXMgdmVzcGVydGludXMpDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiQUMiIHRoZW4gMyAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYmVmb3JlIGEgbWVhbCAoZnJvbSB0aGUgTGF0aW4gYW50ZSBjaWJ1cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJBQ00iIHRoZW4gMSAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYmVmb3JlIGJyZWFrZmFzdCAoZnJvbSB0aGUgTGF0aW4gYW50ZSBjaWJ1cyBtYXR1dGludXMpDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiQUNEIiB0aGVuIDEgLy8JZXZlbnQgb2NjdXJzIFtvZmZzZXRdIGJlZm9yZSBsdW5jaCAoZnJvbSB0aGUgTGF0aW4gYW50ZSBjaWJ1cyBkaXVybnVzKQ0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkFDViIgdGhlbiAxIC8vCWV2ZW50IG9jY3VycyBbb2Zmc2V0XSBiZWZvcmUgZGlubmVyIChmcm9tIHRoZSBMYXRpbiBhbnRlIGNpYnVzIHZlc3BlcnRpbnVzKQ0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIlBDIiB0aGVuIDMgLy8JZXZlbnQgb2NjdXJzIFtvZmZzZXRdIGFmdGVyIGEgbWVhbCAoZnJvbSB0aGUgTGF0aW4gcG9zdCBjaWJ1cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJQQ00iIHRoZW4gMSAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgYnJlYWtmYXN0IChmcm9tIHRoZSBMYXRpbiBwb3N0IGNpYnVzIG1hdHV0aW51cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJQQ0QiIHRoZW4gMSAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgbHVuY2ggKGZyb20gdGhlIExhdGluIHBvc3QgY2lidXMgZGl1cm51cykNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJQQ1YiIHRoZW4gMSAvLwlldmVudCBvY2N1cnMgW29mZnNldF0gYWZ0ZXIgZGlubmVyIChmcm9tIHRoZSBMYXRpbiBwb3N0IGNpYnVzIHZlc3BlcnRpbnVzKQ0KDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiTU9STiIgdGhlbiAxIC8vCUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIG1vcm5pbmcuIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiTU9STi5lYXJseSIgdGhlbiAxIC8vCUVhcmx5IE1vcm5pbmcJRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgZWFybHkgbW9ybmluZy4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJNT1JOLmxhdGUiIHRoZW4gMSAvLyBMYXRlIE1vcm5pbmcJRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgbGF0ZSBtb3JuaW5nLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIk5PT04iIHRoZW4gMSAvLwlOb29uCUV2ZW50IG9jY3VycyBhcm91bmQgMTI6MDBwbS4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJBRlQiIHRoZW4gMSAvLwlBZnRlcm5vb24JRXZlbnQgb2NjdXJzIGR1cmluZyB0aGUgYWZ0ZXJub29uLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkFGVC5lYXJseSIgdGhlbiAxIC8vCUVhcmx5IEFmdGVybm9vbglFdmVudCBvY2N1cnMgZHVyaW5nIHRoZSBlYXJseSBhZnRlcm5vb24uIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiQUZULmxhdGUiIHRoZW4gMSAvLwlMYXRlIEFmdGVybm9vbglFdmVudCBvY2N1cnMgZHVyaW5nIHRoZSBsYXRlIGFmdGVybm9vbi4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJFVkUiIHRoZW4gMSAvLwlFdmVuaW5nCUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIGV2ZW5pbmcuIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRVZFLmVhcmx5IiB0aGVuIDEgLy8JRWFybHkgRXZlbmluZwlFdmVudCBvY2N1cnMgZHVyaW5nIHRoZSBlYXJseSBldmVuaW5nLiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkVWRS5sYXRlIiB0aGVuIDEgLy8JTGF0ZSBFdmVuaW5nCUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIGxhdGUgZXZlbmluZy4gVGhlIGV4YWN0IHRpbWUgaXMgdW5zcGVjaWZpZWQgYW5kIGVzdGFibGlzaGVkIGJ5IGluc3RpdHV0aW9uIGNvbnZlbnRpb24gb3IgcGF0aWVudCBpbnRlcnByZXRhdGlvbi4NCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJOSUdIVCIgdGhlbiAxIC8vCU5pZ2h0CUV2ZW50IG9jY3VycyBkdXJpbmcgdGhlIG5pZ2h0LiBUaGUgZXhhY3QgdGltZSBpcyB1bnNwZWNpZmllZCBhbmQgZXN0YWJsaXNoZWQgYnkgaW5zdGl0dXRpb24gY29udmVudGlvbiBvciBwYXRpZW50IGludGVycHJldGF0aW9uLg0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIlBIUyIgdGhlbiAxIC8vCUFmdGVyIFNsZWVwCUV2ZW50IG9jY3VycyBbb2Zmc2V0XSBhZnRlciBzdWJqZWN0IGdvZXMgdG8gc2xlZXAuIFRoZSBleGFjdCB0aW1lIGlzIHVuc3BlY2lmaWVkIGFuZCBlc3RhYmxpc2hlZCBieSBpbnN0aXR1dGlvbiBjb252ZW50aW9uIG9yIHBhdGllbnQgaW50ZXJwcmV0YXRpb24uDQoNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJPbmNlIGRhaWx5IChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDEuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIlR3aWNlIGEgZGF5IChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDIuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIlRocmVlIHRpbWVzIGRhaWx5IChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDMuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkZvdXIgdGltZXMgZGFpbHkgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gNC4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRXZlcnkgdHdlbnR5IGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gMS4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRXZlcnkgdHdlbHZlIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDIuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IHRoaXJ0eSBzaXggaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gMC42Nw0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IGVpZ2h0IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDMuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gNi4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRXZlcnkgc2l4IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDQuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IHNldmVudHkgdHdvIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDAuMzMNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJFdmVyeSBmb3J0eSBlaWdodCBob3VycyAocXVhbGlmaWVyIHZhbHVlKSIgdGhlbiAwLjUNCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJFdmVyeSBlaWdodCB0byB0d2VsdmUgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gMy4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRXZlcnkgc2l4IHRvIGVpZ2h0IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDQuMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IHRocmVlIHRvIGZvdXIgaG91cnMgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gOC4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiRXZlcnkgdGhyZWUgdG8gc2l4IGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDguMA0KICAgIHdoZW4gZnJlcXVlbmN5IH4gIkV2ZXJ5IHR3byB0byBmb3VyIGhvdXJzIChxdWFsaWZpZXIgdmFsdWUpIiB0aGVuIDEyLjANCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJPbmUgdG8gZm91ciB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSIgdGhlbiA0LjANCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJPbmUgdG8gdGhyZWUgdGltZXMgYSBkYXkgKHF1YWxpZmllciB2YWx1ZSkiIHRoZW4gMy4wDQogICAgd2hlbiBmcmVxdWVuY3kgfiAiT25lIHRvIHR3byB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSIgdGhlbiAyLjANCiAgICB3aGVuIGZyZXF1ZW5jeSB+ICJUd28gdG8gZm91ciB0aW1lcyBhIGRheSAocXVhbGlmaWVyIHZhbHVlKSIgdGhlbiA0LjANCg0KICAgIGVsc2UgTWVzc2FnZShudWxsLCB0cnVlLCAnQ01ETG9naWMuVG9EYWlseS5Vbmtub3duRnJlcXVlbmN5Q29kZScsIEVycm9yTGV2ZWwsICdVbmtub3duIGZyZXF1ZW5jeSBjb2RlICcgJiBmcmVxdWVuY3kuY29kZSkNCiAgZW5kDQoNCi8qDQpOb3cgdGhhdCB3ZSBoYXZlIGEgVG9EYWlseSBmdW5jdGlvbiwgd2UgY2FuIGFwcHJvYWNoIGNhbGN1bGF0aW9uIG9mIHRoZQ0KZHVyYXRpb24gb2YgbWVkaWNhdGlvbiBmb3IgYW4gb3JkZXIuIEZpcnN0LCBjb25zaWRlciB0aGUgZGVmaW5pdGlvbnMNCmZvciBlYWNoIGVsZW1lbnQ6DQoqIDEgYW5kIG9ubHkgMSBkb3NhZ2VJbnN0cnVjdGlvbg0KKiAxIGFuZCBvbmx5IDEgZG9zZUFuZFJhdGUNCiogMSB0aW1pbmcgd2l0aCAxIHJlcGVhdA0KKiBmcmVxdWVuY3ksIGZyZXF1ZW5jeU1heCwgZGVmYXVsdGluZyB0byAxDQoqIHBlcmlvZCwgcGVyaW9kVW5pdCwgZGVmYXVsdGluZyB0byAxICdkJw0KKiBkb3NlUXVhbnRpdHkgb3IgZG9zZVJhbmdlDQoqIHRpbWVPZkRheQ0KKiBhdXRob3JlZE9uOiBUaGUgZGF0ZSB0aGUgcHJlc2NyaXB0aW9uIHdhcyB3cml0dGVuDQoqIGRpc3BlbnNlUmVxdWVzdC52YWxpZGl0eVBlcmlvZDogVGltZSBwZXJpb2Qgc3VwcGx5IGlzIGF1dGhvcml6ZWQgZm9yDQoqIGRpc3BlbnNlUmVxdWVzdC5xdWFudGl0eTogYW1vdW50IG9mIG1lZGljYXRpb24gc3VwcGxpZWQgcGVyIGRpc3BlbnNlDQoqIGRpc3BlbnNlUmVxdWVzdC5udW1iZXJPZlJlcGVhdHNBbGxvd2VkOiBudW1iZXIgb2YgcmVmaWxscyBhdXRob3JpemVkDQoqIGRpc3BlbnNlUmVxdWVzdC5leHBlY3RlZFN1cHBseUR1cmF0aW9uOiBudW1iZXIgb2YgZGF5cyBzdXBwbHkgcGVyIGRpc3BlbnNlDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuYm91bmRzRHVyYXRpb246IHRvdGFsIGR1cmF0aW9uIG9mIHRoZSByZXBlYXQNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5ib3VuZHNSYW5nZTogcmFuZ2Ugb2YgZHVyYXRpb25zIG9mIHRoZSByZXBlYXQNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5ib3VuZHNQZXJpb2Q6IHBlcmlvZCBib3VuZHMgb2YgdGhlIHJlcGVhdA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmNvdW50OiBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0DQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuY291bnRNYXg6IG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmZyZXF1ZW5jeTogZXZlbnQgb2NjdXJzIGZyZXF1ZW5jeSB0aW1lcyBwZXIgcGVyaW9kDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuZnJlcXVlbmN5TWF4OiBldmVudCBvY2N1cnMgdXAgdG8gZnJlcXVlbmN5TWF4IHRpbWVzIHBlciBwZXJpb2QNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5wZXJpb2Q6IGV2ZW50IG9jY3VycyBmcmVxdWVuY3kgdGltZXMgcGVyIHBlcmlvZA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LnBlcmlvZE1heDogdXBwZXIgbGltaXQgb2YgcGVyaW9kDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQucGVyaW9kVW5pdDogcGVyaW9kIGR1cmF0aW9uIChzIHwgbWluIHwgaCB8IGQgfCB3ayB8IG1vIHwgYSkNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC50aW1lT2ZEYXk6IHRpbWUgb2YgZGF5IGZvciB0aGUgZXZlbnQgKDAuLiopDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQud2hlbjogZXZlbnQgdGltaW5nIChIUyB8IFdBS0UgfCBDIHwgQ00gfCBDRCB8IENWIHwgQUMgfCBBQ00uLi4pDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5jb2RlOiBCSUQgfCBUSUQgfCBRSUQgfCBBTSB8IFBNIHwgUUQgfCBRT0QuLi4NCiogZG9zYWdlSW5zdHJ1Y3Rpb24uYXNOZWVkZWQNCiogZG9zYWdlSW5zdHJ1Y3Rpb24uZG9zZUFuZFJhdGUuZG9zZVF1YW50aXR5DQoqIGRvc2FnZUluc3RydWN0aW9uLmRvc2VBbmRSYXRlLmRvc2VSYW5nZQ0KSWYgZXhwZWN0ZWRTdXBwbHlEdXJhdGlvbiBpcyBwcmVzZW50LCB0aGVuIHRoZSBkdXJhdGlvbiBpcw0KICAgIGV4cGVjdGVkU3VwcGx5RHVyYXRpb24gKiAoMSArIG51bWJlck9mUmVwZWF0c0FsbG93ZWQpDQpJZiBleHBlY3RlZFN1cHBseUR1cmF0aW9uIGlzIG5vdCBwcmVzZW50LCB0aGVuIGl0IG11c3QgYmUgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgcXVhbnRpdHksIGRvc2FnZSwgYW5kIGZyZXF1ZW5jeToNCiAgICAocXVhbnRpdHkgLyAoZG9zYWdlICogZnJlcXVlbmN5KSkgKiAoMSArIG51bWJlck9mUmVwZWF0c0FsbG93ZWQpDQogICAgZG9zYWdlOiBDb2FsZXNjZShlbmQgb2YgZG9zZUFuZFJhdGUuZG9zZVJhbmdlLCBkb3NlQW5kUmF0ZS5kb3NlUXVhbnRpdHkpDQogICAgZnJlcXVlbmN5OiBDb2FsZXNjZShmcmVxdWVuY3lNYXgsIGZyZXF1ZW5jeSkNCiAgICBwZXJpb2Q6IFF1YW50aXR5KHBlcmlvZCwgcGVyaW9kVW5pdCkNCklmIGV4cGVjdGVkU3VwcGx5RHVyYXRpb24gaXMgbm90IHByZXNlbnQgYW5kIGNhbm5vdCBiZSBjYWxjdWxhdGVkLCBhbmQgdGhlIGJvdW5kc1BlcmlvZCBpcyBwcmVzZW50IChhbmQgY29tcGxldGVseSBzcGVjaWZpZWQpLCB3ZSBjYW4gdXNlIHRoYXQgZGlyZWN0bHkNCiAgICBkb3NhZ2UudGltaW5nLnJlcGVhdC5ib3VuZHNQZXJpb2QNClRoaXMgY2FsY3VsYXRpb24gcmVzdWx0cyBpbiBhIG51bWJlciBvZiBkYXlzLCB3aGljaCBjYW4gdGhlbiBiZSB0dXJuZWQgaW50byBhIHBlcmlvZCBieSBhbmNob3JpbmcgdGhhdCB0byB0aGUNCnN0YXJ0IG9mIHRoZSB2YWxpZGl0eVBlcmlvZCBvciB0aGUgYXV0aG9yZWRPbjoNCiAgICBJbnRlcnZhbFtlYXJsaWVzdERpc3BlbnNhYmxlLCBlYXJsaWVzdERpc3BlbnNhYmxlICsgZXhwZWN0ZWRTdXBwbHlEdXJhdGlvbiAtIDFdDQogICAgZWFybGllc3REaXNwZW5zYWJsZTogQ29hbGVzY2Uoc3RhcnQgb2YgdmFsaWRpdHlQZXJpb2QsIGF1dGhvcmVkT24pDQpUaGUgZm9sbG93aW5nIGZ1bmN0aW9uIGlsbHVzdHJhdGVzIHRoaXMgY29tcGxldGVseToNCiovDQoNCi8qDQpDYWxjdWxhdGVzIHRoZSBNZWRpY2F0aW9uIFBlcmlvZCBmb3IgYSBzaW5nbGUgTWVkaWNhdGlvblJlcXVlc3QuDQpNZWRpY2F0aW9uUmVxdWVzdCBpbnN0YW5jZXMgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgZXhwZWN0ZWQNCnRvIGNvbmZvcm0gdG8gdGhlIFtNTUVNZWRpY2F0aW9uUmVxdWVzdF0oaHR0cDovL2J1aWxkLmZoaXIub3JnL2lnL2NxZnJhbWV3b3JrL29waW9pZC1tbWUtcjQvU3RydWN0dXJlRGVmaW5pdGlvbi1tbWVtZWRpY2F0aW9ucmVxdWVzdC5odG1sKQ0KcHJvZmlsZSwgd2hpY2ggZXhwZWN0czoNCiogMSBhbmQgb25seSAxIGRvc2FnZUluc3RydWN0aW9uLCBtdWx0aXBsZSBkb3NhZ2VJbnN0cnVjdGlvbiBlbGVtZW50cyB3aWxsIHJlc3VsdCBpbiBhbiBlcnJvcg0KKiAxIGFuZCBvbmx5IDEgZG9zZUFuZFJhdGUsIG11bHRpcGxlIGRvc2VBbmRSYXRlIGVsZW1lbnRzIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yDQoqIDEgdGltaW5nIHdpdGggMSByZXBlYXQsIG1pc3NpbmcgdGltaW5nIG9yIHJlcGVhdCBlbGVtZW50cyB3aWxsIHJlc3VsdCBpbiBhIG51bGwNCiogZnJlcXVlbmN5LCBmcmVxdWVuY3lNYXgsIGRlZmF1bHRpbmcgdG8gMQ0KKiBwZXJpb2QsIHBlcmlvZFVuaXQsIGRlZmF1bHRpbmcgdG8gMSAnZCcNCiogdGltZU9mRGF5DQoqIGRvc2VRdWFudGl0eSBvciBkb3NlUmFuZ2UsIG1pc3NpbmcgZG9zZVF1YW50aXR5IGFuZCBkb3NlUmFuZ2Ugd2lsbCByZXN1bHQgaW4gYSBudWxsDQpOb3RlIHRoYXQgTWVkaWNhdGlvblJlcXVlc3Qgc3RhdHVzIGlzIG5vdCBjb25zaWRlcmVkIGJ5IHRoaXMgY2FsY3VsYXRpb24sIGFzIHRoZQ0KbGlzdCBvZiBNZWRpY2F0aW9uUmVxdWVzdCBpbnN0YW5jZXMgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYWxyZWFkeSBoYXZlDQpjb25zaWRlcmVkIGFwcHJvcHJpYXRlIHN0YXR1c2VzLCBkZXBlbmRpbmcgb24gdGhlIHVzZSBjYXNlLCB0eXBpY2FsbHkgYGNvbXBsZXRlZGAuDQoqLw0KZGVmaW5lIGZ1bmN0aW9uIE1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKFJlcXVlc3QgIk1lZGljYXRpb25SZXF1ZXN0Iik6DQogIFJlcXVlc3QgUg0KICAgIGxldA0KICAgICAgZG9zYWdlOiBzaW5nbGV0b24gZnJvbSBSLmRvc2FnZUluc3RydWN0aW9uLA0KICAgICAgZG9zZUFuZFJhdGU6IHNpbmdsZXRvbiBmcm9tIGRvc2FnZS5kb3NlQW5kUmF0ZSwNCiAgICAgIHRpbWluZzogZG9zYWdlLnRpbWluZywNCiAgICAgIGZyZXF1ZW5jeTogQ29hbGVzY2UodGltaW5nLnJlcGVhdC5mcmVxdWVuY3lNYXgsIHRpbWluZy5yZXBlYXQuZnJlcXVlbmN5KSwNCiAgICAgIHBlcmlvZDogUXVhbnRpdHkodGltaW5nLnJlcGVhdC5wZXJpb2QsIHRpbWluZy5yZXBlYXQucGVyaW9kVW5pdCksDQogICAgICBkb3NlUmFuZ2U6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlUXVhbnRpdHk6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlOiBDb2FsZXNjZShlbmQgb2YgZG9zZVJhbmdlLCBkb3NlUXVhbnRpdHkpLA0KICAgICAgZG9zZXNQZXJEYXk6IENvYWxlc2NlKFRvRGFpbHkoZnJlcXVlbmN5LCBwZXJpb2QpLCBDb3VudCh0aW1pbmcucmVwZWF0LnRpbWVPZkRheSksIDEuMCksDQogICAgICBib3VuZHNQZXJpb2Q6IHRpbWluZy5yZXBlYXQuYm91bmRzIGFzIEludGVydmFsPERhdGVUaW1lPiwNCiAgICAgIGRheXNTdXBwbHk6IChjb252ZXJ0IFIuZGlzcGVuc2VSZXF1ZXN0LmV4cGVjdGVkU3VwcGx5RHVyYXRpb24gdG8gZGF5cykudmFsdWUsDQogICAgICBxdWFudGl0eTogUi5kaXNwZW5zZVJlcXVlc3QucXVhbnRpdHksDQogICAgICByZWZpbGxzOiBDb2FsZXNjZShSLmRpc3BlbnNlUmVxdWVzdC5udW1iZXJPZlJlcGVhdHNBbGxvd2VkLCAwKSwNCiAgICAgIHN0YXJ0RGF0ZToNCiAgICAgICAgQ29hbGVzY2UoDQogICAgICAgICAgZGF0ZSBmcm9tIHN0YXJ0IG9mIGJvdW5kc1BlcmlvZCwNCiAgICAgICAgICBkYXRlIGZyb20gUi5hdXRob3JlZE9uLA0KICAgICAgICAgIGRhdGUgZnJvbSBzdGFydCBvZiBSLmRpc3BlbnNlUmVxdWVzdC52YWxpZGl0eVBlcmlvZA0KICAgICAgICApLA0KICAgICAgdG90YWxEYXlzU3VwcGxpZWQ6IENvYWxlc2NlKGRheXNTdXBwbHksIHF1YW50aXR5LnZhbHVlIC8gKGRvc2UudmFsdWUgKiBkb3Nlc1BlckRheSkpICogKDEgKyByZWZpbGxzKQ0KICAgIHJldHVybg0KICAgICAgaWYgc3RhcnREYXRlIGlzIG5vdCBudWxsIGFuZCB0b3RhbERheXNTdXBwbGllZCBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgUXVhbnRpdHkodG90YWxEYXlzU3VwcGxpZWQgLSAxLCAnZGF5JykgXQ0KICAgICAgZWxzZSBpZiBzdGFydERhdGUgaXMgbm90IG51bGwgYW5kIGJvdW5kc1BlcmlvZC4iaGlnaCIgaXMgbm90IG51bGwgdGhlbg0KICAgICAgICBJbnRlcnZhbFtzdGFydERhdGUsIGRhdGUgZnJvbSBlbmQgb2YgYm91bmRzUGVyaW9kXQ0KICAgICAgZWxzZQ0KICAgICAgICBudWxsDQoNCiBkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIG1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKFJlcXVlc3QgIk1lZGljYXRpb25SZXF1ZXN0Iik6DQogIFJlcXVlc3QgUg0KICAgIGxldA0KICAgICAgZG9zYWdlOiBzaW5nbGV0b24gZnJvbSBSLmRvc2FnZUluc3RydWN0aW9uLA0KICAgICAgZG9zZUFuZFJhdGU6IHNpbmdsZXRvbiBmcm9tIGRvc2FnZS5kb3NlQW5kUmF0ZSwNCiAgICAgIHRpbWluZzogZG9zYWdlLnRpbWluZywNCiAgICAgIGZyZXF1ZW5jeTogQ29hbGVzY2UodGltaW5nLnJlcGVhdC5mcmVxdWVuY3lNYXgsIHRpbWluZy5yZXBlYXQuZnJlcXVlbmN5KSwNCiAgICAgIHBlcmlvZDogUXVhbnRpdHkodGltaW5nLnJlcGVhdC5wZXJpb2QsIHRpbWluZy5yZXBlYXQucGVyaW9kVW5pdCksDQogICAgICBkb3NlUmFuZ2U6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlUXVhbnRpdHk6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlOiBDb2FsZXNjZShlbmQgb2YgZG9zZVJhbmdlLCBkb3NlUXVhbnRpdHkpLA0KICAgICAgZG9zZXNQZXJEYXk6IENvYWxlc2NlKFRvRGFpbHkoZnJlcXVlbmN5LCBwZXJpb2QpLCBDb3VudCh0aW1pbmcucmVwZWF0LnRpbWVPZkRheSksIDEuMCksDQogICAgICBib3VuZHNQZXJpb2Q6IHRpbWluZy5yZXBlYXQuYm91bmRzIGFzIEludGVydmFsPERhdGVUaW1lPiwNCiAgICAgIGRheXNTdXBwbHk6IChjb252ZXJ0IFIuZGlzcGVuc2VSZXF1ZXN0LmV4cGVjdGVkU3VwcGx5RHVyYXRpb24gdG8gZGF5cykudmFsdWUsDQogICAgICBxdWFudGl0eTogUi5kaXNwZW5zZVJlcXVlc3QucXVhbnRpdHksDQogICAgICByZWZpbGxzOiBDb2FsZXNjZShSLmRpc3BlbnNlUmVxdWVzdC5udW1iZXJPZlJlcGVhdHNBbGxvd2VkLCAwKSwNCiAgICAgIHN0YXJ0RGF0ZToNCiAgICAgICAgQ29hbGVzY2UoDQogICAgICAgICAgZGF0ZSBmcm9tIHN0YXJ0IG9mIGJvdW5kc1BlcmlvZCwNCiAgICAgICAgICBkYXRlIGZyb20gUi5hdXRob3JlZE9uLA0KICAgICAgICAgIGRhdGUgZnJvbSBzdGFydCBvZiBSLmRpc3BlbnNlUmVxdWVzdC52YWxpZGl0eVBlcmlvZA0KICAgICAgICApLA0KICAgICAgdG90YWxEYXlzU3VwcGxpZWQ6IENvYWxlc2NlKGRheXNTdXBwbHksIHF1YW50aXR5LnZhbHVlIC8gKGRvc2UudmFsdWUgKiBkb3Nlc1BlckRheSkpICogKDEgKyByZWZpbGxzKQ0KICAgIHJldHVybg0KICAgICAgaWYgc3RhcnREYXRlIGlzIG5vdCBudWxsIGFuZCB0b3RhbERheXNTdXBwbGllZCBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgUXVhbnRpdHkodG90YWxEYXlzU3VwcGxpZWQgLSAxLCAnZGF5JykgXQ0KICAgICAgZWxzZSBpZiBzdGFydERhdGUgaXMgbm90IG51bGwgYW5kIGJvdW5kc1BlcmlvZC4iaGlnaCIgaXMgbm90IG51bGwgdGhlbg0KICAgICAgICBJbnRlcnZhbFtzdGFydERhdGUsIGRhdGUgZnJvbSBlbmQgb2YgYm91bmRzUGVyaW9kXQ0KICAgICAgZWxzZQ0KICAgICAgICBudWxsDQoNCi8qDQpOZXh0LCBjb25zaWRlciB0aGUgTWVkaWNhdGlvbkRpc3BlbnNlIGNhc2U6DQoqIHdoZW5QcmVwYXJlZDogV2hlbiBwcm9kdWN0IHdhcyBwcmVwYXJlZA0KKiB3aGVuSGFuZGVkT3ZlcjogV2hlbiBwcm9kdWN0IHdhcyBnaXZlbiBvdXQNCiogcXVhbnRpdHk6IEFtb3VudCBkaXNwZW5zZWQNCiogZGF5c1N1cHBseTogQW1vdW50IG9mIG1lZGljYXRpb24gZXhwcmVzc2VkIGFzIGEgdGltaW5nIGFtb3VudA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmJvdW5kc0R1cmF0aW9uOiB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgcmVwZWF0DQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuYm91bmRzUmFuZ2U6IHJhbmdlIG9mIGR1cmF0aW9ucyBvZiB0aGUgcmVwZWF0DQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuYm91bmRzUGVyaW9kOiBwZXJpb2QgYm91bmRzIG9mIHRoZSByZXBlYXQNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5jb3VudDogbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmNvdW50TWF4OiBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5mcmVxdWVuY3k6IGV2ZW50IG9jY3VycyBmcmVxdWVuY3kgdGltZXMgcGVyIHBlcmlvZA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmZyZXF1ZW5jeU1heDogZXZlbnQgb2NjdXJzIHVwIHRvIGZyZXF1ZW5jeU1heCB0aW1lcyBwZXIgcGVyaW9kDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQucGVyaW9kOiBldmVudCBvY2N1cnMgZnJlcXVlbmN5IHRpbWVzIHBlciBwZXJpb2QNCiogZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5wZXJpb2RNYXg6IHVwcGVyIGxpbWl0IG9mIHBlcmlvZA0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LnBlcmlvZFVuaXQ6IHBlcmlvZCBkdXJhdGlvbiAocyB8IG1pbiB8IGggfCBkIHwgd2sgfCBtbyB8IGEpDQoqIGRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQudGltZU9mRGF5OiB0aW1lIG9mIGRheSBmb3IgdGhlIGV2ZW50ICgwLi4qKQ0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LndoZW46IGV2ZW50IHRpbWluZyAoSFMgfCBXQUtFIHwgQyB8IENNIHwgQ0QgfCBDViB8IEFDIHwgQUNNLi4uKQ0KKiBkb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcuY29kZTogQklEIHwgVElEIHwgUUlEIHwgQU0gfCBQTSB8IFFEIHwgUU9ELi4uDQoqIGRvc2FnZUluc3RydWN0aW9uLmFzTmVlZGVkDQoqIGRvc2FnZUluc3RydWN0aW9uLmRvc2VBbmRSYXRlLmRvc2VRdWFudGl0eQ0KKiBkb3NhZ2VJbnN0cnVjdGlvbi5kb3NlQW5kUmF0ZS5kb3NlUmFuZ2UNCldlIGhhdmUgZWZmZWN0aXZlbHkgdGhlIHNhbWUgZWxlbWVudHMsIHdpdGggdGhlIHNhbWUgbWVhbmluZ3MsIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IHRoZQ0KZXZlbnQgaXMgZG9jdW1lbnRpbmcgYSBzaW5nbGUgZGlzcGVuc2UsIGFuZCBkb2VzIG5vdCBjb250YWluIHJlZmlsbCBpbmZvcm1hdGlvbi4gSW4gYWRkaXRpb24sDQptdWx0aXBsZSBkaXNwZW5zZSBldmVudHMgd291bGQgdHlwaWNhbGx5IGJlIHByZXNlbnQsIGFuZCB0aG9zZSB3b3VsZCBhbGwgaGF2ZSB0byBiZSBjb25zaWRlcmVkDQphcyBwYXJ0IG9mIGFuIG92ZXJhbGwgY2FsY3VsYXRpb24uIFRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHdoZW4gd2UgY29tYmluZSByZXN1bHRzLCBidXQgZm9yDQp0aGlzIGZ1bmN0aW9uLCB3ZSdsbCBmb2N1cyBvbiBjYWxjdWxhdGluZyB0aGUgZHVyYXRpb24gb2YgYSBzaW5nbGUgZGlzcGVuc2UuDQpXaXRoIGEgTWVkaWNhdGlvbkRpc3BlbnNlLCBkb3NhZ2UgaW5mb3JtYXRpb24gaXMgZXhwZWN0ZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIHJlbGF0ZWQNCk1lZGljYXRpb25SZXF1ZXN0LCBzbyBib3VuZHNQZXJpb2Qgd291bGQgc3RpbGwgY292ZXIgdGhlIGVudGlyZSBwcmVzY3JpcHRpb24gKGluY2x1ZGluZyByZWZpbGxzKQ0KYW5kIHNvIGNhbm5vdCBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW50ZXJ2YWwgY292ZXJlZCBieSB0aGUgZGlzcGVuc2UuDQpJZiB0aGUgZGF5c1N1cHBseSBlbGVtZW50IGlzIHByZXNlbnQsIHRoZW4gdGhlIGR1cmF0aW9uIGluIGRheXMgaXMgc2ltcGx5DQogICAgZGF5c1N1cHBseQ0KTm90ZSBzcGVjaWZpY2FsbHkgdGhhdCB3ZSBhcmUgbm90IGNvbnNpZGVyaW5nIHJlZmlsbHMsIGFzIHRob3NlIHdvdWxkIGJlIGNvdmVyZWQNCmJ5IHN1YnNlcXVlbnQgZGlzcGVuc2UgcmVjb3Jkcy4NCklmIGRheXNTdXBwbGllZCBpcyBub3QgcHJlc2VudCwgdGhlbiBkYXlzU3VwcGxpZWQgbXVzdCBiZSBjYWxjdWxhdGVkIGJhc2VkIG9uDQp0aGUgcXVhbnRpdHksIGRvc2FnZSwgYW5kIGZyZXF1ZW5jeToNCiAgICAocXVhbnRpdHkgLyAoZG9zYWdlICogZnJlcXVlbmN5KSkNClRoaXMgY2FsY3VsYXRpb24gcmVzdWx0cyBpbiBhIG51bWJlciBvZiBkYXlzLCB3aGljaCBjYW4gdGhlbiBiZSB0dXJuZWQgaW50byBhDQpwZXJpb2QgYnkgYW5jaG9yaW5nIHRoYXQgdG8gdGhlIHN0YXJ0RGF0ZSwgYXMgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXZhaWxhYmxlDQp2YWx1ZSBvZiB0aGUgc3RhcnQgb2YgdGhlIGJvdW5kc1BlcmlvZCwgd2hlbkhhbmRlZE92ZXIsIGFuZCB3aGVuUHJlcGFyZWQuDQogICBJbnRlcnZhbFtzdGFydERhdGUsIHN0YXJ0RGF0ZSArIHRvdGFsRGF5c1N1cHBsaWVkIC0gMSBkYXldDQoqLw0KDQovKg0KQ2FsY3VsYXRlcyBNZWRpY2F0aW9uIFBlcmlvZCBmb3IgYSBnaXZlbiBNZWRpY2F0aW9uRGlzcGVuc2UNCk1lZGljYXRpb25EaXNwZW5zZSBpbnN0YW5jZXMgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgZXhwZWN0ZWQNCnRvIGNvbmZvcm0gdG8gdGhlIFtUT0RPOiBNTUVNZWRpY2F0aW9uRGlzcGVuc2VdKGh0dHA6Ly9idWlsZC5maGlyLm9yZy9pZy9jcWZyYW1ld29yay9vcGlvaWQtbW1lLXI0L1N0cnVjdHVyZURlZmluaXRpb24tbW1lbWVkaWNhdGlvbmRpc3BlbnNlLmh0bWwpDQpwcm9maWxlLCB3aGljaCBleHBlY3RzOg0KKiAxIGFuZCBvbmx5IDEgZG9zYWdlSW5zdHJ1Y3Rpb24sIG11bHRpcGxlIGRvc2FnZUluc3RydWN0aW9uIGVsZW1lbnRzIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yDQoqIDEgYW5kIG9ubHkgMSBkb3NlQW5kUmF0ZSwgbXVsdGlwbGUgZG9zZUFuZFJhdGUgZWxlbWVudHMgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3INCiogMSB0aW1pbmcgd2l0aCAxIHJlcGVhdCwgbWlzc2luZyB0aW1pbmcgb3IgcmVwZWF0IGVsZW1lbnRzIHdpbGwgcmVzdWx0IGluIGEgbnVsbA0KKiBmcmVxdWVuY3ksIGZyZXF1ZW5jeU1heCwgZGVmYXVsdGluZyB0byAxDQoqIHBlcmlvZCwgcGVyaW9kVW5pdCwgZGVmYXVsdGluZyB0byAxICdkJw0KKiB0aW1lT2ZEYXkNCiogZG9zZVF1YW50aXR5IG9yIGRvc2VSYW5nZSwgbWlzc2luZyBkb3NlUXVhbnRpdHkgYW5kIGRvc2VSYW5nZSB3aWxsIHJlc3VsdCBpbiBhIG51bGwNCiogd2hlbkhhbmRlZE92ZXIgb3Igd2hlblByZXBhcmVkLCBpZiBtaXNzaW5nIGJvdGggd2hlbkhhbmRlZE92ZXIgYW5kIHdoZW5QcmVwYXJlZCB3aWxsIHJlc3VsdCBpbiBhIG51bGwNCk5vdGUgdGhhdCBNZWRpY2F0aW9uRGlzcGVuc2Ugc3RhdHVzIGlzIG5vdCBjb25zaWRlcmVkIGJ5IHRoaXMgY2FsY3VsYXRpb24sIGFzIHRoZQ0KbGlzdCBvZiBNZWRpY2F0aW9uRGlzcGVuc2UgaW5zdGFuY2VzIHByb3ZpZGVkIHRvIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGFscmVhZHkgaGF2ZQ0KY29uc2lkZXJlZCBhcHByb3ByaWF0ZSBzdGF0dXNlcywgZGVwZW5kaW5nIG9uIHRoZSB1c2UgY2FzZSwgdHlwaWNhbGx5IGBjb21wbGV0ZWRgLA0KZXNwZWNpYWxseSBzaW5jZSB3aGVuSGFuZGVkT3ZlciB3b3VsZCBiZSBleHBlY3RlZCB0byBiZSBwcmVzZW50IGZvciBhIGNvbXBsZXRlZA0KTWVkaWNhdGlvbkRpc3BlbnNlLg0KTm90ZSBhbHNvIHRoYXQgdGhlIGRvc2FnZSBpbmZvcm1hdGlvbiByZWNvcmRlZCBpbiBhIGRpc3BlbnNlIGlzIGV4cGVjdGVkIHRvIGJlIGEgY29weSBvZiB0aGUNCmRpc3BlbnNlIGluZm9ybWF0aW9uIGZyb20gdGhlIHJlbGF0ZWQgbWVkaWNhdGlvbiByZXF1ZXN0LiBBcyBzdWNoLCB0aGUgYm91bmRzUGVyaW9kIHdvdWxkIGJlIGV4cGVjdGVkDQp0byBjb3ZlciB0aGUgZW50aXJlIHJhbmdlLCBhbmQgc2hvdWxkIF9ub3RfIGJlIHVzZWQgZm9yIHRpbWluZyBvZiB0aGUgZXZlbnQuDQpUaGVyZSBpcyBhbHNvIGFjdGl2ZSBkaXNjdXNzaW9uIGluIHRoZSBQaGFybWFjeSBXRyBhYm91dCB3aGF0IGRhdGUgc2hvdWxkIGJlIHVzZWQgaWYgd2hlblByZXBhcmVkL3doZW5IYW5kZWRPdmVyIGlzIG5vdCBwcmVzZW50Lg0KVGhpcyBtYXkgdGFrZSB0aGUgZm9ybSBvZiBhbiAib3JpZ2luYWwgY3JlYXRpb24gZGF0ZSIsIGJ1dCBtYXkgYWxzbyBiZSBhICJzdGF0dXMgY2hhbmdlIGRhdGUiIGZvciBkaXNwZW5zZSBldmVudHMgdGhhdCBhcmUgdXBkYXRpbmcNCnN0YXR1cyBvZiBhbiBleGlzdGluZyBkaXNwZW5zZS4gVGhhdCBkaXNjdXNzaW9uIGlzIG9uZ29pbmcsIHNvIHVudGlsIHRoYXQgaXMgcmVzb2x2ZWQsIHRoaXMgbG9naWMgd2lsbCByZXR1cm4NCm51bGwgaWYgd2hlblByZXBhcmVkL3doZW5IYW5kZWRPdmVyIGFyZSBub3QgYXZhaWxhYmxlLg0KKi8NCmRlZmluZSBmdW5jdGlvbiBNZWRpY2F0aW9uRGlzcGVuc2VQZXJpb2QoRGlzcGVuc2UgIk1lZGljYXRpb25EaXNwZW5zZSIpOg0KICBEaXNwZW5zZSBEDQogICAgbGV0DQogICAgICBkb3NhZ2U6IHNpbmdsZXRvbiBmcm9tIEQuZG9zYWdlSW5zdHJ1Y3Rpb24sDQogICAgICBkb3NlQW5kUmF0ZTogc2luZ2xldG9uIGZyb20gZG9zYWdlLmRvc2VBbmRSYXRlLA0KICAgICAgdGltaW5nOiBkb3NhZ2UudGltaW5nLA0KICAgICAgZnJlcXVlbmN5OiBDb2FsZXNjZSh0aW1pbmcucmVwZWF0LmZyZXF1ZW5jeU1heCwgdGltaW5nLnJlcGVhdC5mcmVxdWVuY3kpLA0KICAgICAgcGVyaW9kOiBRdWFudGl0eSh0aW1pbmcucmVwZWF0LnBlcmlvZCwgdGltaW5nLnJlcGVhdC5wZXJpb2RVbml0KSwNCiAgICAgIGRvc2VSYW5nZTogZG9zZUFuZFJhdGUuZG9zZSwNCiAgICAgIGRvc2VRdWFudGl0eTogZG9zZUFuZFJhdGUuZG9zZSwNCiAgICAgIGRvc2U6IENvYWxlc2NlKGVuZCBvZiBkb3NlUmFuZ2UsIGRvc2VRdWFudGl0eSksDQogICAgICBkYXlzU3VwcGx5OiAoY29udmVydCBELmRheXNTdXBwbHkgdG8gZGF5cykudmFsdWUsDQogICAgICBkb3Nlc1BlckRheTogQ29hbGVzY2UoVG9EYWlseShmcmVxdWVuY3ksIHBlcmlvZCksIENvdW50KHRpbWluZy5yZXBlYXQudGltZU9mRGF5KSwgMS4wKSwNCiAgICAgIHN0YXJ0RGF0ZToNCiAgICAgICAgQ29hbGVzY2UoDQogICAgICAgICAgZGF0ZSBmcm9tIEQud2hlbkhhbmRlZE92ZXIsDQogICAgICAgICAgZGF0ZSBmcm9tIEQud2hlblByZXBhcmVkDQogICAgICAgICksDQogICAgICB0b3RhbERheXNTdXBwbGllZDogQ29hbGVzY2UoZGF5c1N1cHBseSwgRC5xdWFudGl0eS52YWx1ZSAvIChkb3NlLnZhbHVlICogZG9zZXNQZXJEYXkpKQ0KICAgIHJldHVybg0KICAgICAgaWYgc3RhcnREYXRlIGlzIG5vdCBudWxsIGFuZCB0b3RhbERheXNTdXBwbGllZCBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgUXVhbnRpdHkodG90YWxEYXlzU3VwcGxpZWQgLSAxLCAnZGF5JyldDQogICAgICBlbHNlDQogICAgICAgIG51bGwNCg0KIC8qDQpDYWxjdWxhdGVzIE1lZGljYXRpb24gUGVyaW9kIGZvciBhIGdpdmVuIE1lZGljYXRpb25EaXNwZW5zZQ0KTWVkaWNhdGlvbkRpc3BlbnNlIGluc3RhbmNlcyBwcm92aWRlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBleHBlY3RlZA0KdG8gY29uZm9ybSB0byB0aGUgW1RPRE86IE1NRU1lZGljYXRpb25EaXNwZW5zZV0oaHR0cDovL2J1aWxkLmZoaXIub3JnL2lnL2NxZnJhbWV3b3JrL29waW9pZC1tbWUtcjQvU3RydWN0dXJlRGVmaW5pdGlvbi1tbWVtZWRpY2F0aW9uZGlzcGVuc2UuaHRtbCkNCnByb2ZpbGUsIHdoaWNoIGV4cGVjdHM6DQoqIDEgYW5kIG9ubHkgMSBkb3NhZ2VJbnN0cnVjdGlvbiwgbXVsdGlwbGUgZG9zYWdlSW5zdHJ1Y3Rpb24gZWxlbWVudHMgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3INCiogMSBhbmQgb25seSAxIGRvc2VBbmRSYXRlLCBtdWx0aXBsZSBkb3NlQW5kUmF0ZSBlbGVtZW50cyB3aWxsIHJlc3VsdCBpbiBhbiBlcnJvcg0KKiAxIHRpbWluZyB3aXRoIDEgcmVwZWF0LCBtaXNzaW5nIHRpbWluZyBvciByZXBlYXQgZWxlbWVudHMgd2lsbCByZXN1bHQgaW4gYSBudWxsDQoqIGZyZXF1ZW5jeSwgZnJlcXVlbmN5TWF4LCBkZWZhdWx0aW5nIHRvIDENCiogcGVyaW9kLCBwZXJpb2RVbml0LCBkZWZhdWx0aW5nIHRvIDEgJ2QnDQoqIHRpbWVPZkRheQ0KKiBkb3NlUXVhbnRpdHkgb3IgZG9zZVJhbmdlLCBtaXNzaW5nIGRvc2VRdWFudGl0eSBhbmQgZG9zZVJhbmdlIHdpbGwgcmVzdWx0IGluIGEgbnVsbA0KKiB3aGVuSGFuZGVkT3ZlciBvciB3aGVuUHJlcGFyZWQsIGlmIG1pc3NpbmcgYm90aCB3aGVuSGFuZGVkT3ZlciBhbmQgd2hlblByZXBhcmVkIHdpbGwgcmVzdWx0IGluIGEgbnVsbA0KTm90ZSB0aGF0IE1lZGljYXRpb25EaXNwZW5zZSBzdGF0dXMgaXMgbm90IGNvbnNpZGVyZWQgYnkgdGhpcyBjYWxjdWxhdGlvbiwgYXMgdGhlDQpsaXN0IG9mIE1lZGljYXRpb25EaXNwZW5zZSBpbnN0YW5jZXMgcHJvdmlkZWQgdG8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYWxyZWFkeSBoYXZlDQpjb25zaWRlcmVkIGFwcHJvcHJpYXRlIHN0YXR1c2VzLCBkZXBlbmRpbmcgb24gdGhlIHVzZSBjYXNlLCB0eXBpY2FsbHkgYGNvbXBsZXRlZGAsDQplc3BlY2lhbGx5IHNpbmNlIHdoZW5IYW5kZWRPdmVyIHdvdWxkIGJlIGV4cGVjdGVkIHRvIGJlIHByZXNlbnQgZm9yIGEgY29tcGxldGVkDQpNZWRpY2F0aW9uRGlzcGVuc2UuDQpOb3RlIGFsc28gdGhhdCB0aGUgZG9zYWdlIGluZm9ybWF0aW9uIHJlY29yZGVkIGluIGEgZGlzcGVuc2UgaXMgZXhwZWN0ZWQgdG8gYmUgYSBjb3B5IG9mIHRoZQ0KZGlzcGVuc2UgaW5mb3JtYXRpb24gZnJvbSB0aGUgcmVsYXRlZCBtZWRpY2F0aW9uIHJlcXVlc3QuIEFzIHN1Y2gsIHRoZSBib3VuZHNQZXJpb2Qgd291bGQgYmUgZXhwZWN0ZWQNCnRvIGNvdmVyIHRoZSBlbnRpcmUgcmFuZ2UsIGFuZCBzaG91bGQgX25vdF8gYmUgdXNlZCBmb3IgdGltaW5nIG9mIHRoZSBldmVudC4NClRoZXJlIGlzIGFsc28gYWN0aXZlIGRpc2N1c3Npb24gaW4gdGhlIFBoYXJtYWN5IFdHIGFib3V0IHdoYXQgZGF0ZSBzaG91bGQgYmUgdXNlZCBpZiB3aGVuUHJlcGFyZWQvd2hlbkhhbmRlZE92ZXIgaXMgbm90IHByZXNlbnQuDQpUaGlzIG1heSB0YWtlIHRoZSBmb3JtIG9mIGFuICJvcmlnaW5hbCBjcmVhdGlvbiBkYXRlIiwgYnV0IG1heSBhbHNvIGJlIGEgInN0YXR1cyBjaGFuZ2UgZGF0ZSIgZm9yIGRpc3BlbnNlIGV2ZW50cyB0aGF0IGFyZSB1cGRhdGluZw0Kc3RhdHVzIG9mIGFuIGV4aXN0aW5nIGRpc3BlbnNlLiBUaGF0IGRpc2N1c3Npb24gaXMgb25nb2luZywgc28gdW50aWwgdGhhdCBpcyByZXNvbHZlZCwgdGhpcyBsb2dpYyB3aWxsIHJldHVybg0KbnVsbCBpZiB3aGVuUHJlcGFyZWQvd2hlbkhhbmRlZE92ZXIgYXJlIG5vdCBhdmFpbGFibGUuDQoqLw0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBtZWRpY2F0aW9uRGlzcGVuc2VQZXJpb2QoRGlzcGVuc2UgIk1lZGljYXRpb25EaXNwZW5zZSIpOg0KICBEaXNwZW5zZSBEDQogICAgbGV0DQogICAgICBkb3NhZ2U6IHNpbmdsZXRvbiBmcm9tIEQuZG9zYWdlSW5zdHJ1Y3Rpb24sDQogICAgICBkb3NlQW5kUmF0ZTogc2luZ2xldG9uIGZyb20gZG9zYWdlLmRvc2VBbmRSYXRlLA0KICAgICAgdGltaW5nOiBkb3NhZ2UudGltaW5nLA0KICAgICAgZnJlcXVlbmN5OiBDb2FsZXNjZSh0aW1pbmcucmVwZWF0LmZyZXF1ZW5jeU1heCwgdGltaW5nLnJlcGVhdC5mcmVxdWVuY3kpLA0KICAgICAgcGVyaW9kOiBRdWFudGl0eSh0aW1pbmcucmVwZWF0LnBlcmlvZCwgdGltaW5nLnJlcGVhdC5wZXJpb2RVbml0KSwNCiAgICAgIGRvc2VSYW5nZTogZG9zZUFuZFJhdGUuZG9zZSwNCiAgICAgIGRvc2VRdWFudGl0eTogZG9zZUFuZFJhdGUuZG9zZSwNCiAgICAgIGRvc2U6IENvYWxlc2NlKGVuZCBvZiBkb3NlUmFuZ2UsIGRvc2VRdWFudGl0eSksDQogICAgICBkYXlzU3VwcGx5OiAoY29udmVydCBELmRheXNTdXBwbHkgdG8gZGF5cykudmFsdWUsDQogICAgICBkb3Nlc1BlckRheTogQ29hbGVzY2UoVG9EYWlseShmcmVxdWVuY3ksIHBlcmlvZCksIENvdW50KHRpbWluZy5yZXBlYXQudGltZU9mRGF5KSwgMS4wKSwNCiAgICAgIHN0YXJ0RGF0ZToNCiAgICAgICAgQ29hbGVzY2UoDQogICAgICAgICAgZGF0ZSBmcm9tIEQud2hlbkhhbmRlZE92ZXIsDQogICAgICAgICAgZGF0ZSBmcm9tIEQud2hlblByZXBhcmVkDQogICAgICAgICksDQogICAgICB0b3RhbERheXNTdXBwbGllZDogQ29hbGVzY2UoZGF5c1N1cHBseSwgRC5xdWFudGl0eS52YWx1ZSAvIChkb3NlLnZhbHVlICogZG9zZXNQZXJEYXkpKQ0KICAgIHJldHVybg0KICAgICAgaWYgc3RhcnREYXRlIGlzIG5vdCBudWxsIGFuZCB0b3RhbERheXNTdXBwbGllZCBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgUXVhbnRpdHkodG90YWxEYXlzU3VwcGxpZWQgLSAxLCAnZGF5JyldDQogICAgICBlbHNlDQogICAgICAgIG51bGwNCiANCi8qDQpSZXR1cm5zIHRoZSBlc3RhYmxpc2hlZCB0aGVyYXBldXRpYyBkdXJhdGlvbiBmb3IgYSBnaXZlbiBtZWRpY2F0aW9uLg0KVGhpcyBpcyBsaWtlbHkgbWVhc3VyZSBzcGVjaWZpYywgdGhvdWdoIGNvdWxkIHBvdGVudGlhbGx5IGJlIGVzdGFibGlzaGVkIGZvcg0KYW55IGRydWcgYW5kIGRpc3RyaWJ1dGVkIGFzIGEgQ29kZVN5c3RlbSBzdXBwbGVtZW50Lg0KRGVmYXVsdGluZyB0byAxNCBkYXlzIGhlcmUgZm9yIGlsbHVzdHJhdGlvbi4NCiovDQpkZWZpbmUgZnVuY3Rpb24gVGhlcmFwZXV0aWNEdXJhdGlvbihtZWRpY2F0aW9uIENvbmNlcHQpOg0KICAxNCBkYXlzDQoNCiAvKg0KTmV4dCB3ZSBjb25zaWRlciBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uIFRoaXMgZGF0YSB0eXBlIGlzIHR5cGljYWxseSB1c2VkIHRvDQpjYXB0dXJlIHNwZWNpZmljIGFkbWluaXN0cmF0aW9uLCB3aXRoIHRoZSByZWxldmFudFBlcmlvZCBjYXB0dXJpbmcgc3RhcnQgYW5kIHN0b3ANCnRpbWUgb2YgdGhlIGFkbWluaXN0cmF0aW9uIGV2ZW50Og0KKiBlZmZlY3RpdmVbeF06IFN0YXJ0IGFuZCBlbmQgdGltZSBvZiBhZG1pbmlzdHJhdGlvbg0KSG93ZXZlciwgd2hlbiBjYWxjdWxhdGluZyBjdW11bGF0aXZlIG1lZGljYXRpb24gZHVyYXRpb24sIGl0IGlzIHR5cGljYWxseSB0aGUNCnRoZXJhcGV1dGljIHBlcmlvZCBvZiB0aGUgbWVkaWNhdGlvbiB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkLiBDdXJyZW50bHkgbmVpdGhlcg0KdGhlIE1lZGljYXRpb24gbm9yIE1lZGljYXRpb25Lbm93bGVkZ2UgcmVzb3VyY2VzIHByb3ZpZGUgdGhpcyBpbmZvcm1hdGlvbiwgc28NCndlIG1vZGVsIGl0IGhlcmUgYXMgYSBmdW5jdGlvbiB0aGF0IGNhbiBwb3RlbnRpYWxseSBiZSBpbXBsZW1lbnRlZCBpbiBhIHZhcmlldHkNCm9mIHdheXMsIGluY2x1ZGluZyBtZWFzdXJlLXNwZWNpZmljIHZhbHVlcywgYXMgd2VsbCBhcyBkaXN0cmlidXRpb24gYXMgYW4gUnhOb3JtDQpjb2RlIHN5c3RlbSBzdXBwbGVtZW50Lg0KSG93ZXZlciBpdCBpcyBvYnRhaW5lZCwgaWYgdGhlcmFwZXV0aWMgZHVyYXRpb24gY2FuIGJlIG9idGFpbmVkLCBhbmQgdGhlIGVmZmVjdGl2ZQ0KcGVyaW9kIGhhcyBhIHN0YXJ0LCB0aGUgcmVzdWx0IHdpbGwgYmUNCiAgICBJbnRlcnZhbFtzdGFydERhdGUsIHN0YXJ0RGF0ZSArIHRoZXJhcGV1dGljRHVyYXRpb24gLSAxIGRheV0NCk5PVEU6IFRoZXJhcGV1dGljIGR1cmF0aW9uIG5lZWRzIHRvIGJlIGVzdGFibGlzaGVkIGFuZCB1bnRpbCBhIHdheSBpcyBpbXBsZW1lbnRlZCB0bw0KZG8gdGhhdCBiYXNlZCBvbiB0aGUgbWVkaWNhdGlvbiwgdGhpcyBsb2dpYyBpcyBpbmNvbXBsZXRlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuDQoqLw0KZGVmaW5lIGZ1bmN0aW9uIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvblBlcmlvZChBZG1pbmlzdHJhdGlvbiAiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIik6DQogIEFkbWluaXN0cmF0aW9uIE0NCiAgICBsZXQNCiAgICAgIHRoZXJhcGV1dGljRHVyYXRpb246IFRoZXJhcGV1dGljRHVyYXRpb24oQWRtaW5pc3RyYXRpb24ubWVkaWNhdGlvbiksDQogICAgICBzdGFydERhdGU6IGRhdGUgZnJvbSBzdGFydCBvZiBBZG1pbmlzdHJhdGlvbi5lZmZlY3RpdmUNCiAgICByZXR1cm4NCiAgICAgIGlmIHN0YXJ0RGF0ZSBpcyBub3QgbnVsbCBhbmQgdGhlcmFwZXV0aWNEdXJhdGlvbiBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgdGhlcmFwZXV0aWNEdXJhdGlvbiAtIDFdDQogICAgICBlbHNlDQogICAgICAgIG51bGwNCg0KIC8qDQpOZXh0IHdlIGNvbnNpZGVyIE1lZGljYXRpb25BZG1pbmlzdHJhdGlvbi4gVGhpcyBkYXRhIHR5cGUgaXMgdHlwaWNhbGx5IHVzZWQgdG8NCmNhcHR1cmUgc3BlY2lmaWMgYWRtaW5pc3RyYXRpb24sIHdpdGggdGhlIHJlbGV2YW50UGVyaW9kIGNhcHR1cmluZyBzdGFydCBhbmQgc3RvcA0KdGltZSBvZiB0aGUgYWRtaW5pc3RyYXRpb24gZXZlbnQ6DQoqIGVmZmVjdGl2ZVt4XTogU3RhcnQgYW5kIGVuZCB0aW1lIG9mIGFkbWluaXN0cmF0aW9uDQpIb3dldmVyLCB3aGVuIGNhbGN1bGF0aW5nIGN1bXVsYXRpdmUgbWVkaWNhdGlvbiBkdXJhdGlvbiwgaXQgaXMgdHlwaWNhbGx5IHRoZQ0KdGhlcmFwZXV0aWMgcGVyaW9kIG9mIHRoZSBtZWRpY2F0aW9uIHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQuIEN1cnJlbnRseSBuZWl0aGVyDQp0aGUgTWVkaWNhdGlvbiBub3IgTWVkaWNhdGlvbktub3dsZWRnZSByZXNvdXJjZXMgcHJvdmlkZSB0aGlzIGluZm9ybWF0aW9uLCBzbw0Kd2UgbW9kZWwgaXQgaGVyZSBhcyBhIGZ1bmN0aW9uIHRoYXQgY2FuIHBvdGVudGlhbGx5IGJlIGltcGxlbWVudGVkIGluIGEgdmFyaWV0eQ0Kb2Ygd2F5cywgaW5jbHVkaW5nIG1lYXN1cmUtc3BlY2lmaWMgdmFsdWVzLCBhcyB3ZWxsIGFzIGRpc3RyaWJ1dGlvbiBhcyBhbiBSeE5vcm0NCmNvZGUgc3lzdGVtIHN1cHBsZW1lbnQuDQpIb3dldmVyIGl0IGlzIG9idGFpbmVkLCBpZiB0aGVyYXBldXRpYyBkdXJhdGlvbiBjYW4gYmUgb2J0YWluZWQsIGFuZCB0aGUgZWZmZWN0aXZlDQpwZXJpb2QgaGFzIGEgc3RhcnQsIHRoZSByZXN1bHQgd2lsbCBiZQ0KICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgdGhlcmFwZXV0aWNEdXJhdGlvbiAtIDEgZGF5XQ0KTk9URTogVGhlcmFwZXV0aWMgZHVyYXRpb24gbmVlZHMgdG8gYmUgZXN0YWJsaXNoZWQgYW5kIHVudGlsIGEgd2F5IGlzIGltcGxlbWVudGVkIHRvDQpkbyB0aGF0IGJhc2VkIG9uIHRoZSBtZWRpY2F0aW9uLCB0aGlzIGxvZ2ljIGlzIGluY29tcGxldGUgYW5kIHNob3VsZCBub3QgYmUgdXNlZC4NCiovDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIG1lZGljYXRpb25BZG1pbmlzdHJhdGlvblBlcmlvZChBZG1pbmlzdHJhdGlvbiAiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIik6DQogIEFkbWluaXN0cmF0aW9uIE0NCiAgICBsZXQNCiAgICAgIHRoZXJhcGV1dGljRHVyYXRpb246IFRoZXJhcGV1dGljRHVyYXRpb24oQWRtaW5pc3RyYXRpb24ubWVkaWNhdGlvbiksDQogICAgICBzdGFydERhdGU6IGRhdGUgZnJvbSBzdGFydCBvZiBBZG1pbmlzdHJhdGlvbi5lZmZlY3RpdmUNCiAgICByZXR1cm4NCiAgICAgIGlmIHN0YXJ0RGF0ZSBpcyBub3QgbnVsbCBhbmQgdGhlcmFwZXV0aWNEdXJhdGlvbiBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgdGhlcmFwZXV0aWNEdXJhdGlvbiAtIDFdDQogICAgICBlbHNlDQogICAgICAgIG51bGwNCg0KLyoNCk5vdyB0aGF0IHdlIGhhdmUgZnVuY3Rpb25zIGZvciBkZXRlcm1pbmluZyB0aGUgbWVkaWNhdGlvbiBwZXJpb2QgZm9yIGluZGl2aWR1YWwNCnByZXNjcmlwdGlvbnMsIGFkbWluaXN0cmF0aW9ucywgYW5kIGRpc3BlbnNlcywgd2UgY2FuIGNvbWJpbmUgdGhvc2UgdXNpbmcNCmFuIG92ZXJhbGwgY3VtdWxhdGl2ZSBtZWRpY2F0aW9uIGR1cmF0aW9uIGNhbGN1bGF0aW9uLg0KVGhlcmUgYXJlIHR3byBicm9hZCBhcHByb2FjaGVzIHRvIGNhbGN1bGF0aW5nIGN1bXVsYXRpdmUgZHVyYXRpb24sIG9uZSB0aGF0IF9jb2xsYXBzZXNfDQpvdmVybGFwcGluZyBpbnRlcnZhbHMgc28gdGhhdCBjYWxjdWxhdGlvbnMgYXJlIG5vdCBkdXBsaWNhdGVkLCBhbmQgb25lIHRoYXQgX3JvbGxzIG91dF8NCm92ZXJsYXBwaW5nIGludGVydmFscyBzbyB0aGF0IHRoZSBkdXJhdGlvbnMgYXJlIGxhaWQgZW5kLXRvLWVuZC4NCkZpcnN0LCB3ZSBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IHNpbXBseSBjYWxjdWxhdGVzIEN1bXVsYXRpdmVEdXJhdGlvbiBvZiBhIHNldCBvZg0KaW50ZXJ2YWxzOg0KKi8NCmRlZmluZSBmdW5jdGlvbiBDdW11bGF0aXZlRHVyYXRpb24oSW50ZXJ2YWxzIExpc3Q8SW50ZXJ2YWw8RGF0ZT4+KToNCiAgIGlmIEludGVydmFscyBpcyBub3QgbnVsbCB0aGVuICggU3VtKChjb2xsYXBzZSBJbnRlcnZhbHMgcGVyIGRheSlYDQogICAgICAgIHJldHVybiBhbGwoZGlmZmVyZW5jZSBpbiBkYXlzIGJldHdlZW4gc3RhcnQgb2YgWCBhbmQgDQogICAgICAgICAgZW5kIG9mIFgNCiAgICAgICAgKSsgMQ0KICAgICkNCiAgKSANCiAgICBlbHNlIG51bGwNCg0KIC8qDQpOb3cgdGhhdCB3ZSBoYXZlIGZ1bmN0aW9ucyBmb3IgZGV0ZXJtaW5pbmcgdGhlIG1lZGljYXRpb24gcGVyaW9kIGZvciBpbmRpdmlkdWFsDQpwcmVzY3JpcHRpb25zLCBhZG1pbmlzdHJhdGlvbnMsIGFuZCBkaXNwZW5zZXMsIHdlIGNhbiBjb21iaW5lIHRob3NlIHVzaW5nDQphbiBvdmVyYWxsIGN1bXVsYXRpdmUgbWVkaWNhdGlvbiBkdXJhdGlvbiBjYWxjdWxhdGlvbi4NClRoZXJlIGFyZSB0d28gYnJvYWQgYXBwcm9hY2hlcyB0byBjYWxjdWxhdGluZyBjdW11bGF0aXZlIGR1cmF0aW9uLCBvbmUgdGhhdCBfY29sbGFwc2VzXw0Kb3ZlcmxhcHBpbmcgaW50ZXJ2YWxzIHNvIHRoYXQgY2FsY3VsYXRpb25zIGFyZSBub3QgZHVwbGljYXRlZCwgYW5kIG9uZSB0aGF0IF9yb2xscyBvdXRfDQpvdmVybGFwcGluZyBpbnRlcnZhbHMgc28gdGhhdCB0aGUgZHVyYXRpb25zIGFyZSBsYWlkIGVuZC10by1lbmQuDQpGaXJzdCwgd2UgZGVmaW5lIGEgZnVuY3Rpb24gdGhhdCBzaW1wbHkgY2FsY3VsYXRlcyBDdW11bGF0aXZlRHVyYXRpb24gb2YgYSBzZXQgb2YNCmludGVydmFsczoNCiovDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGN1bXVsYXRpdmVEdXJhdGlvbihJbnRlcnZhbHMgTGlzdDxJbnRlcnZhbDxEYXRlPj4pOg0KICAgaWYgSW50ZXJ2YWxzIGlzIG5vdCBudWxsIHRoZW4gKCBTdW0oKGNvbGxhcHNlIEludGVydmFscyBwZXIgZGF5KVgNCiAgICAgICAgcmV0dXJuIGFsbChkaWZmZXJlbmNlIGluIGRheXMgYmV0d2VlbiBzdGFydCBvZiBYIGFuZCANCiAgICAgICAgICBlbmQgb2YgWA0KICAgICAgICApKyAxDQogICAgKQ0KICApIA0KICAgIGVsc2UgbnVsbA0KDQogLyoNCk5leHQsIHdlIGRlZmluZSBhIGZ1bmN0aW9uIHRoYXQgcm9sbHMgb3V0IGludGVydmFsczoNCiovDQpkZWZpbmUgZnVuY3Rpb24gUm9sbG91dEludGVydmFscyhpbnRlcnZhbHMgTGlzdDxJbnRlcnZhbDxEYXRlPj4pOg0KIGludGVydmFscyBJIGFnZ3JlZ2F0ZSBhbGwgUiBzdGFydGluZyAoIG51bGwgYXMgTGlzdDxJbnRlcnZhbDxEYXRlPj4pOiBSDQogICAgdW5pb24gKCB7IEkgWA0KICAgICAgICBsZXQgUzogTWF4KHsgDQogICAgICAgICAgZW5kIG9mIExhc3QoUikrIDEgZGF5LCBzdGFydCBvZiBYIH0NCiAgICAgICAgKSwNCiAgICAgICAgRTogUyArIFF1YW50aXR5KENvYWxlc2NlKGR1cmF0aW9uIGluIGRheXMgb2YgWCwgMCksICdkYXknKQ0KICAgICAgICByZXR1cm4gSW50ZXJ2YWxbUywgRV19DQogICAgKQ0KDQogIC8qDQpOZXh0LCB3ZSBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IHJvbGxzIG91dCBpbnRlcnZhbHM6DQoqLw0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiByb2xsb3V0SW50ZXJ2YWxzKGludGVydmFscyBMaXN0PEludGVydmFsPERhdGU+Pik6DQogaW50ZXJ2YWxzIEkgYWdncmVnYXRlIGFsbCBSIHN0YXJ0aW5nICggbnVsbCBhcyBMaXN0PEludGVydmFsPERhdGU+Pik6IFINCiAgICB1bmlvbiAoIHsgSSBYDQogICAgICAgIGxldCBTOiBNYXgoeyANCiAgICAgICAgICBlbmQgb2YgTGFzdChSKSsgMSBkYXksIHN0YXJ0IG9mIFggfQ0KICAgICAgICApLA0KICAgICAgICBFOiBTICsgUXVhbnRpdHkoQ29hbGVzY2UoZHVyYXRpb24gaW4gZGF5cyBvZiBYLCAwKSwgJ2RheScpDQogICAgICAgIHJldHVybiBJbnRlcnZhbFtTLCBFXX0NCiAgICApDQoNCi8qDQpUaGVuLCB3ZSBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IGFsbG93cyB1cyB0byBjYWxjdWxhdGUgYmFzZWQgb24gdGhlIHZhcmlvdXMgbWVkaWNhdGlvbg0KdHlwZXM6DQoqLw0KDQpkZWZpbmUgZnVuY3Rpb24gTWVkaWNhdGlvblBlcmlvZCgNCiAgbWVkaWNhdGlvbiBDaG9pY2U8Ik1lZGljYXRpb25SZXF1ZXN0IiwNCiAgICAiTWVkaWNhdGlvbkRpc3BlbnNlIg0KICA+KToNCiAgY2FzZQ0KICAgIHdoZW4gbWVkaWNhdGlvbiBpcyBNZWRpY2F0aW9uUmVxdWVzdCB0aGVuIE1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKG1lZGljYXRpb24pDQogICAgd2hlbiBtZWRpY2F0aW9uIGlzIE1lZGljYXRpb25EaXNwZW5zZSB0aGVuIE1lZGljYXRpb25EaXNwZW5zZVBlcmlvZChtZWRpY2F0aW9uKQ0KICAgIGVsc2UgbnVsbA0KICBlbmQNCg0KIC8qDQpUaGVuLCB3ZSBkZWZpbmUgYSBmdW5jdGlvbiB0aGF0IGFsbG93cyB1cyB0byBjYWxjdWxhdGUgYmFzZWQgb24gdGhlIHZhcmlvdXMgbWVkaWNhdGlvbg0KdHlwZXM6DQoqLw0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIG1lZGljYXRpb25QZXJpb2QoDQogIG1lZGljYXRpb24gQ2hvaWNlPCJNZWRpY2F0aW9uUmVxdWVzdCIsDQogICAgIk1lZGljYXRpb25EaXNwZW5zZSINCiAgPik6DQogIGNhc2UNCiAgICB3aGVuIG1lZGljYXRpb24gaXMgTWVkaWNhdGlvblJlcXVlc3QgdGhlbiBtZWRpY2F0aW9uLm1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKCkNCiAgICB3aGVuIG1lZGljYXRpb24gaXMgTWVkaWNhdGlvbkRpc3BlbnNlIHRoZW4gbWVkaWNhdGlvbi5tZWRpY2F0aW9uRGlzcGVuc2VQZXJpb2QoKQ0KICAgIGVsc2UgbnVsbA0KICBlbmQNCg0KLyoNCldlIGNhbiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uLCBjb21iaW5lZCB3aXRoIHRoZSBNZWRpY2F0aW9uRHVyYXRpb24gZnVuY3Rpb25zIGFib3ZlDQp0byBjYWxjdWxhdGUgQ3VtdWxhdGl2ZSBNZWRpY2F0aW9uIER1cmF0aW9uOg0KR2VuZXJhbGx5IHNwZWFraW5nLCB3ZSB3YW50IHRvIF9yb2xsIG91dF8gaW50ZXJ2YWxzIGZyb20gZGlzcGVuc2UgYW5kIGFkbWluaXN0cmF0aW9uDQpldmVudHMsIGFuZCB0aGVuIGNvbGxhcHNlIGFjcm9zcyB0aGF0IHJlc3VsdCBhbmQgaW50ZXJ2YWxzIGZyb20gcHJlc2NyaXB0aW9ucy4NCk5vdGUgYWxzbyB0aGF0IHRoZSBzZXBhcmF0aW9uIG9mIG1lZGljYXRpb25zIGJ5IHR5cGUgc2hvdWxkIGFscmVhZHkgYmUgZG9uZQ0KYnkgdGhpcyBzdGFnZSBhcyB3ZWxsLg0KQ2FsY3VsYXRpb25zIHRoYXQgY29tYmluZSBkb3NhZ2VzIGZyb20gZGlmZmVyZW50IHR5cGVzIG9mIG1lZGljYXRpb25zIChzdWNoIGFzIE1vcnBoaW5lIE1pbGxpZ3JhbSBFcXVpdmFsZW50IChNTUUpDQpvciBBdmVyYWdlIE1NRSkgcmVxdWlyZSBmdXJ0aGVyIGNvbnNpZGVyYXRpb24uDQoqLw0KDQpkZWZpbmUgZnVuY3Rpb24gQ3VtdWxhdGl2ZU1lZGljYXRpb25EdXJhdGlvbigNCiAgTWVkaWNhdGlvbnMgTGlzdDxDaG9pY2U8Ik1lZGljYXRpb25SZXF1ZXN0IiwNCiAgICAiTWVkaWNhdGlvbkRpc3BlbnNlIg0KICA+Pik6DQogIEN1bXVsYXRpdmVEdXJhdGlvbigoDQogICAgICBNZWRpY2F0aW9ucyBNDQogICAgICAgIHdoZXJlIE0gaXMgTWVkaWNhdGlvblJlcXVlc3QNCiAgICAgICAgcmV0dXJuIE1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKE0pDQogICAgKQ0KICAgICAgdW5pb24gKA0KICAgICAgICBSb2xsb3V0SW50ZXJ2YWxzKA0KICAgICAgICAgIE1lZGljYXRpb25zIE0NCiAgICAgICAgICAgIHdoZXJlIE0gaXMgTWVkaWNhdGlvbkRpc3BlbnNlDQogICAgICAgICAgICByZXR1cm4gTWVkaWNhdGlvbkRpc3BlbnNlUGVyaW9kKE0pDQogICAgICAgICkNCiAgICAgICkNCiAgKQ0KDQogLyoNCldlIGNhbiB0aGVuIHVzZSB0aGlzIGZ1bmN0aW9uLCBjb21iaW5lZCB3aXRoIHRoZSBNZWRpY2F0aW9uRHVyYXRpb24gZnVuY3Rpb25zIGFib3ZlDQp0byBjYWxjdWxhdGUgQ3VtdWxhdGl2ZSBNZWRpY2F0aW9uIER1cmF0aW9uOg0KR2VuZXJhbGx5IHNwZWFraW5nLCB3ZSB3YW50IHRvIF9yb2xsIG91dF8gaW50ZXJ2YWxzIGZyb20gZGlzcGVuc2UgYW5kIGFkbWluaXN0cmF0aW9uDQpldmVudHMsIGFuZCB0aGVuIGNvbGxhcHNlIGFjcm9zcyB0aGF0IHJlc3VsdCBhbmQgaW50ZXJ2YWxzIGZyb20gcHJlc2NyaXB0aW9ucy4NCk5vdGUgYWxzbyB0aGF0IHRoZSBzZXBhcmF0aW9uIG9mIG1lZGljYXRpb25zIGJ5IHR5cGUgc2hvdWxkIGFscmVhZHkgYmUgZG9uZQ0KYnkgdGhpcyBzdGFnZSBhcyB3ZWxsLg0KQ2FsY3VsYXRpb25zIHRoYXQgY29tYmluZSBkb3NhZ2VzIGZyb20gZGlmZmVyZW50IHR5cGVzIG9mIG1lZGljYXRpb25zIChzdWNoIGFzIE1vcnBoaW5lIE1pbGxpZ3JhbSBFcXVpdmFsZW50IChNTUUpDQpvciBBdmVyYWdlIE1NRSkgcmVxdWlyZSBmdXJ0aGVyIGNvbnNpZGVyYXRpb24uDQoqLw0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGN1bXVsYXRpdmVNZWRpY2F0aW9uRHVyYXRpb24oDQpNZWRpY2F0aW9ucyBMaXN0PENob2ljZTwiTWVkaWNhdGlvblJlcXVlc3QiLA0KIk1lZGljYXRpb25EaXNwZW5zZSINCj4+KToNCigoDQpNZWRpY2F0aW9ucyBNDQp3aGVyZSBNIGlzIE1lZGljYXRpb25SZXF1ZXN0DQpyZXR1cm4gTS5tZWRpY2F0aW9uUmVxdWVzdFBlcmlvZCgpDQopDQp1bmlvbiAoDQooDQpNZWRpY2F0aW9ucyBNDQp3aGVyZSBNIGlzIE1lZGljYXRpb25EaXNwZW5zZQ0KcmV0dXJuIE0ubWVkaWNhdGlvbkRpc3BlbnNlUGVyaW9kKCkNCikucm9sbG91dEludGVydmFscygpDQopDQopLmN1bXVsYXRpdmVEdXJhdGlvbigpDQogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KLyogRnVuY3Rpb25zIGluIHRoaXMgcmVnaW9uIGFyZSBjb3BpZWQgZnJvbSBvcGlvaWQtbW1lLXI0ICAgICAgICAgICAgICovDQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCg0KZGVmaW5lIGZ1bmN0aW9uIFF1YW50aXR5KHZhbHVlIERlY2ltYWwsIHVuaXQgU3RyaW5nKToNCiAgaWYgdmFsdWUgaXMgbm90IG51bGwgdGhlbg0KICAgIFN5c3RlbS5RdWFudGl0eSB7IHZhbHVlOiB2YWx1ZSwgdW5pdDogdW5pdCB9DQogIGVsc2UNCiAgICBudWxsDQoNCmRlZmluZSBUZXN0TWVkaWNhdGlvblJlcXVlc3Q6IFtNZWRpY2F0aW9uUmVxdWVzdF0NCmRlZmluZSBUZXN0TWVkaWNhdGlvblJlcXVlc3RQZXJpb2Q6IFRlc3RNZWRpY2F0aW9uUmVxdWVzdC5maXJzdCgpLm1lZGljYXRpb25SZXF1ZXN0UGVyaW9kKCkNCg0KZGVmaW5lIFRlc3Q6DQogIFRlc3RNZWRpY2F0aW9uUmVxdWVzdCBSDQogICAgbGV0IA0KICAgICAgZG9zYWdlOiBzaW5nbGV0b24gZnJvbSBSLmRvc2FnZUluc3RydWN0aW9uLA0KICAgICAgZG9zZUFuZFJhdGU6IHNpbmdsZXRvbiBmcm9tIGRvc2FnZS5kb3NlQW5kUmF0ZSwNCiAgICAgIHRpbWluZzogZG9zYWdlLnRpbWluZywNCiAgICAgIGZyZXF1ZW5jeTogQ29hbGVzY2UodGltaW5nLnJlcGVhdC5mcmVxdWVuY3lNYXgsIHRpbWluZy5yZXBlYXQuZnJlcXVlbmN5KSwNCiAgICAgIHBlcmlvZDogUXVhbnRpdHkodGltaW5nLnJlcGVhdC5wZXJpb2QsIHRpbWluZy5yZXBlYXQucGVyaW9kVW5pdCksDQogICAgICBkb3NlUmFuZ2U6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlUXVhbnRpdHk6IGRvc2VBbmRSYXRlLmRvc2UsDQogICAgICBkb3NlOiBDb2FsZXNjZShlbmQgb2YgZG9zZVJhbmdlLCBkb3NlUXVhbnRpdHkpLA0KICAgICAgZG9zZXNQZXJEYXk6IENvYWxlc2NlKFRvRGFpbHkoZnJlcXVlbmN5LCBwZXJpb2QpLCBDb3VudCh0aW1pbmcucmVwZWF0LnRpbWVPZkRheSksIDEuMCksDQogICAgICBib3VuZHNQZXJpb2Q6IHRpbWluZy5yZXBlYXQuYm91bmRzIGFzIEludGVydmFsPERhdGVUaW1lPiwNCiAgICAgIGRheXNTdXBwbHk6IFIuZGlzcGVuc2VSZXF1ZXN0LmV4cGVjdGVkU3VwcGx5RHVyYXRpb24udmFsdWUsDQogICAgICAvL2RheXNTdXBwbHk6IChjb252ZXJ0IFIuZGlzcGVuc2VSZXF1ZXN0LmV4cGVjdGVkU3VwcGx5RHVyYXRpb24gdG8gJ2QnKS52YWx1ZSwNCiAgICAgIHF1YW50aXR5OiBSLmRpc3BlbnNlUmVxdWVzdC5xdWFudGl0eSwNCiAgICAgIHJlZmlsbHM6IENvYWxlc2NlKFIuZGlzcGVuc2VSZXF1ZXN0Lm51bWJlck9mUmVwZWF0c0FsbG93ZWQsIDApLA0KICAgICAgc3RhcnREYXRlOg0KICAgICAgICBDb2FsZXNjZSgNCiAgICAgICAgICBkYXRlIGZyb20gc3RhcnQgb2YgYm91bmRzUGVyaW9kLA0KICAgICAgICAgIGRhdGUgZnJvbSBSLmF1dGhvcmVkT24sDQogICAgICAgICAgZGF0ZSBmcm9tIHN0YXJ0IG9mIFIuZGlzcGVuc2VSZXF1ZXN0LnZhbGlkaXR5UGVyaW9kDQogICAgICAgICksDQogICAgICB0b3RhbERheXNTdXBwbGllZDogQ29hbGVzY2UoZGF5c1N1cHBseSwgcXVhbnRpdHkudmFsdWUgLyAoZG9zZS52YWx1ZSAqIGRvc2VzUGVyRGF5KSkgKiAoMSArIHJlZmlsbHMpDQoNCiAgICByZXR1cm4gew0KICAgICAgZG9zYWdlOiBkb3NhZ2UsDQogICAgICBkb3NlQW5kUmF0ZTogZG9zZUFuZFJhdGUsDQogICAgICB0aW1pbmc6IHRpbWluZywNCiAgICAgIGZyZXF1ZW5jeTogZnJlcXVlbmN5LA0KICAgICAgcGVyaW9kOiBwZXJpb2QsDQogICAgICBkb3NlUmFuZ2U6IGRvc2VSYW5nZSwNCiAgICAgIGRvc2VRdWFudGl0eTogZG9zZVF1YW50aXR5LA0KICAgICAgZG9zZTogZG9zZSwNCiAgICAgIGRvc2VzUGVyRGF5OiBkb3Nlc1BlckRheSwNCiAgICAgIGJvdW5kc1BlcmlvZDogYm91bmRzUGVyaW9kLA0KICAgICAgZGF5c1N1cHBseTogZGF5c1N1cHBseSwNCiAgICAgIHRlc3REYXlzU3VwcGx5OiBSLmRpc3BlbnNlUmVxdWVzdC5leHBlY3RlZFN1cHBseUR1cmF0aW9uLA0KICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LA0KICAgICAgcmVmaWxsczogcmVmaWxscywNCiAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLA0KICAgICAgdG90YWxEYXlzU3VwcGxpZWQ6IHRvdGFsRGF5c1N1cHBsaWVkLA0KICAgICAgcGVyaW9kOg0KICAgICAgaWYgc3RhcnREYXRlIGlzIG5vdCBudWxsIGFuZCB0b3RhbERheXNTdXBwbGllZCBpcyBub3QgbnVsbCB0aGVuDQogICAgICAgIEludGVydmFsW3N0YXJ0RGF0ZSwgc3RhcnREYXRlICsgUXVhbnRpdHkodG90YWxEYXlzU3VwcGxpZWQgLSAxLCAnZGF5JykgXQ0KICAgICAgZWxzZSBpZiBzdGFydERhdGUgaXMgbm90IG51bGwgYW5kIGJvdW5kc1BlcmlvZC4iaGlnaCIgaXMgbm90IG51bGwgdGhlbg0KICAgICAgICBJbnRlcnZhbFtzdGFydERhdGUsIGRhdGUgZnJvbSBlbmQgb2YgYm91bmRzUGVyaW9kXQ0KICAgICAgZWxzZQ0KICAgICAgICBudWxsDQogICAgfQ0KLyogICAgDQogIHJldHVybg0KKi8=",
    "url": "https://madie.cms.gov/Library-CumulativeMedicationDuration.cql"
  } ]
}