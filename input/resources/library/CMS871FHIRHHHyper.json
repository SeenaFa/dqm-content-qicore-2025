{
  "resourceType": "Library",
  "id": "CMS871FHIRHHHyper",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS871FHIRHHHyper",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS871FHIRHHHyper"
  } ],
  "version": "1.0.000",
  "name": "CMS871FHIRHHHyper",
  "title": "CMS871FHIRHHHyper",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-08-25T23:21:06+00:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "description": "CMS871FHIRHHHyper",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library SDE",
    "resource": "https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"
  }, {
    "type": "depends-on",
    "display": "Library CQMCommon",
    "resource": "https://madie.cms.gov/Library/CQMCommon|4.1.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Value set Comfort Measures",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"
  }, {
    "type": "depends-on",
    "display": "Value set Diabetes",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001"
  }, {
    "type": "depends-on",
    "display": "Value set Discharged to Health Care Facility for Hospice Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207"
  }, {
    "type": "depends-on",
    "display": "Value set Discharged to Home for Hospice Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209"
  }, {
    "type": "depends-on",
    "display": "Value set Encounter Inpatient",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
  }, {
    "type": "depends-on",
    "display": "Value set Glucose Lab Test Mass Per Volume",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
  }, {
    "type": "depends-on",
    "display": "Value set Hypoglycemics Treatment Medications",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Comfort Measures Care",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Qualifying Encounter",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Hospitalization Period",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Existing Diabetes Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Hypoglycemic Medication",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Elevated Glucose Greater Than or Equal to 200",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Initial Population",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Measurement Population",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Days in Hospitalization",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Days with Glucose Results",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Days with Hyperglycemic Events",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Glucose Greater Than 600 within 1 Hour Prior To and 6 Hours After Encounter Start",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Glucose Tests Earlier Than Glucose Greater Than 600 within 1 Hour Prior To and 6 Hours After Encounter Start",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Initial Glucose Greater Than 600 within 1 Hour Prior To and 6 Hours After Encounter Start",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Glucose Greater Than 600 within 1 Hour Prior To and 6 Hours After Encounter Start",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Comfort Measures during Hospitalization",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Discharge for Hospice Care",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Early Glucose Greater Than 600 or with Comfort or Hospice Care",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator Exclusions",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Encounter with Hyperglycemic Events",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Numerator",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Numerator Exclusions",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Ethnicity",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Payer",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Race",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Sex",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Coding"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"
    } ]
  }, {
    "type": "ServiceRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" ],
    "mustSupport": [ "code", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "status", "status.value" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "status", "status.value" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code", "verificationStatus" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.103.12.1001"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "status", "status.value", "encounter", "encounter.reasonReference", "encounter.reasonCode", "hospitalizationPeriod", "encounter.subject", "encounter.subject.reference", "encounter.subject.reference.value" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1196.394"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "status", "status.value", "hospitalizationPeriod", "encounter" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "status", "status.value", "hospitalizationPeriod", "encounter" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "status", "status.value", "value", "effective" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "status", "status.value", "value", "effective" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "status", "status.value", "effective" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "value", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "code", "effective", "id", "id.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.34"
    } ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "id.value" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "id" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "id.value" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVM4NzFGSElSSEhIeXBlciB2ZXJzaW9uICcxLjAuMDAwJw0KDQp1c2luZyBRSUNvcmUgdmVyc2lvbiAnNi4wLjAnDQoNCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC40LjAwMCcgY2FsbGVkIEZISVJIZWxwZXJzDQppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50cyB2ZXJzaW9uICc1LjEuMDAwJyBjYWxsZWQgU0RFDQppbmNsdWRlIENRTUNvbW1vbiB2ZXJzaW9uICc0LjEuMDAwJyBjYWxsZWQgQ1FNQ29tbW9uDQppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICc0LjAuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uDQoNCnZhbHVlc2V0ICJDb21mb3J0IE1lYXN1cmVzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8xLjMuNi4xLjQuMS4zMzg5NS4xLjMuMC40NScNCnZhbHVlc2V0ICJEaWFiZXRlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDMuMTIuMTAwMScNCnZhbHVlc2V0ICJEaXNjaGFyZ2VkIHRvIEhlYWx0aCBDYXJlIEZhY2lsaXR5IGZvciBIb3NwaWNlIENhcmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIwNycNCnZhbHVlc2V0ICJEaXNjaGFyZ2VkIHRvIEhvbWUgZm9yIEhvc3BpY2UgQ2FyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjA5Jw0KdmFsdWVzZXQgIkVuY291bnRlciBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMzA3Jw0KdmFsdWVzZXQgIkdsdWNvc2UgTGFiIFRlc3QgTWFzcyBQZXIgVm9sdW1lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNCcNCnZhbHVlc2V0ICJIeXBvZ2x5Y2VtaWNzIFRyZWF0bWVudCBNZWRpY2F0aW9ucyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExOTYuMzk0Jw0KDQpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+DQogIGRlZmF1bHQgSW50ZXJ2YWxbQDIwMjYtMDEtMDFUMDA6MDA6MDAuMDAwWiwgQDIwMjctMDEtMDFUMDA6MDA6MDAuMDAwWikNCg0KY29udGV4dCBQYXRpZW50DQoNCmRlZmluZSAiQ29tZm9ydCBNZWFzdXJlcyBDYXJlIjoNCiAgKCBbIlByb2NlZHVyZSI6ICJDb21mb3J0IE1lYXN1cmVzIl0gUHJvY2VkdXJlQ00NCiAgICAgIHdoZXJlIFByb2NlZHVyZUNNLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICkNCiAgICB1bmlvbiAoIFsiU2VydmljZVJlcXVlc3QiOiAiQ29tZm9ydCBNZWFzdXJlcyJdIFNlcnZpY2VSZXENCiAgICAgICAgd2hlcmUgU2VydmljZVJlcS5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICkNCg0KZGVmaW5lICJEYXlzIGluIEhvc3BpdGFsaXphdGlvbiI6DQogICJNZWFzdXJlbWVudCBQb3B1bGF0aW9uIiBFbGlnaWJsZUlucGF0aWVudEhvc3BpdGFsaXphdGlvbg0KICAgIGxldCBwZXJpb2Q6IEVsaWdpYmxlSW5wYXRpZW50SG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICksDQogICAgcmVsZXZhbnRQZXJpb2Q6IHBlcmlvZC5ob3NwaXRhbERheXNNYXgxMCAoICkNCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVyOiBFbGlnaWJsZUlucGF0aWVudEhvc3BpdGFsaXphdGlvbiwNCiAgICAgIGhvc3BpdGFsaXphdGlvblBlcmlvZDogcGVyaW9kLA0KICAgICAgcmVsZXZhbnRQZXJpb2Q6IHJlbGV2YW50UGVyaW9kLA0KICAgICAgcmVsZXZhbnREYXlzOiByZWxldmFudFBlcmlvZC5kYXlzSW5QZXJpb2QgKCApDQogICAgfQ0KDQpkZWZpbmUgIkRheXMgd2l0aCBHbHVjb3NlIFJlc3VsdHMiOg0KICAiRGF5cyBpbiBIb3NwaXRhbGl6YXRpb24iIElucGF0aWVudEhvc3BpdGFsRGF5cw0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXI6IElucGF0aWVudEhvc3BpdGFsRGF5cy5lbmNvdW50ZXIsDQogICAgICByZWxldmFudFBlcmlvZDogSW5wYXRpZW50SG9zcGl0YWxEYXlzLnJlbGV2YW50UGVyaW9kLA0KICAgICAgcmVsZXZhbnREYXlzOiAoIElucGF0aWVudEhvc3BpdGFsRGF5cy5yZWxldmFudERheXMgRW5jb3VudGVyRGF5DQogICAgICAgICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICAgICAgIGRheU51bWJlcjogRW5jb3VudGVyRGF5LmRheUluZGV4LA0KICAgICAgICAgICAgZGF5UGVyaW9kOiBFbmNvdW50ZXJEYXkuZGF5UGVyaW9kLA0KICAgICAgICAgICAgaGFzU2V2ZXJlUmVzdWx0OiBleGlzdHMgKCBbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJHbHVjb3NlIExhYiBUZXN0IE1hc3MgUGVyIFZvbHVtZSJdIEdsdWNvc2VUZXN0DQogICAgICAgICAgICAgICAgd2hlcmUgR2x1Y29zZVRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgICAgICAgICBhbmQgR2x1Y29zZVRlc3QudmFsdWUgPiAzMDAgJ21nL2RMJw0KICAgICAgICAgICAgICAgICAgYW5kIEdsdWNvc2VUZXN0LmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkgZHVyaW5nIEVuY291bnRlckRheS5kYXlQZXJpb2QNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBoYXNFbGV2YXRlZFJlc3VsdDogZXhpc3RzICggWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiR2x1Y29zZSBMYWIgVGVzdCBNYXNzIFBlciBWb2x1bWUiXSBHbHVjb3NlVGVzdA0KICAgICAgICAgICAgICAgIHdoZXJlIEdsdWNvc2VUZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICAgICAgICAgICAgYW5kIEdsdWNvc2VUZXN0LnZhbHVlID49IDIwMCAnbWcvZEwnDQogICAgICAgICAgICAgICAgICBhbmQgR2x1Y29zZVRlc3QuZWZmZWN0aXZlLmVhcmxpZXN0ICggKSBkdXJpbmcgRW5jb3VudGVyRGF5LmRheVBlcmlvZA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIGhhc05vR2x1Y29zZVRlc3Q6IG5vdCBleGlzdHMgKCBbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJHbHVjb3NlIExhYiBUZXN0IE1hc3MgUGVyIFZvbHVtZSJdIEdsdWNvc2VUZXN0DQogICAgICAgICAgICAgICAgd2hlcmUgR2x1Y29zZVRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgICAgICAgICAgICBhbmQgR2x1Y29zZVRlc3QuZWZmZWN0aXZlLmVhcmxpZXN0ICggKSBkdXJpbmcgRW5jb3VudGVyRGF5LmRheVBlcmlvZA0KICAgICAgICAgICAgKQ0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICB9DQoNCmRlZmluZSAiRGF5cyB3aXRoIEh5cGVyZ2x5Y2VtaWMgRXZlbnRzIjoNCiAgIkRheXMgd2l0aCBHbHVjb3NlIFJlc3VsdHMiIEVuY291bnRlcldpdGhSZXN1bHREYXlzDQogICAgbGV0IGVsaWdpYmxlRXZlbnREYXlzOiBFbmNvdW50ZXJXaXRoUmVzdWx0RGF5cy5yZWxldmFudERheXMgRW5jb3VudGVyRGF5DQogICAgICB3aGVyZSBFbmNvdW50ZXJEYXkuZGF5TnVtYmVyID4gMQ0KICAgICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgICAgZGF5SW5kZXg6IEVuY291bnRlckRheS5kYXlOdW1iZXIsDQogICAgICAgIGRheVBlcmlvZDogRW5jb3VudGVyRGF5LmRheVBlcmlvZCwNCiAgICAgICAgaGFzSHlwZXJnbHljZW1pY0V2ZW50OiAoIEVuY291bnRlckRheS5oYXNTZXZlcmVSZXN1bHQNCiAgICAgICAgICAgIG9yICggRW5jb3VudGVyRGF5Lmhhc05vR2x1Y29zZVRlc3QNCiAgICAgICAgICAgICAgICBhbmQgRW5jb3VudGVyV2l0aFJlc3VsdERheXMucmVsZXZhbnREYXlzW0VuY291bnRlckRheS5kYXlOdW1iZXIgLSAyXS5oYXNFbGV2YXRlZFJlc3VsdA0KICAgICAgICAgICAgICAgIGFuZCBFbmNvdW50ZXJXaXRoUmVzdWx0RGF5cy5yZWxldmFudERheXNbRW5jb3VudGVyRGF5LmRheU51bWJlciAtIDNdLmhhc0VsZXZhdGVkUmVzdWx0DQogICAgICAgICAgICApDQogICAgICAgICkNCiAgICAgIH0NCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVyOiBFbmNvdW50ZXJXaXRoUmVzdWx0RGF5cy5lbmNvdW50ZXIsDQogICAgICByZWxldmFudFBlcmlvZDogRW5jb3VudGVyV2l0aFJlc3VsdERheXMucmVsZXZhbnRQZXJpb2QsDQogICAgICBlbGlnaWJsZUV2ZW50RGF5czogZWxpZ2libGVFdmVudERheXMNCiAgICB9DQoNCmRlZmluZSAiRGVub21pbmF0b3IiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIg0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiOg0KICAiRW5jb3VudGVyIHdpdGggRWFybHkgR2x1Y29zZSBHcmVhdGVyIFRoYW4gNjAwIG9yIHdpdGggQ29tZm9ydCBvciBIb3NwaWNlIENhcmUiDQoNCmRlZmluZSAiRW5jb3VudGVyIHdpdGggQ29tZm9ydCBNZWFzdXJlcyBkdXJpbmcgSG9zcGl0YWxpemF0aW9uIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgSW5wYXRpZW50SG9zcGl0YWxpemF0aW9uDQogICAgd2l0aCAiQ29tZm9ydCBNZWFzdXJlcyBDYXJlIiBDb21mb3J0Q2FyZQ0KICAgICAgc3VjaCB0aGF0IENvYWxlc2NlKENvbWZvcnRDYXJlLnBlcmZvcm1lZC50b0ludGVydmFsKCksIENvbWZvcnRDYXJlLmF1dGhvcmVkT24udG9JbnRlcnZhbCgpKSBzdGFydHMgZHVyaW5nIElucGF0aWVudEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24gKCApDQoNCmRlZmluZSAiRW5jb3VudGVyIHdpdGggRGlzY2hhcmdlIGZvciBIb3NwaWNlIENhcmUiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbnBhdGllbnRIb3NwaXRhbGl6YXRpb24NCiAgICB3aGVyZSBJbnBhdGllbnRIb3NwaXRhbGl6YXRpb24uaG9zcGl0YWxpemF0aW9uLmRpc2NoYXJnZURpc3Bvc2l0aW9uIGluICJEaXNjaGFyZ2VkIHRvIEhvbWUgZm9yIEhvc3BpY2UgQ2FyZSINCiAgICAgIG9yIElucGF0aWVudEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gaW4gIkRpc2NoYXJnZWQgdG8gSGVhbHRoIENhcmUgRmFjaWxpdHkgZm9yIEhvc3BpY2UgQ2FyZSINCg0KZGVmaW5lICJFbmNvdW50ZXIgd2l0aCBFYXJseSBHbHVjb3NlIEdyZWF0ZXIgVGhhbiA2MDAgb3Igd2l0aCBDb21mb3J0IG9yIEhvc3BpY2UgQ2FyZSI6DQogICJFbmNvdW50ZXIgd2l0aCBHbHVjb3NlIEdyZWF0ZXIgVGhhbiA2MDAgd2l0aGluIDEgSG91ciBQcmlvciBUbyBhbmQgNiBIb3VycyBBZnRlciBFbmNvdW50ZXIgU3RhcnQiDQogICAgdW5pb24gIkVuY291bnRlciB3aXRoIENvbWZvcnQgTWVhc3VyZXMgZHVyaW5nIEhvc3BpdGFsaXphdGlvbiINCiAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggRGlzY2hhcmdlIGZvciBIb3NwaWNlIENhcmUiDQoNCmRlZmluZSAiRW5jb3VudGVyIHdpdGggRWxldmF0ZWQgR2x1Y29zZSBHcmVhdGVyIFRoYW4gb3IgRXF1YWwgdG8gMjAwIjoNCiAgIkVuY291bnRlciB3aXRoIEhvc3BpdGFsaXphdGlvbiBQZXJpb2QiIEhvc3BpdGFsaXphdGlvbg0KICAgIHdpdGggWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiR2x1Y29zZSBMYWIgVGVzdCBNYXNzIFBlciBWb2x1bWUiXSBHbHVjb3NlVGVzdA0KICAgICAgc3VjaCB0aGF0IEdsdWNvc2VUZXN0LmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkgZHVyaW5nIEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb25QZXJpb2QNCiAgICAgICAgYW5kIEdsdWNvc2VUZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgR2x1Y29zZVRlc3QudmFsdWUgPj0gMjAwICdtZy9kTCcNCiAgICByZXR1cm4gSG9zcGl0YWxpemF0aW9uLmVuY291bnRlcg0KDQpkZWZpbmUgIkVuY291bnRlciB3aXRoIEV4aXN0aW5nIERpYWJldGVzIERpYWdub3NpcyI6DQogICJFbmNvdW50ZXIgd2l0aCBIb3NwaXRhbGl6YXRpb24gUGVyaW9kIiBIb3NwaXRhbGl6YXRpb24NCiAgICB3aXRoICggKCBbQ29uZGl0aW9uRW5jb3VudGVyRGlhZ25vc2lzOiAiRGlhYmV0ZXMiXSBEaWFiZXRlc0VuY291bnRlcg0KICAgICAgICB3aGVyZSAoIEhvc3BpdGFsaXphdGlvbi5lbmNvdW50ZXIucmVhc29uUmVmZXJlbmNlLnJlZmVyZW5jZXMgKCBEaWFiZXRlc0VuY291bnRlciApDQogICAgICAgICAgICBvciBIb3NwaXRhbGl6YXRpb24uZW5jb3VudGVyLnJlYXNvbkNvZGUgaW4gIkRpYWJldGVzIg0KICAgICAgICApDQogICAgICAgICAgYW5kIERpYWJldGVzRW5jb3VudGVyLnByZXZhbGVuY2VJbnRlcnZhbCAoICkgc3RhcnRzIGJlZm9yZSBlbmQgb2YgSG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvblBlcmlvZA0KICAgICkNCiAgICAgIHVuaW9uICggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJEaWFiZXRlcyJdIERpYWJldGVzUHJvYmxlbQ0KICAgICAgICAgIHdoZXJlIERpYWJldGVzUHJvYmxlbS52ZXJpZmljYXRpb25TdGF0dXMgaXMgbm90IG51bGwgaW1wbGllcyAoIERpYWJldGVzUHJvYmxlbS52ZXJpZmljYXRpb25TdGF0dXMgfiBRSUNvcmVDb21tb24uImNvbmZpcm1lZCINCiAgICAgICAgICAgICAgb3IgRGlhYmV0ZXNQcm9ibGVtLnZlcmlmaWNhdGlvblN0YXR1cyB+IFFJQ29yZUNvbW1vbi4idW5jb25maXJtZWQiDQogICAgICAgICAgICAgIG9yIERpYWJldGVzUHJvYmxlbS52ZXJpZmljYXRpb25TdGF0dXMgfiBRSUNvcmVDb21tb24uInByb3Zpc2lvbmFsIg0KICAgICAgICAgICAgICBvciBEaWFiZXRlc1Byb2JsZW0udmVyaWZpY2F0aW9uU3RhdHVzIH4gUUlDb3JlQ29tbW9uLiJkaWZmZXJlbnRpYWwiDQogICAgICAgICAgKQ0KICAgICAgICAgICAgYW5kIERpYWJldGVzUHJvYmxlbS5wcmV2YWxlbmNlSW50ZXJ2YWwgKCApIHN0YXJ0cyBiZWZvcmUgZW5kIG9mIEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb25QZXJpb2QNCiAgICAgICkgKSBEaWFiZXRlc0NvbmRpdGlvbg0KICAgICAgc3VjaCB0aGF0IERpYWJldGVzQ29uZGl0aW9uLnN1YmplY3QucmVmZXJlbmNlID0gSG9zcGl0YWxpemF0aW9uLmVuY291bnRlci5zdWJqZWN0LnJlZmVyZW5jZQ0KICAgIHJldHVybiBIb3NwaXRhbGl6YXRpb24uZW5jb3VudGVyDQoNCmRlZmluZSAiRW5jb3VudGVyIHdpdGggR2x1Y29zZSBHcmVhdGVyIFRoYW4gNjAwIHdpdGhpbiAxIEhvdXIgUHJpb3IgVG8gYW5kIDYgSG91cnMgQWZ0ZXIgRW5jb3VudGVyIFN0YXJ0IjoNCiAgZnJvbQ0KICAgICJJbml0aWFsIFBvcHVsYXRpb24iIElucGF0aWVudEhvc3BpdGFsaXphdGlvbiwNCiAgICAiSW5pdGlhbCBHbHVjb3NlIEdyZWF0ZXIgVGhhbiA2MDAgd2l0aGluIDEgSG91ciBQcmlvciBUbyBhbmQgNiBIb3VycyBBZnRlciBFbmNvdW50ZXIgU3RhcnQiIEVhcmx5R2x1Y29zZVJlc3VsdA0KICAgIHdoZXJlIEVhcmx5R2x1Y29zZVJlc3VsdC52YWx1ZSBhcyBRdWFudGl0eSA+IDYwMCAnbWcvZEwnDQogICAgICBhbmQgRWFybHlHbHVjb3NlUmVzdWx0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgYW5kIEVhcmx5R2x1Y29zZVJlc3VsdC5lZmZlY3RpdmUuZWFybGllc3QgKCApIGR1cmluZyBJbnRlcnZhbFsoIHN0YXJ0IG9mIElucGF0aWVudEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24gKCApIC0gMSBob3VyICksICggc3RhcnQgb2YgSW5wYXRpZW50SG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICkgKyA2IGhvdXJzICldDQogICAgcmV0dXJuIElucGF0aWVudEhvc3BpdGFsaXphdGlvbg0KDQpkZWZpbmUgIkVuY291bnRlciB3aXRoIEhvc3BpdGFsaXphdGlvbiBQZXJpb2QiOg0KICAiUXVhbGlmeWluZyBFbmNvdW50ZXIiIFF1YWxpZnlpbmdIb3NwaXRhbGl6YXRpb24NCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVyOiBRdWFsaWZ5aW5nSG9zcGl0YWxpemF0aW9uLA0KICAgICAgaG9zcGl0YWxpemF0aW9uUGVyaW9kOiBRdWFsaWZ5aW5nSG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICkNCiAgICB9DQoNCmRlZmluZSAiRW5jb3VudGVyIHdpdGggSHlwZXJnbHljZW1pYyBFdmVudHMiOg0KICAiRGF5cyB3aXRoIEh5cGVyZ2x5Y2VtaWMgRXZlbnRzIiBIeXBlcmdseWNlbWljRXZlbnREYXlzDQogICAgd2hlcmUgZXhpc3RzICggSHlwZXJnbHljZW1pY0V2ZW50RGF5cy5lbGlnaWJsZUV2ZW50RGF5cyBFbGlnaWJsZUV2ZW50RGF5DQogICAgICAgIHdoZXJlIEVsaWdpYmxlRXZlbnREYXkuaGFzSHlwZXJnbHljZW1pY0V2ZW50DQogICAgKQ0KICAgIHJldHVybiBIeXBlcmdseWNlbWljRXZlbnREYXlzLmVuY291bnRlcg0KDQpkZWZpbmUgIkVuY291bnRlciB3aXRoIEh5cG9nbHljZW1pYyBNZWRpY2F0aW9uIjoNCiAgZnJvbQ0KICAgICJFbmNvdW50ZXIgd2l0aCBIb3NwaXRhbGl6YXRpb24gUGVyaW9kIiBIb3NwaXRhbGl6YXRpb24sDQogICAgWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiAiSHlwb2dseWNlbWljcyBUcmVhdG1lbnQgTWVkaWNhdGlvbnMiXSBIeXBvZ2x5Y2VtaWNNZWQNCiAgICB3aGVyZSBIeXBvZ2x5Y2VtaWNNZWQuc3RhdHVzIGluIHsgJ2NvbXBsZXRlZCcsICdpbi1wcm9ncmVzcycgfQ0KICAgICAgYW5kIEh5cG9nbHljZW1pY01lZC5lZmZlY3RpdmUudG9JbnRlcnZhbCAoICkgZHVyaW5nIEhvc3BpdGFsaXphdGlvbi5ob3NwaXRhbGl6YXRpb25QZXJpb2QNCiAgICByZXR1cm4gSG9zcGl0YWxpemF0aW9uLmVuY291bnRlcg0KDQpkZWZpbmUgIkdsdWNvc2UgR3JlYXRlciBUaGFuIDYwMCB3aXRoaW4gMSBIb3VyIFByaW9yIFRvIGFuZCA2IEhvdXJzIEFmdGVyIEVuY291bnRlciBTdGFydCI6DQogIGZyb20NCiAgICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbnBhdGllbnRIb3NwaXRhbGl6YXRpb24sDQogICAgWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiR2x1Y29zZSBMYWIgVGVzdCBNYXNzIFBlciBWb2x1bWUiXSBHbHVjb3NlVGVzdA0KICAgIGxldCBIb3NwaXRhbGl6YXRpb25JbnRlcnZhbDogSW5wYXRpZW50SG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICksDQogICAgR2x1Y29zZVRlc3RUaW1lOiBHbHVjb3NlVGVzdC5lZmZlY3RpdmUuZWFybGllc3QgKCApDQogICAgd2hlcmUgR2x1Y29zZVRlc3QudmFsdWUgYXMgUXVhbnRpdHkgPiA2MDAgJ21nL2RMJw0KICAgICAgYW5kIEdsdWNvc2VUZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgYW5kIEdsdWNvc2VUZXN0VGltZSBkdXJpbmcgSW50ZXJ2YWxbKCBzdGFydCBvZiBIb3NwaXRhbGl6YXRpb25JbnRlcnZhbCAtIDEgaG91ciApLCAoIHN0YXJ0IG9mIEhvc3BpdGFsaXphdGlvbkludGVydmFsICsgNiBob3VycyApXQ0KICAgIHJldHVybiBHbHVjb3NlVGVzdA0KDQpkZWZpbmUgIkdsdWNvc2UgVGVzdHMgRWFybGllciBUaGFuIEdsdWNvc2UgR3JlYXRlciBUaGFuIDYwMCB3aXRoaW4gMSBIb3VyIFByaW9yIFRvIGFuZCA2IEhvdXJzIEFmdGVyIEVuY291bnRlciBTdGFydCI6DQogIGZyb20NCiAgICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbnBhdGllbnRIb3NwaXRhbGl6YXRpb24sDQogICAgIkdsdWNvc2UgR3JlYXRlciBUaGFuIDYwMCB3aXRoaW4gMSBIb3VyIFByaW9yIFRvIGFuZCA2IEhvdXJzIEFmdGVyIEVuY291bnRlciBTdGFydCIgR2x1Y29zZVJlc3VsdDYwMCwNCiAgICBbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJHbHVjb3NlIExhYiBUZXN0IE1hc3MgUGVyIFZvbHVtZSJdIEVhcmxpZXJHbHVjb3NlVGVzdA0KICAgIGxldCBIb3NwaXRhbGl6YXRpb25JbnRlcnZhbDogSW5wYXRpZW50SG9zcGl0YWxpemF0aW9uLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICksDQogICAgR2x1Y29zZVRlc3Q2MDBUaW1lOiBHbHVjb3NlUmVzdWx0NjAwLmVmZmVjdGl2ZS5lYXJsaWVzdCAoICksDQogICAgRWFybGllckdsdWNvc2VUZXN0VGltZTogRWFybGllckdsdWNvc2VUZXN0LmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkNCiAgICB3aGVyZSBHbHVjb3NlVGVzdDYwMFRpbWUgZHVyaW5nIEludGVydmFsWyggc3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uSW50ZXJ2YWwgLSAxIGhvdXIgKSwgKCBzdGFydCBvZiBIb3NwaXRhbGl6YXRpb25JbnRlcnZhbCArIDYgaG91ciApXQ0KICAgICAgYW5kIEVhcmxpZXJHbHVjb3NlVGVzdFRpbWUgZHVyaW5nIEludGVydmFsWyggc3RhcnQgb2YgSG9zcGl0YWxpemF0aW9uSW50ZXJ2YWwgLSAxIGhvdXIgKSwgR2x1Y29zZVRlc3Q2MDBUaW1lICkNCiAgICAgIGFuZCBFYXJsaWVyR2x1Y29zZVRlc3QuaWQgIX4gR2x1Y29zZVJlc3VsdDYwMC5pZA0KICAgIHJldHVybiBHbHVjb3NlUmVzdWx0NjAwDQoNCmRlZmluZSAiSW5pdGlhbCBHbHVjb3NlIEdyZWF0ZXIgVGhhbiA2MDAgd2l0aGluIDEgSG91ciBQcmlvciBUbyBhbmQgNiBIb3VycyBBZnRlciBFbmNvdW50ZXIgU3RhcnQiOg0KICAiR2x1Y29zZSBHcmVhdGVyIFRoYW4gNjAwIHdpdGhpbiAxIEhvdXIgUHJpb3IgVG8gYW5kIDYgSG91cnMgQWZ0ZXIgRW5jb3VudGVyIFN0YXJ0IiBHbHVjb3NlUmVzdWx0NjAwDQogICAgd2hlcmUgbm90ICggR2x1Y29zZVJlc3VsdDYwMC5pZCBpbiAiR2x1Y29zZSBUZXN0cyBFYXJsaWVyIFRoYW4gR2x1Y29zZSBHcmVhdGVyIFRoYW4gNjAwIHdpdGhpbiAxIEhvdXIgUHJpb3IgVG8gYW5kIDYgSG91cnMgQWZ0ZXIgRW5jb3VudGVyIFN0YXJ0Ii5pZCApDQoNCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoNCiAgIkVuY291bnRlciB3aXRoIEV4aXN0aW5nIERpYWJldGVzIERpYWdub3NpcyINCiAgICB1bmlvbiAiRW5jb3VudGVyIHdpdGggSHlwb2dseWNlbWljIE1lZGljYXRpb24iDQogICAgdW5pb24gIkVuY291bnRlciB3aXRoIEVsZXZhdGVkIEdsdWNvc2UgR3JlYXRlciBUaGFuIG9yIEVxdWFsIHRvIDIwMCINCg0KZGVmaW5lICJNZWFzdXJlbWVudCBQb3B1bGF0aW9uIjoNCiAgIkRlbm9taW5hdG9yIg0KDQpkZWZpbmUgIk51bWVyYXRvciI6DQogICJFbmNvdW50ZXIgd2l0aCBIeXBlcmdseWNlbWljIEV2ZW50cyINCg0KZGVmaW5lICJOdW1lcmF0b3IgRXhjbHVzaW9ucyI6DQogICJFbmNvdW50ZXIgd2l0aCBFYXJseSBHbHVjb3NlIEdyZWF0ZXIgVGhhbiA2MDAgb3Igd2l0aCBDb21mb3J0IG9yIEhvc3BpY2UgQ2FyZSINCg0KZGVmaW5lICJRdWFsaWZ5aW5nIEVuY291bnRlciI6DQogIFsiRW5jb3VudGVyIjogIkVuY291bnRlciBJbnBhdGllbnQiXSBJbnBhdGllbnRFbmNvdW50ZXINCiAgICB3aGVyZSBBZ2VJblllYXJzQXQoZGF0ZSBmcm9tIHN0YXJ0IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QpID49IDE4DQogICAgICBhbmQgSW5wYXRpZW50RW5jb3VudGVyLnBlcmlvZCBlbmRzIGR1cmluZyBkYXkgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgICAgIGFuZCBJbnBhdGllbnRFbmNvdW50ZXIuc3RhdHVzID0gJ2ZpbmlzaGVkJw0KDQpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOg0KICBTREUuIlNERSBFdGhuaWNpdHkiDQoNCmRlZmluZSAiU0RFIFBheWVyIjoNCiAgU0RFLiJTREUgUGF5ZXIiDQoNCmRlZmluZSAiU0RFIFJhY2UiOg0KICBTREUuIlNERSBSYWNlIg0KDQpkZWZpbmUgIlNERSBTZXgiOg0KICBTREUuIlNERSBTZXgiDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gaG9zcGl0YWxEYXlzTWF4MTAoUGVyaW9kIEludGVydmFsPERhdGVUaW1lPik6DQogIEludGVydmFsW3N0YXJ0IG9mIFBlcmlvZCwgTWluKHsgDQogICAgZW5kIG9mIFBlcmlvZCwgc3RhcnQgb2YgUGVyaW9kICsgMTAgZGF5cyB9DQogICldDQoNCmRlZmluZSBmdW5jdGlvbiAiRGVub21pbmF0b3IgT2JzZXJ2YXRpb25zIihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIGlmIFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQgaW4gIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiLmlkIHRoZW4gc2luZ2xldG9uIGZyb20gKCAiRGF5cyB3aXRoIEh5cGVyZ2x5Y2VtaWMgRXZlbnRzIiBFbmNvdW50ZXJXaXRoRXZlbnREYXlzDQogICAgICB3aGVyZSBFbmNvdW50ZXJXaXRoRXZlbnREYXlzLmVuY291bnRlciA9IFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICAgIHJldHVybiAwDQogICkgDQogICAgZWxzZSBzaW5nbGV0b24gZnJvbSAoICJEYXlzIHdpdGggSHlwZXJnbHljZW1pYyBFdmVudHMiIEVuY291bnRlcldpdGhFdmVudERheXMNCiAgICAgIHdoZXJlIEVuY291bnRlcldpdGhFdmVudERheXMuZW5jb3VudGVyID0gUXVhbGlmeWluZ0VuY291bnRlcg0KICAgICAgcmV0dXJuIENvdW50KEVuY291bnRlcldpdGhFdmVudERheXMuZWxpZ2libGVFdmVudERheXMpDQogICkNCg0KZGVmaW5lIGZ1bmN0aW9uICJOdW1lcmF0b3IgT2JzZXJ2YXRpb25zIihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIGlmIFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQgaW4gIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiLmlkIHRoZW4gc2luZ2xldG9uIGZyb20gKCAiRGF5cyB3aXRoIEh5cGVyZ2x5Y2VtaWMgRXZlbnRzIiBFbmNvdW50ZXJXaXRoRXZlbnREYXlzDQogICAgICB3aGVyZSBFbmNvdW50ZXJXaXRoRXZlbnREYXlzLmVuY291bnRlciA9IFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICAgIHJldHVybiAwDQogICkgDQogICAgZWxzZSBzaW5nbGV0b24gZnJvbSAoICJEYXlzIHdpdGggSHlwZXJnbHljZW1pYyBFdmVudHMiIEVuY291bnRlcldpdGhFdmVudERheXMNCiAgICAgIHdoZXJlIEVuY291bnRlcldpdGhFdmVudERheXMuZW5jb3VudGVyID0gUXVhbGlmeWluZ0VuY291bnRlcg0KICAgICAgcmV0dXJuIENvdW50KEVuY291bnRlcldpdGhFdmVudERheXMuZWxpZ2libGVFdmVudERheXMgRWxpZ2libGVFdmVudERheQ0KICAgICAgICAgIHdoZXJlIEVsaWdpYmxlRXZlbnREYXkuaGFzSHlwZXJnbHljZW1pY0V2ZW50DQogICAgICApDQogICk=",
    "url": "https://madie.cms.gov/Library-CMS871FHIRHHHyper.cql"
  } ]
}