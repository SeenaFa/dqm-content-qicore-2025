{
  "resourceType": "Library",
  "id": "CMS646FHIRIntravesicalBCGTherapy",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.27.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "1228889001",
      "display": "American Joint Committee on Cancer cT1 (qualifier value)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "1228883000",
      "display": "American Joint Committee on Cancer cTa (qualifier value)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "1228884006",
      "display": "American Joint Committee on Cancer cTis (qualifier value)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/sid/icd-10-cm",
      "code": "D09.0",
      "display": "Carcinoma in situ of bladder"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "169331000",
      "display": "Combined radiotherapy (procedure)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "254292007",
      "display": "Tumor staging (tumor staging)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode",
      "code": "VR",
      "display": "virtual"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS646FHIRIntravesicalBCGTherapy",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS646FHIRIntravesicalBCGTherapy"
  } ],
  "version": "1.0.000",
  "name": "CMS646FHIRIntravesicalBCGTherapy",
  "title": "CMS646FHIRIntravesicalBCGTherapy",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-08-22T18:32:08+00:00",
  "publisher": "Oregon Urology",
  "description": "CMS646FHIRIntravesicalBCGTherapy",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "https://madie.cms.gov/Library/FHIRHelpers|4.4.000"
  }, {
    "type": "depends-on",
    "display": "Library SDE",
    "resource": "https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"
  }, {
    "type": "depends-on",
    "display": "Library QICoreCommon",
    "resource": "https://madie.cms.gov/Library/QICoreCommon|4.0.000"
  }, {
    "type": "depends-on",
    "display": "Code system SNOMEDCT",
    "resource": "http://snomed.info/sct"
  }, {
    "type": "depends-on",
    "display": "Code system ICD10CM",
    "resource": "http://hl7.org/fhir/sid/icd-10-cm"
  }, {
    "type": "depends-on",
    "display": "Code system ActCode",
    "resource": "http://terminology.hl7.org/CodeSystem/v3-ActCode"
  }, {
    "type": "depends-on",
    "display": "Value set Bacillus Calmette Guerin for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.353"
  }, {
    "type": "depends-on",
    "display": "Value set Bladder Cancer for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.354"
  }, {
    "type": "depends-on",
    "display": "Value set Chemotherapy Agents for Advanced Cancer",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.355"
  }, {
    "type": "depends-on",
    "display": "Value set Cystectomy for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.358"
  }, {
    "type": "depends-on",
    "display": "Value set HIV",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
  }, {
    "type": "depends-on",
    "display": "Value set Immunocompromised Conditions",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.363"
  }, {
    "type": "depends-on",
    "display": "Value set Immunosuppressive Drugs for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.364"
  }, {
    "type": "depends-on",
    "display": "Value set Mixed Histology Urothelial Cell Carcinoma for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.365"
  }, {
    "type": "depends-on",
    "display": "Value set Office Visit",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"
  }, {
    "type": "depends-on",
    "display": "Value set Tuberculosis for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.351"
  }, {
    "type": "depends-on",
    "display": "Value set Unavailability of Bacillus Calmette Guerin for Urology Care",
    "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.369"
  } ],
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  }, {
    "name": "Patient",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Bladder Cancer Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "First Bladder Cancer Staging Procedure",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "July 1 of Year Prior to the Measurement Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "date"
  }, {
    "name": "June 30 of the Measurement Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "date"
  }, {
    "name": "First Bladder Cancer Staging Procedure during 6 Months Prior to Measurement Period through the First 6 Months of Measurement Period",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Has Most Recent Bladder Cancer Tumor Staging is T1, Tis, Ta HG",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Has Qualifying Encounter",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Initial Population",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Denominator",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Acute Tuberculosis Diagnosis",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Immunosuppressive Drugs",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Cystectomy Done",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Has Excluding HIV, Immunocompromised Conditions or Mixed Histology Before Staging",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Has Excluding Chemotherapy or Radiotherapy Procedure Before Staging",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "Denominator Exclusion",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "BCG Not Available Within 6 Months After Bladder Cancer Staging",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "Denominator Exception",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "First BCG Administered",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "Numerator",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "boolean"
  }, {
    "name": "SDE Ethnicity",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Payer",
    "use": "out",
    "min": 0,
    "max": "*",
    "type": "Resource"
  }, {
    "name": "SDE Race",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Resource"
  }, {
    "name": "SDE Sex",
    "use": "out",
    "min": 0,
    "max": "1",
    "type": "Coding"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.354"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.354"
    } ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code", "performed", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "code": [ {
        "system": "http://snomed.info/sct",
        "code": "254292007",
        "display": "Tumor staging (tumor staging)"
      } ]
    } ]
  }, {
    "type": "Observation",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab" ],
    "mustSupport": [ "value", "status", "status.value" ]
  }, {
    "type": "Encounter",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
    "mustSupport": [ "type", "period", "class", "status", "status.value" ],
    "codeFilter": [ {
      "path": "type",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.351"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.351"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.364"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code", "performed", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.358"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.363"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.363"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.365"
    } ]
  }, {
    "type": "Condition",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis" ],
    "mustSupport": [ "code" ],
    "codeFilter": [ {
      "path": "code",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.365"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.355"
    } ]
  }, {
    "type": "MedicationRequest",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  }, {
    "type": "Procedure",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
    "mustSupport": [ "code", "performed", "status", "status.value" ],
    "codeFilter": [ {
      "path": "code",
      "code": [ {
        "system": "http://snomed.info/sct",
        "code": "169331000",
        "display": "Combined radiotherapy (procedure)"
      } ]
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.353"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.353"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication" ],
    "codeFilter": [ {
      "path": "medication",
      "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.353"
    } ]
  }, {
    "type": "MedicationAdministration",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration" ],
    "mustSupport": [ "medication.reference.value" ]
  }, {
    "type": "Medication",
    "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
    "mustSupport": [ "id.value", "code" ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVM2NDZGSElSSW50cmF2ZXNpY2FsQkNHVGhlcmFweSB2ZXJzaW9uICcxLjAuMDAwJw0KDQp1c2luZyBRSUNvcmUgdmVyc2lvbiAnNi4wLjAnDQoNCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC40LjAwMCcgY2FsbGVkIEZISVJIZWxwZXJzDQppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50cyB2ZXJzaW9uICc1LjEuMDAwJyBjYWxsZWQgU0RFDQppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICc0LjAuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uDQoNCmNvZGVzeXN0ZW0gIlNOT01FRENUIjogJ2h0dHA6Ly9zbm9tZWQuaW5mby9zY3QnDQpjb2Rlc3lzdGVtICJJQ0QxMENNIjogJ2h0dHA6Ly9obDcub3JnL2ZoaXIvc2lkL2ljZC0xMC1jbScNCmNvZGVzeXN0ZW0gIkFjdENvZGUiOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1BY3RDb2RlJw0KDQp2YWx1ZXNldCAiQmFjaWxsdXMgQ2FsbWV0dGUgR3VlcmluIGZvciBVcm9sb2d5IENhcmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjM1MycNCnZhbHVlc2V0ICJCbGFkZGVyIENhbmNlciBmb3IgVXJvbG9neSBDYXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNTQnDQp2YWx1ZXNldCAiQ2hlbW90aGVyYXB5IEFnZW50cyBmb3IgQWR2YW5jZWQgQ2FuY2VyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNTUnDQp2YWx1ZXNldCAiQ3lzdGVjdG9teSBmb3IgVXJvbG9neSBDYXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNTgnDQp2YWx1ZXNldCAiSElWIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEyMC4xMi4xMDAzJw0KdmFsdWVzZXQgIkltbXVub2NvbXByb21pc2VkIENvbmRpdGlvbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjM2MycNCnZhbHVlc2V0ICJJbW11bm9zdXBwcmVzc2l2ZSBEcnVncyBmb3IgVXJvbG9neSBDYXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNjQnDQp2YWx1ZXNldCAiTWl4ZWQgSGlzdG9sb2d5IFVyb3RoZWxpYWwgQ2VsbCBDYXJjaW5vbWEgZm9yIFVyb2xvZ3kgQ2FyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMzY1Jw0KdmFsdWVzZXQgIk9mZmljZSBWaXNpdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAwMScNCnZhbHVlc2V0ICJUdWJlcmN1bG9zaXMgZm9yIFVyb2xvZ3kgQ2FyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMzUxJw0KdmFsdWVzZXQgIlVuYXZhaWxhYmlsaXR5IG9mIEJhY2lsbHVzIENhbG1ldHRlIEd1ZXJpbiBmb3IgVXJvbG9neSBDYXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4zNjknDQoNCmNvZGUgIkFtZXJpY2FuIEpvaW50IENvbW1pdHRlZSBvbiBDYW5jZXIgY1QxIChxdWFsaWZpZXIgdmFsdWUpIjogJzEyMjg4ODkwMDEnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdBbWVyaWNhbiBKb2ludCBDb21taXR0ZWUgb24gQ2FuY2VyIGNUMSAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkFtZXJpY2FuIEpvaW50IENvbW1pdHRlZSBvbiBDYW5jZXIgY1RhIChxdWFsaWZpZXIgdmFsdWUpIjogJzEyMjg4ODMwMDAnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdBbWVyaWNhbiBKb2ludCBDb21taXR0ZWUgb24gQ2FuY2VyIGNUYSAocXVhbGlmaWVyIHZhbHVlKScNCmNvZGUgIkFtZXJpY2FuIEpvaW50IENvbW1pdHRlZSBvbiBDYW5jZXIgY1RpcyAocXVhbGlmaWVyIHZhbHVlKSI6ICcxMjI4ODg0MDA2JyBmcm9tICJTTk9NRURDVCIgZGlzcGxheSAnQW1lcmljYW4gSm9pbnQgQ29tbWl0dGVlIG9uIENhbmNlciBjVGlzIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiQ2FyY2lub21hIGluIHNpdHUgb2YgYmxhZGRlciI6ICdEMDkuMCcgZnJvbSAiSUNEMTBDTSIgZGlzcGxheSAnQ2FyY2lub21hIGluIHNpdHUgb2YgYmxhZGRlcicNCmNvZGUgIkNvbWJpbmVkIHJhZGlvdGhlcmFweSAocHJvY2VkdXJlKSI6ICcxNjkzMzEwMDAnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdDb21iaW5lZCByYWRpb3RoZXJhcHkgKHByb2NlZHVyZSknDQpjb2RlICJUdW1vciBzdGFnaW5nICh0dW1vciBzdGFnaW5nKSI6ICcyNTQyOTIwMDcnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdUdW1vciBzdGFnaW5nICh0dW1vciBzdGFnaW5nKScNCmNvZGUgInZpcnR1YWwiOiAnVlInIGZyb20gIkFjdENvZGUiIGRpc3BsYXkgJ3ZpcnR1YWwnDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4NCiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wMDBaLCBAMjAyNy0wMS0wMVQwMDowMDowMC4wMDBaKQ0KDQpjb250ZXh0IFBhdGllbnQNCg0KZGVmaW5lICJJbml0aWFsIFBvcHVsYXRpb24iOg0KICAiSGFzIE1vc3QgUmVjZW50IEJsYWRkZXIgQ2FuY2VyIFR1bW9yIFN0YWdpbmcgaXMgVDEsIFRpcywgVGEgSEciDQogICAgYW5kICJIYXMgUXVhbGlmeWluZyBFbmNvdW50ZXIiDQoNCmRlZmluZSAiRGVub21pbmF0b3IiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIg0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2x1c2lvbiI6DQogIGV4aXN0cyAiQWN1dGUgVHViZXJjdWxvc2lzIERpYWdub3NpcyINCiAgICBvciBleGlzdHMgIkltbXVub3N1cHByZXNzaXZlIERydWdzIg0KICAgIG9yIGV4aXN0cyAiQ3lzdGVjdG9teSBEb25lIg0KICAgIG9yICJIYXMgRXhjbHVkaW5nIEhJViwgSW1tdW5vY29tcHJvbWlzZWQgQ29uZGl0aW9ucyBvciBNaXhlZCBIaXN0b2xvZ3kgQmVmb3JlIFN0YWdpbmciDQogICAgb3IgIkhhcyBFeGNsdWRpbmcgQ2hlbW90aGVyYXB5IG9yIFJhZGlvdGhlcmFweSBQcm9jZWR1cmUgQmVmb3JlIFN0YWdpbmciDQoNCmRlZmluZSAiRGVub21pbmF0b3IgRXhjZXB0aW9uIjoNCiAgZXhpc3RzICJCQ0cgTm90IEF2YWlsYWJsZSBXaXRoaW4gNiBNb250aHMgQWZ0ZXIgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyINCg0KZGVmaW5lICJOdW1lcmF0b3IiOg0KICAiRmlyc3QgQkNHIEFkbWluaXN0ZXJlZCIgaXMgbm90IG51bGwNCg0KZGVmaW5lICJTREUgRXRobmljaXR5IjoNCiAgU0RFLiJTREUgRXRobmljaXR5Ig0KDQpkZWZpbmUgIlNERSBQYXllciI6DQogIFNERS4iU0RFIFBheWVyIg0KDQpkZWZpbmUgIlNERSBSYWNlIjoNCiAgU0RFLiJTREUgUmFjZSINCg0KZGVmaW5lICJTREUgU2V4IjoNCiAgU0RFLiJTREUgU2V4Ig0KDQpkZWZpbmUgIkp1bHkgMSBvZiBZZWFyIFByaW9yIHRvIHRoZSBNZWFzdXJlbWVudCBQZXJpb2QiOg0KICBEYXRlKCh5ZWFyIGZyb20gc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIgLSAxKSwgNywgMSkNCg0KZGVmaW5lICJKdW5lIDMwIG9mIHRoZSBNZWFzdXJlbWVudCBQZXJpb2QiOg0KICBEYXRlKCh5ZWFyIGZyb20gc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpLCA2LCAzMCkNCg0KZGVmaW5lICJBY3V0ZSBUdWJlcmN1bG9zaXMgRGlhZ25vc2lzIjoNCiAgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIlR1YmVyY3Vsb3NpcyBmb3IgVXJvbG9neSBDYXJlIl0NCiAgICB1bmlvbiBbQ29uZGl0aW9uRW5jb3VudGVyRGlhZ25vc2lzOiAiVHViZXJjdWxvc2lzIGZvciBVcm9sb2d5IENhcmUiXSApIEFjdGl2ZVR1YmVyY3Vsb3Npcw0KICAgIHdpdGggIkZpcnN0IEJsYWRkZXIgQ2FuY2VyIFN0YWdpbmcgUHJvY2VkdXJlIiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nDQogICAgICBzdWNoIHRoYXQgKCAoIEFjdGl2ZVR1YmVyY3Vsb3Npcy5wcmV2YWxlbmNlSW50ZXJ2YWwgKCApIG92ZXJsYXBzIGFmdGVyIGRheSBvZiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nLnBlcmZvcm1lZC50b0ludGVydmFsICggKSApDQogICAgICAgICAgb3IgKCBBY3RpdmVUdWJlcmN1bG9zaXMub25zZXQudG9JbnRlcnZhbCAoICkgb3ZlcmxhcHMgYWZ0ZXIgZGF5IG9mIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgICAgICAgICAgIGFuZCAoICggQWN0aXZlVHViZXJjdWxvc2lzLmFiYXRlbWVudC50b0ludGVydmFsICggKSBvdmVybGFwcyBhZnRlciBkYXkgb2YgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZy5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgKQ0KICAgICAgICAgICAgICAgICAgb3IgKCBBY3RpdmVUdWJlcmN1bG9zaXMuYWJhdGVtZW50IGlzIG51bGwgKQ0KICAgICAgICAgICAgICApDQogICAgICAgICAgKQ0KICAgICAgKQ0KICAgIHdoZXJlIEFjdGl2ZVR1YmVyY3Vsb3Npcy5pc1ZlcmlmaWVkICggKQ0KDQpkZWZpbmUgIkN5c3RlY3RvbXkgRG9uZSI6DQogIFtQcm9jZWR1cmU6ICJDeXN0ZWN0b215IGZvciBVcm9sb2d5IENhcmUiXSBDeXN0ZWN0b215DQogICAgd2l0aCAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUiIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcNCiAgICAgIHN1Y2ggdGhhdCBDeXN0ZWN0b215LnBlcmZvcm1lZC50b0ludGVydmFsICggKSA2IG1vbnRocyBvciBsZXNzIGJlZm9yZSBkYXkgb2Ygc3RhcnQgb2YgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZy5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICB3aGVyZSBDeXN0ZWN0b215LnN0YXR1cyA9ICdjb21wbGV0ZWQnDQoNCmRlZmluZSAiSGFzIEV4Y2x1ZGluZyBISVYsIEltbXVub2NvbXByb21pc2VkIENvbmRpdGlvbnMgb3IgTWl4ZWQgSGlzdG9sb2d5IEJlZm9yZSBTdGFnaW5nIjoNCiAgZXhpc3RzICggKCAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiSElWIl0NCiAgICAgICAgdW5pb24gW0NvbmRpdGlvbkVuY291bnRlckRpYWdub3NpczogIkhJViJdDQogICAgKQ0KICAgICAgdW5pb24gKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkltbXVub2NvbXByb21pc2VkIENvbmRpdGlvbnMiXQ0KICAgICAgICAgIHVuaW9uIFtDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXM6ICJJbW11bm9jb21wcm9taXNlZCBDb25kaXRpb25zIl0NCiAgICAgICkNCiAgICAgIHVuaW9uICggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJNaXhlZCBIaXN0b2xvZ3kgVXJvdGhlbGlhbCBDZWxsIENhcmNpbm9tYSBmb3IgVXJvbG9neSBDYXJlIl0NCiAgICAgICAgICB1bmlvbiBbQ29uZGl0aW9uRW5jb3VudGVyRGlhZ25vc2lzOiAiTWl4ZWQgSGlzdG9sb2d5IFVyb3RoZWxpYWwgQ2VsbCBDYXJjaW5vbWEgZm9yIFVyb2xvZ3kgQ2FyZSJdDQogICAgICApICkgRXhjbHVzaW9uRGlhZ25vc2lzDQogICAgICB3aXRoICJGaXJzdCBCbGFkZGVyIENhbmNlciBTdGFnaW5nIFByb2NlZHVyZSIgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZw0KICAgICAgICBzdWNoIHRoYXQgKCAoIEV4Y2x1c2lvbkRpYWdub3Npcy5wcmV2YWxlbmNlSW50ZXJ2YWwgKCApIHN0YXJ0cyBvbiBvciBiZWZvcmUgZGF5IG9mIHN0YXJ0IG9mIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApICkNCiAgICAgICAgICAgIG9yICggRXhjbHVzaW9uRGlhZ25vc2lzLm9uc2V0LnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBvbiBvciBiZWZvcmUgZGF5IG9mIHN0YXJ0IG9mIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApICkNCiAgICAgICAgKQ0KICAgICAgd2hlcmUgRXhjbHVzaW9uRGlhZ25vc2lzLmlzVmVyaWZpZWQgKCApDQogICkNCg0KZGVmaW5lICJIYXMgRXhjbHVkaW5nIENoZW1vdGhlcmFweSBvciBSYWRpb3RoZXJhcHkgUHJvY2VkdXJlIEJlZm9yZSBTdGFnaW5nIjoNCiAgZXhpc3RzICggKCBbTWVkaWNhdGlvblJlcXVlc3Q6ICJDaGVtb3RoZXJhcHkgQWdlbnRzIGZvciBBZHZhbmNlZCBDYW5jZXIiXSBFeGNsdXNpb25NZWQNCiAgICAgICAgbGV0IGZpcnN0TWVkaWNhdGlvblBlcmlvZDogRmlyc3QoKGNvbGxhcHNlKEV4Y2x1c2lvbk1lZC5kb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmJvdW5kcyBEb3NlVGltZQ0KICAgICAgICAgICAgICByZXR1cm4gRG9zZVRpbWUudG9JbnRlcnZhbCgpDQogICAgICAgICAgKSkgRHJ1Z1BlcmlvZHMNCiAgICAgICAgICAgIHNvcnQgYnkgc3RhcnQgb2YgJHRoaXMNCiAgICAgICAgKQ0KICAgICAgICB3aXRoICJGaXJzdCBCbGFkZGVyIENhbmNlciBTdGFnaW5nIFByb2NlZHVyZSIgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZw0KICAgICAgICAgIHN1Y2ggdGhhdCBmaXJzdE1lZGljYXRpb25QZXJpb2Qgc3RhcnRzIDYgbW9udGhzIG9yIGxlc3MgYmVmb3JlIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgICAgIHdoZXJlIEV4Y2x1c2lvbk1lZC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICAgIGFuZCBFeGNsdXNpb25NZWQuaW50ZW50ID0gJ29yZGVyJw0KICAgICkNCiAgICAgIHVuaW9uICggW1Byb2NlZHVyZTogIkNvbWJpbmVkIHJhZGlvdGhlcmFweSAocHJvY2VkdXJlKSJdIEV4Y2x1c2lvblByb2NlZHVyZQ0KICAgICAgICAgIHdpdGggIkZpcnN0IEJsYWRkZXIgQ2FuY2VyIFN0YWdpbmcgUHJvY2VkdXJlIiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nDQogICAgICAgICAgICBzdWNoIHRoYXQgRXhjbHVzaW9uUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgNiBtb250aHMgb3IgbGVzcyBiZWZvcmUgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZy5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICAgICAgICB3aGVyZSBFeGNsdXNpb25Qcm9jZWR1cmUuc3RhdHVzIGluIHsgJ2NvbXBsZXRlZCcsICdpbi1wcm9ncmVzcycgfQ0KICAgICAgKQ0KICApDQoNCmRlZmluZSAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUiOg0KICBGaXJzdChbUHJvY2VkdXJlOiAiVHVtb3Igc3RhZ2luZyAodHVtb3Igc3RhZ2luZykiXSBCbGFkZGVyQ2FuY2VyU3RhZ2luZw0KICAgICAgd2l0aCAiQmxhZGRlciBDYW5jZXIgRGlhZ25vc2lzIiBCbGFkZGVyQ2FuY2VyDQogICAgICAgIHN1Y2ggdGhhdCBCbGFkZGVyQ2FuY2VyU3RhZ2luZy5wZXJmb3JtZWQudG9JbnRlcnZhbCgpIHN0YXJ0cyBvbiBvciBiZWZvcmUgZGF5IG9mIHN0YXJ0IG9mIEJsYWRkZXJDYW5jZXIucHJldmFsZW5jZUludGVydmFsKCkNCiAgICAgIHdoZXJlIEJsYWRkZXJDYW5jZXJTdGFnaW5nLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICBzb3J0IGJ5IHN0YXJ0IG9mIHBlcmZvcm1lZC50b0ludGVydmFsKCkNCiAgKQ0KDQpkZWZpbmUgIkhhcyBRdWFsaWZ5aW5nIEVuY291bnRlciI6DQogIGV4aXN0cyAoIFtFbmNvdW50ZXI6ICJPZmZpY2UgVmlzaXQiXSBWYWxpZEVuY291bnRlcg0KICAgICAgd2hlcmUgVmFsaWRFbmNvdW50ZXIucGVyaW9kIGR1cmluZyBkYXkgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgICAgICAgYW5kIFZhbGlkRW5jb3VudGVyLmNsYXNzICF+ICJ2aXJ0dWFsIg0KICAgICAgICBhbmQgVmFsaWRFbmNvdW50ZXIuc3RhdHVzID0gJ2ZpbmlzaGVkJw0KICApDQoNCmRlZmluZSAiQmxhZGRlciBDYW5jZXIgRGlhZ25vc2lzIjoNCiAgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkJsYWRkZXIgQ2FuY2VyIGZvciBVcm9sb2d5IENhcmUiXQ0KICAgIHVuaW9uIFtDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXM6ICJCbGFkZGVyIENhbmNlciBmb3IgVXJvbG9neSBDYXJlIl0gKSBCbGFkZGVyQ2FuY2VyDQogICAgd2hlcmUgKCBCbGFkZGVyQ2FuY2VyLnByZXZhbGVuY2VJbnRlcnZhbCAoICkgc3RhcnRzIGJlZm9yZSBkYXkgb2YgZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiDQogICAgICAgIG9yIEJsYWRkZXJDYW5jZXIub25zZXQudG9JbnRlcnZhbCAoICkgYmVmb3JlIGRheSBvZiBlbmQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgICApDQogICAgICBhbmQgQmxhZGRlckNhbmNlci5pc1ZlcmlmaWVkICggKQ0KDQpkZWZpbmUgIkJDRyBOb3QgQXZhaWxhYmxlIFdpdGhpbiA2IE1vbnRocyBBZnRlciBCbGFkZGVyIENhbmNlciBTdGFnaW5nIjoNCiAgW01lZGljYXRpb25BZG1pbmlzdHJhdGlvbk5vdERvbmU6ICJCYWNpbGx1cyBDYWxtZXR0ZSBHdWVyaW4gZm9yIFVyb2xvZ3kgQ2FyZSJdIEJDR05vdEdpdmVuDQogICAgd2l0aCAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUiIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcNCiAgICAgIHN1Y2ggdGhhdCBCQ0dOb3RHaXZlbi5yZWNvcmRlZCA2IG1vbnRocyBvciBsZXNzIGFmdGVyIGRheSBvZiBzdGFydCBvZiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nLnBlcmZvcm1lZC50b0ludGVydmFsICggKQ0KICAgIHdoZXJlIEJDR05vdEdpdmVuLnN0YXR1c1JlYXNvbiBpbiAiVW5hdmFpbGFiaWxpdHkgb2YgQmFjaWxsdXMgQ2FsbWV0dGUgR3VlcmluIGZvciBVcm9sb2d5IENhcmUiDQoNCmRlZmluZSAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUgZHVyaW5nIDYgTW9udGhzIFByaW9yIHRvIE1lYXN1cmVtZW50IFBlcmlvZCB0aHJvdWdoIHRoZSBGaXJzdCA2IE1vbnRocyBvZiBNZWFzdXJlbWVudCBQZXJpb2QiOg0KICAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUiIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcNCiAgICB3aGVyZSBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBkdXJpbmcgZGF5IG9mIEludGVydmFsWyJKdWx5IDEgb2YgWWVhciBQcmlvciB0byB0aGUgTWVhc3VyZW1lbnQgUGVyaW9kIiwgIkp1bmUgMzAgb2YgdGhlIE1lYXN1cmVtZW50IFBlcmlvZCJdDQoNCmRlZmluZSAiRmlyc3QgQkNHIEFkbWluaXN0ZXJlZCI6DQogIEZpcnN0KFtNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb246ICJCYWNpbGx1cyBDYWxtZXR0ZSBHdWVyaW4gZm9yIFVyb2xvZ3kgQ2FyZSJdIEJDRw0KICAgICAgd2l0aCAiRmlyc3QgQmxhZGRlciBDYW5jZXIgU3RhZ2luZyBQcm9jZWR1cmUiIEZpcnN0QmxhZGRlckNhbmNlclN0YWdpbmcNCiAgICAgICAgc3VjaCB0aGF0IEJDRy5lZmZlY3RpdmUudG9JbnRlcnZhbCgpIHN0YXJ0cyA2IG1vbnRocyBvciBsZXNzIGFmdGVyIGRheSBvZiBzdGFydCBvZiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nLnBlcmZvcm1lZC50b0ludGVydmFsKCkNCiAgICAgICAgICBhbmQgQkNHLmVmZmVjdGl2ZS50b0ludGVydmFsKCkgc3RhcnRzIGR1cmluZyBkYXkgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCINCiAgICAgIHdoZXJlIEJDRy5zdGF0dXMgaW4geyAnaW4tcHJvZ3Jlc3MnLCAnY29tcGxldGVkJyB9DQogICAgICBzb3J0IGJ5IHN0YXJ0IG9mIGVmZmVjdGl2ZS50b0ludGVydmFsKCkNCiAgKQ0KDQovKlRhIEhpZ2ggR3JhZGUgb25seSB0byBiZSBpbmNsdWRlZC4gIFRhIGxvdyBncmFkZSBpcyB0byBiZSBleGNsdWRlZCBmcm9tIHRoaXMgbWVhc3VyZS4qLw0KDQoNCmRlZmluZSAiSGFzIE1vc3QgUmVjZW50IEJsYWRkZXIgQ2FuY2VyIFR1bW9yIFN0YWdpbmcgaXMgVDEsIFRpcywgVGEgSEciOg0KICBleGlzdHMgKCBbTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uXSBTdGFnaW5nT2JzZXJ2YXRpb24NCiAgICAgIHdoZXJlIFN0YWdpbmdPYnNlcnZhdGlvbi5nZXRTdGFnaW5nUHJvY2VkdXJlICggKSBpcyBub3QgbnVsbA0KICAgICAgICBhbmQgKCBTdGFnaW5nT2JzZXJ2YXRpb24udmFsdWUgYXMgQ29uY2VwdCB+ICJBbWVyaWNhbiBKb2ludCBDb21taXR0ZWUgb24gQ2FuY2VyIGNUMSAocXVhbGlmaWVyIHZhbHVlKSINCiAgICAgICAgICAgIG9yIFN0YWdpbmdPYnNlcnZhdGlvbi52YWx1ZSBhcyBDb25jZXB0IH4gIkFtZXJpY2FuIEpvaW50IENvbW1pdHRlZSBvbiBDYW5jZXIgY1RpcyAocXVhbGlmaWVyIHZhbHVlKSINCiAgICAgICAgICAgIG9yIFN0YWdpbmdPYnNlcnZhdGlvbi52YWx1ZSBhcyBDb25jZXB0IH4gIkFtZXJpY2FuIEpvaW50IENvbW1pdHRlZSBvbiBDYW5jZXIgY1RhIChxdWFsaWZpZXIgdmFsdWUpIg0KICAgICAgICAgICAgb3IgU3RhZ2luZ09ic2VydmF0aW9uLnZhbHVlIGFzIENvbmNlcHQgfiAiQ2FyY2lub21hIGluIHNpdHUgb2YgYmxhZGRlciINCiAgICAgICAgKQ0KICAgICAgICBhbmQgU3RhZ2luZ09ic2VydmF0aW9uLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gZ2V0U3RhZ2luZ1Byb2NlZHVyZShTdGFnaW5nT2JzZXJ2YXRpb24gTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uKToNCiAgU3RhZ2luZ09ic2VydmF0aW9uLnBhcnRPZiBTdGFnaW5nUmVmZXJlbmNlDQogICAgcmV0dXJuICJGaXJzdCBCbGFkZGVyIENhbmNlciBTdGFnaW5nIFByb2NlZHVyZSBkdXJpbmcgNiBNb250aHMgUHJpb3IgdG8gTWVhc3VyZW1lbnQgUGVyaW9kIHRocm91Z2ggdGhlIEZpcnN0IDYgTW9udGhzIG9mIE1lYXN1cmVtZW50IFBlcmlvZCIgRmlyc3RCbGFkZGVyQ2FuY2VyU3RhZ2luZ01QDQogICAgICB3aGVyZSBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nTVAuaWQgPSBTdGFnaW5nUmVmZXJlbmNlLnJlZmVyZW5jZS5nZXRJZCAoICkNCg0KZGVmaW5lICJJbW11bm9zdXBwcmVzc2l2ZSBEcnVncyI6DQogIFtNZWRpY2F0aW9uUmVxdWVzdDogIkltbXVub3N1cHByZXNzaXZlIERydWdzIGZvciBVcm9sb2d5IENhcmUiXSBJbW11bm9zdXBwcmVzc2l2ZURydWdzDQogICAgbGV0IGZpcnN0TWVkaWNhdGlvblBlcmlvZDogRmlyc3QoKGNvbGxhcHNlKEltbXVub3N1cHByZXNzaXZlRHJ1Z3MuZG9zYWdlSW5zdHJ1Y3Rpb24udGltaW5nLnJlcGVhdC5ib3VuZHMgRG9zZVRpbWUNCiAgICAgICAgICByZXR1cm4gRG9zZVRpbWUudG9JbnRlcnZhbCgpDQogICAgICApKSBEcnVnUGVyaW9kcw0KICAgICAgICBzb3J0IGJ5IHN0YXJ0IG9mICR0aGlzDQogICAgKSwNCiAgICAvL2dldCB0aGUgdmVyeSBmaXJzdCBldmVudA0KICAgIA0KICAgIGZpcnN0TWVkaWNhdGlvbkV2ZW50OiBGaXJzdCgoSW1tdW5vc3VwcHJlc3NpdmVEcnVncy5kb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcgZG9zYWdlVGltaW5nDQogICAgICAgIC8vcmV0dXJuIGZpcnN0IGV2ZW50IGZvciB0aGUgc3BlY2lmaWMgZG9zYWdlVGltaW5nDQogICAgICAgIA0KICAgICAgICByZXR1cm4gRmlyc3QoZG9zYWdlVGltaW5nLmV2ZW50IGRvc2FnZVRpbWluZ0V2ZW50cw0KICAgICAgICAgICAgc29ydCBhc2NlbmRpbmcNCiAgICAgICAgKSkgZmlyc3RFdmVudHMNCiAgICAgICAgc29ydCBhc2NlbmRpbmcNCiAgICApLA0KICAgIG1lZGljYXRpb25QZXJpb2Q6IENvYWxlc2NlKGZpcnN0TWVkaWNhdGlvbkV2ZW50LnRvSW50ZXJ2YWwoKSwgZmlyc3RNZWRpY2F0aW9uUGVyaW9kKQ0KICAgIHdpdGggIkZpcnN0IEJsYWRkZXIgQ2FuY2VyIFN0YWdpbmcgUHJvY2VkdXJlIiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nDQogICAgICBzdWNoIHRoYXQgbWVkaWNhdGlvblBlcmlvZCBzdGFydHMgb24gb3IgYmVmb3JlIGRheSBvZiBzdGFydCBvZiBGaXJzdEJsYWRkZXJDYW5jZXJTdGFnaW5nLnBlcmZvcm1lZC50b0ludGVydmFsICggKQ0KICAgIHdoZXJlIEltbXVub3N1cHByZXNzaXZlRHJ1Z3Muc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdjb21wbGV0ZWQnIH0NCiAgICAgIGFuZCBJbW11bm9zdXBwcmVzc2l2ZURydWdzLmludGVudCA9ICdvcmRlcicNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBpc1ZlcmlmaWVkKGNvbmRpdGlvbiBDaG9pY2U8Q29uZGl0aW9uRW5jb3VudGVyRGlhZ25vc2lzLCBDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zPik6DQogIGNvbmRpdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgaXMgbm90IG51bGwgaW1wbGllcyAoIGNvbmRpdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgfiBRSUNvcmVDb21tb24uImNvbmZpcm1lZCINCiAgICAgIG9yIGNvbmRpdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgfiBRSUNvcmVDb21tb24uInVuY29uZmlybWVkIg0KICAgICAgb3IgY29uZGl0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyB+IFFJQ29yZUNvbW1vbi4icHJvdmlzaW9uYWwiDQogICAgICBvciBjb25kaXRpb24udmVyaWZpY2F0aW9uU3RhdHVzIH4gUUlDb3JlQ29tbW9uLiJkaWZmZXJlbnRpYWwiDQogICk=",
    "url": "https://madie.cms.gov/Library-CMS646FHIRIntravesicalBCGTherapy.cql"
  } ]
}